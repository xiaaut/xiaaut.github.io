<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <meta name="keywords" content="Hexo Theme Keep">
    <meta name="description" content="Hexo Theme Keep">
    <meta name="author" content="Xia">
    
    <title>
        
            黑马前端-Web Api笔记 |
        
        Xia&#39;s Blog
    </title>
    
<link rel="stylesheet" href="/css/style.css">

    <link rel="shortcut icon" href="https://cdn.jsdelivr.net/gh/xiaaut/image-hosting@master/20210425/微信图片_20210429002828.1t6piak21j4w.jpg">
    
<link rel="stylesheet" href="/css/font-awesome.min.css">

    <script id="hexo-configurations">
    let KEEP = window.KEEP || {};
    KEEP.hexo_config = {"hostname":"example.com","root":"/","language":"en","path":"search.json"};
    KEEP.theme_config = {"toc":{"enable":true,"number":false,"expand_all":true,"init_open":true},"style":{"primary_color":"#0066CC","avatar":"https://cdn.jsdelivr.net/gh/xiaaut/image-hosting@master/20210425/微信图片_20210429002828.1t6piak21j4w.jpg","favicon":"https://cdn.jsdelivr.net/gh/xiaaut/image-hosting@master/20210425/微信图片_20210429002828.1t6piak21j4w.jpg","article_img_align":"left","left_side_width":"260px","content_max_width":"920px","hover":{"shadow":false,"scale":false},"first_screen":{"enable":true,"background_img":"/images/bg.svg","description":"学而不思则罔，思而不学则殆。"},"scroll":{"progress_bar":{"enable":false},"percent":{"enable":true}}},"local_search":{"enable":true,"preload":false},"code_copy":{"enable":true,"style":"default"},"pjax":{"enable":true},"lazyload":{"enable":true},"version":"3.4.3"};
    KEEP.language_ago = {"second":"%s seconds ago","minute":"%s minutes ago","hour":"%s hours ago","day":"%s days ago","week":"%s weeks ago","month":"%s months ago","year":"%s years ago"};
  </script>
<meta name="generator" content="Hexo 5.4.0"></head>


<body>
<div class="progress-bar-container">
    

    
        <span class="pjax-progress-bar"></span>
        <span class="pjax-progress-icon">
            <i class="fas fa-circle-notch fa-spin"></i>
        </span>
    
</div>


<main class="page-container">

    

    <div class="page-main-content">

        <div class="page-main-content-top">
            <header class="header-wrapper">

    <div class="header-content">
        <div class="left">
            
            <a class="logo-title" href="/">
                Xia&#39;s Blog
            </a>
        </div>

        <div class="right">
            <div class="pc">
                <ul class="menu-list">
                    
                        <li class="menu-item">
                            <a class=""
                               href="/"
                            >
                                HOME
                            </a>
                        </li>
                    
                        <li class="menu-item">
                            <a class=""
                               href="/archives"
                            >
                                ARCHIVES
                            </a>
                        </li>
                    
                        <li class="menu-item">
                            <a class=""
                               href="/categories"
                            >
                                CATEGORIES
                            </a>
                        </li>
                    
                        <li class="menu-item">
                            <a class=""
                               href="/tags"
                            >
                                TAGS
                            </a>
                        </li>
                    
                    
                        <li class="menu-item search search-popup-trigger">
                            <i class="fas fa-search"></i>
                        </li>
                    
                </ul>
            </div>
            <div class="mobile">
                
                    <div class="icon-item search search-popup-trigger"><i class="fas fa-search"></i></div>
                
                <div class="icon-item menu-bar">
                    <div class="menu-bar-middle"></div>
                </div>
            </div>
        </div>
    </div>

    <div class="header-drawer">
        <ul class="drawer-menu-list">
            
                <li class="drawer-menu-item flex-center">
                    <a class=""
                       href="/">HOME</a>
                </li>
            
                <li class="drawer-menu-item flex-center">
                    <a class=""
                       href="/archives">ARCHIVES</a>
                </li>
            
                <li class="drawer-menu-item flex-center">
                    <a class=""
                       href="/categories">CATEGORIES</a>
                </li>
            
                <li class="drawer-menu-item flex-center">
                    <a class=""
                       href="/tags">TAGS</a>
                </li>
            
        </ul>
    </div>

    <div class="window-mask"></div>

</header>


        </div>

        <div class="page-main-content-middle">

            <div class="main-content">

                
                    <div class="fade-in-down-animation">
    <div class="article-content-container">

        <div class="article-title">
            <span class="title-hover-animation">黑马前端-Web Api笔记</span>
        </div>

        
            <div class="article-header">
                <div class="avatar">
                    <img src="https://cdn.jsdelivr.net/gh/xiaaut/image-hosting@master/20210425/%E5%BE%AE%E4%BF%A1%E5%9B%BE%E7%89%87_20210429002828.1t6piak21j4w.jpg">
                </div>
                <div class="info">
                    <div class="author">
                        <span class="name">Xia</span>
                        
                            <span class="author-label">Lv3</span>
                        
                    </div>
                    <div class="meta-info">
                        <div class="article-meta-info">
    <span class="article-date article-meta-item">
        <i class="fas fa-edit"></i>&nbsp;2021-10-16 13:20:25
    </span>
    
        <span class="article-categories article-meta-item">
            <i class="fas fa-folder"></i>&nbsp;
            <ul>
                
                    <li>
                        <a href="/categories/%E9%BB%91%E9%A9%AC%E5%89%8D%E7%AB%AF/">黑马前端</a>&nbsp;
                    </li>
                
            </ul>
        </span>
    
    
        <span class="article-tags article-meta-item">
            <i class="fas fa-tags"></i>&nbsp;
            <ul>
                
                    <li>
                        <a href="/tags/JS/">JS</a>&nbsp;
                    </li>
                
            </ul>
        </span>
    

    
    
    
    
        <span class="article-pv article-meta-item">
            <i class="fas fa-eye"></i>&nbsp;<span id="busuanzi_value_page_pv"></span>
        </span>
    
</div>

                    </div>
                </div>
            </div>
        

        <div class="article-content markdown-body">
            <h1 id="Web-APIs-和-JS-基础关联性"><a href="#Web-APIs-和-JS-基础关联性" class="headerlink" title="Web APIs 和 JS 基础关联性"></a>Web APIs 和 JS 基础关联性</h1><h2 id="JS-的组成"><a href="#JS-的组成" class="headerlink" title="JS 的组成"></a>JS 的组成</h2><p>![](C:\Users\Xia\Desktop\web api笔记\images\Snipaste_2020-09-11_00-12-30.png)</p>
<h2 id="JS-基础阶段以及-Web-APIs-阶段"><a href="#JS-基础阶段以及-Web-APIs-阶段" class="headerlink" title="JS 基础阶段以及 Web APIs 阶段"></a>JS 基础阶段以及 Web APIs 阶段</h2><p>![](C:\Users\Xia\Desktop\web api笔记\images\Snipaste_2020-09-11_00-13-45.png)</p>
<p>JS 基础学习 ECMAScript 基础语法为后面作铺垫， Web APIs 是 JS 的应用，大量使用 JS </p>
<p>基础语法做交互效果。</p>
<h1 id="API-和-Web-API"><a href="#API-和-Web-API" class="headerlink" title="API 和 Web API"></a>API 和 Web API</h1><h2 id="API"><a href="#API" class="headerlink" title="API"></a>API</h2><p>API（Application Programming Interface,应用程序编程接口）是一些预先定义的函</p>
<p>数，目的是提供应用程序 与开发人员基于某软件或硬件得以访问一组例程的能力，而又</p>
<p>无需访问源码，或理解内部工作机制的细节。 </p>
<p>简单理解： API 是给程序员提供的一种工具，以便能更轻松的实现想要完成的功能。 </p>
<p>比如手机充电的接口： </p>
<p>我们要实现充电这个功能： </p>
<ul>
<li>我们不关心手机内部变压器，内部怎么存储电等</li>
<li>我们不关心这个充电线怎么制作的</li>
<li>我们只知道，我们拿着充电线插进充电接口就可以充电</li>
<li>这个充电接口就是一个 API </li>
</ul>
<h2 id="Web-API"><a href="#Web-API" class="headerlink" title="Web API"></a>Web API</h2><p>Web API 是浏览器提供的一套操作浏览器功能和页面元素的 API ( BOM 和 DOM )。 </p>
<p>现阶段我们主要针对于浏览器讲解常用的 API , 主要针对浏览器做交互效果。</p>
<p>比如我们想要浏览器弹出一个警示框， 直接使用 alert(‘弹出’) </p>
<p>MDN 详细 API : <a class="link"   target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/API" >https://developer.mozilla.org/zh-CN/docs/Web/API<i class="fas fa-external-link-alt"></i></a> </p>
<p>因为 Web API 很多，所以我们将这个阶段称为 Web APIs </p>
<h2 id="API-和-Web-API-总结"><a href="#API-和-Web-API-总结" class="headerlink" title="API 和 Web API 总结"></a>API 和 Web API 总结</h2><ol>
<li><p>API 是为我们程序员提供的一个接口，帮助我们实现某种功能，我们会使用就可以</p>
<p>了，不必纠结内部如何实现</p>
</li>
<li><p>Web API 主要是针对于浏览器提供的接口，主要针对于浏览器做交互效果</p>
</li>
<li><p>Web API 一般都有输入和输出（函数的传参和返回值），Web API 很多都是方法</p>
<p>（函数）</p>
</li>
<li><p>学习 Web API 可以结合前面学习内置对象方法的思路学习</p>
</li>
</ol>
<h1 id="DOM"><a href="#DOM" class="headerlink" title="DOM"></a>DOM</h1><h2 id="DOM简介"><a href="#DOM简介" class="headerlink" title="DOM简介"></a>DOM简介</h2><h3 id="什么是-DOM"><a href="#什么是-DOM" class="headerlink" title="什么是 DOM"></a>什么是 DOM</h3><p>文档对象模型（Document Object Model，简称 DOM），是 W3C 组织推荐的处理可扩</p>
<p>展标记语言（HTML 或者XML）的标准编程接口。</p>
<p>W3C 已经定义了一系列的 DOM 接口，通过这些 DOM 接口可以改变网页的内容、结构</p>
<p>和样式。</p>
<h3 id="DOM-树"><a href="#DOM-树" class="headerlink" title="DOM 树"></a>DOM 树</h3><p>![](C:\Users\Xia\Desktop\web api笔记\images\Snipaste_2020-09-11_00-22-54.png)</p>
<ul>
<li><p>文档：一个页面就是一个文档，DOM 中使用 document 表示</p>
</li>
<li><p>元素：页面中的所有标签都是元素，DOM 中使用 element 表示</p>
</li>
<li><p>节点：网页中的所有内容都是节点（标签、属性、文本、注释等），DOM 中使用 </p>
<p>node 表示 </p>
</li>
</ul>
<p>DOM 把以上内容都看做是对象</p>
<h2 id="获取元素"><a href="#获取元素" class="headerlink" title="获取元素"></a>获取元素</h2><h3 id="如何获取页面元素"><a href="#如何获取页面元素" class="headerlink" title="如何获取页面元素"></a>如何获取页面元素</h3><p>DOM在我们实际开发中主要用来操作元素。 </p>
<p>获取页面中的元素可以使用以下几种方式: </p>
<ul>
<li>根据 ID 获取</li>
<li>根据标签名获取</li>
<li>通过 HTML5 新增的方法获取</li>
<li>特殊元素获取</li>
</ul>
<h3 id="根据-ID-获取"><a href="#根据-ID-获取" class="headerlink" title="根据 ID 获取"></a>根据 ID 获取</h3><p>使用 getElementById() 方法可以获取带有 ID 的元素对象。 </p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">document.getElementById(&#x27;id&#x27;);</span><br></pre></td></tr></table></figure>

<ol>
<li>因为我们文档页面从上往下加载，所以先得有标签 所以我们script写到标签的下面</li>
<li>get 获得 element 元素 by 通过 驼峰命名法</li>
<li>参数 id是大小写敏感的字符串</li>
<li>返回的是一个元素对象</li>
</ol>
<p>使用 console.dir() 可以打印我们获取的元素对象，更好的查看对象里面的属性和方法。 </p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">console.dir(timer);</span><br></pre></td></tr></table></figure>

<h3 id="根据标签名获取"><a href="#根据标签名获取" class="headerlink" title="根据标签名获取"></a>根据标签名获取</h3><p>使用 getElementsByTagName() 方法可以返回带有指定标签名的对象的集合。 </p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">document.getElementsByTagName(&#x27;标签名&#x27;); </span><br></pre></td></tr></table></figure>

<p>注意：</p>
<ol>
<li>因为得到的是一个对象的集合，所以我们想要操作里面的元素就需要遍历。</li>
<li>得到元素对象是动态的</li>
<li>如果获取不到元素,则返回为空的伪数组(因为获取不到对象) </li>
</ol>
<p>还可以获取某个元素(父元素)内部所有指定标签名的子元素。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">element.getElementsByTagName(&#x27;标签名&#x27;); </span><br></pre></td></tr></table></figure>

<p>注意：父元素必须是单个对象(必须指明是哪一个元素对象)。获取的时候不包括父元素自</p>
<p>己。 </p>
<h3 id="通过-HTML5-新增的方法获取"><a href="#通过-HTML5-新增的方法获取" class="headerlink" title="通过 HTML5 新增的方法获取"></a>通过 HTML5 新增的方法获取</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">1. document.getElementsByClassName(‘类名’)；// 根据类名返回元素对象集合</span><br></pre></td></tr></table></figure>

<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">2. document.querySelector(&#x27;选择器&#x27;);    // 根据指定选择器返回第一个元素对象 </span><br></pre></td></tr></table></figure>

<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">3. document.querySelectorAll(&#x27;选择器&#x27;);   // 根据指定选择器返回所有元素对象 </span><br></pre></td></tr></table></figure>

<p>注意：</p>
<p>querySelector 和 querySelectorAll里面的选择器需要加符号,比如：document.querySelector(‘#nav’)；</p>
<h3 id="获取特殊元素（body，html）"><a href="#获取特殊元素（body，html）" class="headerlink" title="获取特殊元素（body，html）"></a>获取特殊元素（body，html）</h3><p>获取 body 元素</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">doucumnet.body  // 返回body元素对象 </span><br></pre></td></tr></table></figure>

<p>获取 html 元素</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">document.documentElement  // 返回html元素对象 </span><br></pre></td></tr></table></figure>

<h2 id="事件基础"><a href="#事件基础" class="headerlink" title="事件基础"></a>事件基础</h2><h3 id="事件概述"><a href="#事件概述" class="headerlink" title="事件概述"></a>事件概述</h3><p>JavaScript 使我们有能力创建动态页面，而事件是可以被 JavaScript 侦测到的行为。</p>
<p>简单理解： 触发— 响应机制。 </p>
<p>网页中的每个元素都可以产生某些可以触发 JavaScript 的事件，例如，我们可以在用户点击某按钮时产生一个 事件，然后去执行某些操作。 </p>
<h3 id="事件三要素"><a href="#事件三要素" class="headerlink" title="事件三要素"></a>事件三要素</h3><ol>
<li>事件源 （谁） </li>
<li>事件类型 （什么事件） </li>
<li>事件处理程序 （做啥）</li>
</ol>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">&quot;btn&quot;</span>&gt;</span>唐伯虎<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">    <span class="comment">// 点击一个按钮，弹出对话框</span></span></span><br><span class="line"><span class="javascript">    <span class="comment">// 1. 事件是有三部分组成  事件源  事件类型  事件处理程序   我们也称为事件三要素</span></span></span><br><span class="line"><span class="javascript">    <span class="comment">//(1) 事件源 事件被触发的对象   谁  按钮</span></span></span><br><span class="line"><span class="javascript">    <span class="keyword">var</span> btn = <span class="built_in">document</span>.getElementById(<span class="string">&#x27;btn&#x27;</span>);</span></span><br><span class="line"><span class="javascript">    <span class="comment">//(2) 事件类型  如何触发 什么事件 比如鼠标点击(onclick) 还是鼠标经过 还是键盘按下</span></span></span><br><span class="line"><span class="javascript">    <span class="comment">//(3) 事件处理程序  通过一个函数赋值的方式 完成</span></span></span><br><span class="line"><span class="javascript">    btn.onclick = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">        alert(<span class="string">&#x27;点秋香&#x27;</span>);</span></span><br><span class="line">    &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="执行事件的步骤"><a href="#执行事件的步骤" class="headerlink" title="执行事件的步骤"></a>执行事件的步骤</h3><ol>
<li>获取事件源 </li>
<li>注册事件（绑定事件） </li>
<li>添加事件处理程序（采取函数赋值形式） </li>
</ol>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span>123<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">    <span class="comment">// 执行事件步骤</span></span></span><br><span class="line"><span class="javascript">    <span class="comment">// 点击div 控制台输出 我被选中了</span></span></span><br><span class="line"><span class="javascript">    <span class="comment">// 1. 获取事件源</span></span></span><br><span class="line"><span class="javascript">    <span class="keyword">var</span> div = <span class="built_in">document</span>.querySelector(<span class="string">&#x27;div&#x27;</span>);</span></span><br><span class="line"><span class="javascript">    <span class="comment">// 2.绑定事件 注册事件</span></span></span><br><span class="line"><span class="javascript">    <span class="comment">// div.onclick </span></span></span><br><span class="line"><span class="javascript">    <span class="comment">// 3.添加事件处理程序 </span></span></span><br><span class="line"><span class="javascript">    div.onclick = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(<span class="string">&#x27;我被选中了&#x27;</span>);</span></span><br><span class="line">    &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="常见的鼠标事件"><a href="#常见的鼠标事件" class="headerlink" title="常见的鼠标事件"></a>常见的鼠标事件</h3><table>
<thead>
<tr>
<th>鼠标事件</th>
<th>触发条件</th>
</tr>
</thead>
<tbody><tr>
<td>onlick</td>
<td>鼠标点击左键触发</td>
</tr>
<tr>
<td>onmouseover</td>
<td>鼠标经过触发</td>
</tr>
<tr>
<td>onmouseout</td>
<td>鼠标离开触发</td>
</tr>
<tr>
<td>onfocus</td>
<td>获得鼠标焦点触发</td>
</tr>
<tr>
<td>onblur</td>
<td>失去鼠标焦点触发</td>
</tr>
<tr>
<td>onmousemove</td>
<td>鼠标移动触发</td>
</tr>
<tr>
<td>onmouseup</td>
<td>鼠标弹起触发</td>
</tr>
<tr>
<td>onmousedown</td>
<td>鼠标按下触发</td>
</tr>
</tbody></table>
<h2 id="操作元素"><a href="#操作元素" class="headerlink" title="操作元素"></a>操作元素</h2><p>JavaScript 的 DOM 操作可以改变网页内容、结构和样式，我们可以利用 DOM 操作元素来改变元素里面的内 容 、属性等。注意以下都是属性</p>
<h3 id="改变元素内容"><a href="#改变元素内容" class="headerlink" title="改变元素内容"></a>改变元素内容</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">element.innerText</span><br></pre></td></tr></table></figure>

<p>从起始位置到终止位置的内容, 但它去除 html 标签， 同时空格和换行也会去掉 </p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">element.innerHTML </span><br></pre></td></tr></table></figure>

<p>起始位置到终止位置的全部内容，包括 html 标签，同时保留空格和换行</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">// 我们元素可以不用添加事件</span><br><span class="line">var p = document.querySelector(&#x27;p&#x27;);</span><br><span class="line">p.innerHTML = getDate();</span><br></pre></td></tr></table></figure>

<p>常用元素的属性操作</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">1. innerText、innerHTML 改变元素内容 </span><br><span class="line">2. src、href </span><br><span class="line">3. id、alt、title </span><br></pre></td></tr></table></figure>

<h3 id="表单元素的属性操作"><a href="#表单元素的属性操作" class="headerlink" title="表单元素的属性操作"></a>表单元素的属性操作</h3><p>利用 DOM 可以操作如下表单元素的属性： </p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">type、value、checked、selected、disabled </span><br></pre></td></tr></table></figure>

<h4 id="案例：仿京东显示密码"><a href="#案例：仿京东显示密码" class="headerlink" title="案例：仿京东显示密码"></a>案例：仿京东显示密码</h4><p>点击按钮将密码框切换为文本框，并可以查看密码明文。</p>
<p>![](C:\Users\Xia\Desktop\web api笔记\images\Snipaste_2020-09-11_21-45-08.png)</p>
<p>案例分析：</p>
<ol>
<li>核心思路：  点击眼睛按钮，把密码框类型改为文本框就可以看见里面的密码</li>
<li>一个按钮两个状态，点击一次，切换为文本框，继续点击一次切换为密码框</li>
<li>算法：利用一个flag变量，来判断flag的值，如果是1 就切换为文本框，flag 设置为0，如 果是0 就切换为密码框，flag设置为1 </li>
</ol>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">    <span class="comment">// 1. 获取元素</span></span></span><br><span class="line"><span class="javascript">    <span class="keyword">var</span> eye = <span class="built_in">document</span>.getElementById(<span class="string">&#x27;eye&#x27;</span>);</span></span><br><span class="line"><span class="javascript">    <span class="keyword">var</span> pwd = <span class="built_in">document</span>.getElementById(<span class="string">&#x27;pwd&#x27;</span>);</span></span><br><span class="line"><span class="javascript">    <span class="comment">// 2. 注册事件 处理程序</span></span></span><br><span class="line"><span class="javascript">    <span class="keyword">var</span> flag = <span class="number">0</span>;</span></span><br><span class="line"><span class="javascript">    eye.onclick = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">        <span class="comment">// 点击一次之后， flag 一定要变化</span></span></span><br><span class="line">        if (flag == 0) &#123;</span><br><span class="line"><span class="javascript">            pwd.type = <span class="string">&#x27;text&#x27;</span>;</span></span><br><span class="line"><span class="javascript">            eye.src = <span class="string">&#x27;images/open.png&#x27;</span>;</span></span><br><span class="line"><span class="javascript">            flag = <span class="number">1</span>; <span class="comment">// 赋值操作</span></span></span><br><span class="line"><span class="javascript">        &#125; <span class="keyword">else</span> &#123;</span></span><br><span class="line"><span class="javascript">            pwd.type = <span class="string">&#x27;password&#x27;</span>;</span></span><br><span class="line"><span class="javascript">            eye.src = <span class="string">&#x27;images/close.png&#x27;</span>;</span></span><br><span class="line">            flag = 0;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="样式属性操作"><a href="#样式属性操作" class="headerlink" title="样式属性操作"></a>样式属性操作</h3><p>我们可以通过 JS 修改元素的大小、颜色、位置等样式。 </p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">1. element.style      行内样式操作</span><br><span class="line">2. element.className  类名样式操作</span><br></pre></td></tr></table></figure>

<p>注意：</p>
<ol>
<li>JS 里面的样式采取驼峰命名法 比如 fontSize、 backgroundColor</li>
<li>JS 修改 style 样式操作，产生的是行内样式，CSS 权重比较高</li>
<li>如果样式修改较多，可以采取操作类名方式更改元素样式</li>
<li>class因为是个保留字，因此使用className来操作元素类名属性</li>
<li>className 会直接更改元素的类名，会覆盖原先的类名</li>
</ol>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">   <span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="css">       <span class="selector-tag">div</span> &#123;</span></span><br><span class="line"><span class="css">           <span class="attribute">width</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="css">           <span class="attribute">height</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="css">           <span class="attribute">background-color</span>: pink;</span></span><br><span class="line">       &#125;</span><br><span class="line">       </span><br><span class="line">       .change &#123;</span><br><span class="line"><span class="css">           <span class="attribute">background-color</span>: purple;</span></span><br><span class="line"><span class="css">           <span class="attribute">color</span>: <span class="number">#fff</span>;</span></span><br><span class="line"><span class="css">           <span class="attribute">font-size</span>: <span class="number">25px</span>;</span></span><br><span class="line"><span class="css">           <span class="attribute">margin-top</span>: <span class="number">100px</span>;</span></span><br><span class="line">       &#125;</span><br><span class="line">   <span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;first&quot;</span>&gt;</span>文本<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">       <span class="comment">// 1. 使用 element.style 获得修改元素样式  如果样式比较少 或者 功能简单的情况下使用</span></span></span><br><span class="line"><span class="javascript">       <span class="keyword">var</span> test = <span class="built_in">document</span>.querySelector(<span class="string">&#x27;div&#x27;</span>);</span></span><br><span class="line"><span class="javascript">       test.onclick = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">           <span class="comment">// this.style.backgroundColor = &#x27;purple&#x27;;</span></span></span><br><span class="line"><span class="javascript">           <span class="comment">// this.style.color = &#x27;#fff&#x27;;</span></span></span><br><span class="line"><span class="javascript">           <span class="comment">// this.style.fontSize = &#x27;25px&#x27;;</span></span></span><br><span class="line"><span class="javascript">           <span class="comment">// this.style.marginTop = &#x27;100px&#x27;;</span></span></span><br><span class="line"><span class="javascript">           <span class="comment">// 让我们当前元素的类名改为了 change</span></span></span><br><span class="line"><span class="javascript">           <span class="comment">// 2. 我们可以通过 修改元素的className更改元素的样式 适合于样式较多或者功能复杂的情况</span></span></span><br><span class="line"><span class="javascript">           <span class="comment">// 3. 如果想要保留原先的类名，我们可以这么做 多类名选择器</span></span></span><br><span class="line"><span class="javascript">           <span class="comment">// this.className = &#x27;change&#x27;;</span></span></span><br><span class="line"><span class="javascript">           <span class="built_in">this</span>.className = <span class="string">&#x27;first change&#x27;</span>;</span></span><br><span class="line">       &#125;</span><br><span class="line">   <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="案例：循环精灵图"><a href="#案例：循环精灵图" class="headerlink" title="案例：循环精灵图"></a>案例：循环精灵图</h4><p>可以利用 for 循环设置一组元素的精灵图背景</p>
<p>![](C:\Users\Xia\Desktop\web api笔记\images\Snipaste_2020-09-11_21-47-53.png)</p>
<p>案例分析：</p>
<ol>
<li>首先精灵图图片排列有规律的</li>
<li>核心思路： 利用for循环  修改精灵图片的 背景位置 background-position</li>
<li>剩下的就是考验你的数学功底了</li>
<li>让循环里面的 i 索引号 * 44 就是每个图片的y坐标</li>
</ol>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">    <span class="comment">// 1. 获取元素 所有的小li </span></span></span><br><span class="line"><span class="javascript">    <span class="keyword">var</span> lis = <span class="built_in">document</span>.querySelectorAll(<span class="string">&#x27;li&#x27;</span>);</span></span><br><span class="line"><span class="javascript">    <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; lis.length; i++) &#123;</span></span><br><span class="line"><span class="javascript">        <span class="comment">// 让索引号 乘以 44 就是每个li 的背景y坐标  index就是我们的y坐标</span></span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> index = i * <span class="number">44</span>;</span></span><br><span class="line"><span class="javascript">        lis[i].style.backgroundPosition = <span class="string">&#x27;0 -&#x27;</span> + index + <span class="string">&#x27;px&#x27;</span>;</span></span><br><span class="line">    &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="案例：显示隐藏文本框内容"><a href="#案例：显示隐藏文本框内容" class="headerlink" title="案例：显示隐藏文本框内容"></a>案例：显示隐藏文本框内容</h4><p>当鼠标点击文本框时，里面的默认文字隐藏，当鼠标离开文本框时，里面的文字显示。</p>
<p>![](C:\Users\Xia\Desktop\web api笔记\images\Snipaste_2020-09-11_21-49-57.png)</p>
<p>案例分析：</p>
<ol>
<li>首先表单需要2个新事件，获得焦点 onfocus  失去焦点 onblur</li>
<li>如果获得焦点， 判断表单里面内容是否为默认文字，如果是默认文字，就清空表单内容</li>
<li>如果失去焦点， 判断表单内容是否为空，如果为空，则表单内容改为默认文字</li>
</ol>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="css">    <span class="selector-tag">input</span> &#123;</span></span><br><span class="line"><span class="css">        <span class="attribute">color</span>: <span class="number">#999</span>;</span></span><br><span class="line">    &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">value</span>=<span class="string">&quot;手机&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">    <span class="comment">// 1.获取元素</span></span></span><br><span class="line"><span class="javascript">    <span class="keyword">var</span> text = <span class="built_in">document</span>.querySelector(<span class="string">&#x27;input&#x27;</span>);</span></span><br><span class="line"><span class="javascript">    <span class="comment">// 2.注册事件 获得焦点事件 onfocus </span></span></span><br><span class="line"><span class="javascript">    text.onfocus = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">            <span class="comment">// console.log(&#x27;得到了焦点&#x27;);</span></span></span><br><span class="line"><span class="javascript">            <span class="keyword">if</span> (<span class="built_in">this</span>.value === <span class="string">&#x27;手机&#x27;</span>) &#123;</span></span><br><span class="line"><span class="javascript">                <span class="built_in">this</span>.value = <span class="string">&#x27;&#x27;</span>;</span></span><br><span class="line">            &#125;</span><br><span class="line"><span class="javascript">            <span class="comment">// 获得焦点需要把文本框里面的文字颜色变黑</span></span></span><br><span class="line"><span class="javascript">            <span class="built_in">this</span>.style.color = <span class="string">&#x27;#333&#x27;</span>;</span></span><br><span class="line">        &#125;</span><br><span class="line"><span class="javascript">        <span class="comment">// 3. 注册事件 失去焦点事件 onblur</span></span></span><br><span class="line"><span class="javascript">    text.onblur = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">        <span class="comment">// console.log(&#x27;失去了焦点&#x27;);</span></span></span><br><span class="line"><span class="javascript">        <span class="keyword">if</span> (<span class="built_in">this</span>.value === <span class="string">&#x27;&#x27;</span>) &#123;</span></span><br><span class="line"><span class="javascript">            <span class="built_in">this</span>.value = <span class="string">&#x27;手机&#x27;</span>;</span></span><br><span class="line">        &#125;</span><br><span class="line"><span class="javascript">        <span class="comment">// 失去焦点需要把文本框里面的文字颜色变浅色</span></span></span><br><span class="line"><span class="javascript">        <span class="built_in">this</span>.style.color = <span class="string">&#x27;#999&#x27;</span>;</span></span><br><span class="line">    &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="案例：密码框格式提示错误信息"><a href="#案例：密码框格式提示错误信息" class="headerlink" title="案例：密码框格式提示错误信息"></a>案例：密码框格式提示错误信息</h4><p>用户如果离开密码框，里面输入个数不是6~16，则提示错误信息，否则提示输入正确信息 </p>
<p>![](C:\Users\Xia\Desktop\web api笔记\images\Snipaste_2020-09-12_13-48-15.png)</p>
<p>案例分析：</p>
<ol>
<li>首先判断的事件是表单失去焦点 onblur</li>
<li>如果输入正确则提示正确的信息颜色为绿色小图标变化</li>
<li>如果输入不是6到16位，则提示错误信息颜色为红色 小图标变化</li>
<li>因为里面变化样式较多，我们采取className修改样式</li>
</ol>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;register&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;password&quot;</span> <span class="attr">class</span>=<span class="string">&quot;ipt&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">&quot;message&quot;</span>&gt;</span>请输入6~16位密码<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">    <span class="comment">// 首先判断的事件是表单失去焦点 onblur</span></span></span><br><span class="line"><span class="javascript">    <span class="comment">// 如果输入正确则提示正确的信息颜色为绿色小图标变化</span></span></span><br><span class="line"><span class="javascript">    <span class="comment">// 如果输入不是6到16位，则提示错误信息颜色为红色 小图标变化</span></span></span><br><span class="line"><span class="javascript">    <span class="comment">// 因为里面变化样式较多，我们采取className修改样式</span></span></span><br><span class="line"><span class="javascript">    <span class="comment">// 1.获取元素</span></span></span><br><span class="line"><span class="javascript">    <span class="keyword">var</span> ipt = <span class="built_in">document</span>.querySelector(<span class="string">&#x27;.ipt&#x27;</span>);</span></span><br><span class="line"><span class="javascript">    <span class="keyword">var</span> message = <span class="built_in">document</span>.querySelector(<span class="string">&#x27;.message&#x27;</span>);</span></span><br><span class="line"><span class="javascript">    <span class="comment">//2. 注册事件 失去焦点</span></span></span><br><span class="line"><span class="javascript">    ipt.onblur = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">        <span class="comment">// 根据表单里面值的长度 ipt.value.length</span></span></span><br><span class="line"><span class="javascript">        <span class="keyword">if</span> (<span class="built_in">this</span>.value.length &lt; <span class="number">6</span> || <span class="built_in">this</span>.value.length &gt; <span class="number">16</span>) &#123;</span></span><br><span class="line"><span class="javascript">            <span class="comment">// console.log(&#x27;错误&#x27;);</span></span></span><br><span class="line"><span class="javascript">            message.className = <span class="string">&#x27;message wrong&#x27;</span>;</span></span><br><span class="line"><span class="javascript">            message.innerHTML = <span class="string">&#x27;您输入的位数不对要求6~16位&#x27;</span>;</span></span><br><span class="line"><span class="javascript">        &#125; <span class="keyword">else</span> &#123;</span></span><br><span class="line"><span class="javascript">            message.className = <span class="string">&#x27;message right&#x27;</span>;</span></span><br><span class="line"><span class="javascript">            message.innerHTML = <span class="string">&#x27;您输入的正确&#x27;</span>;</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="操作元素总结"><a href="#操作元素总结" class="headerlink" title="操作元素总结"></a>操作元素总结</h3><p>操作元素是 DOM 核心内容。</p>
<p>![](C:\Users\Xia\Desktop\web api笔记\images\Snipaste_2020-09-11_16-21-18.png)</p>
<h3 id="排他思想"><a href="#排他思想" class="headerlink" title="排他思想"></a>排他思想</h3><p>![](C:\Users\Xia\Desktop\web api笔记\images\Snipaste_2020-09-12_13-53-39.png)</p>
<p>如果有同一组元素，我们想要某一个元素实现某种样式， 需要用到循环的排他思想算法：</p>
<ol>
<li>所有元素全部清除样式（干掉其他人） </li>
<li>给当前元素设置样式 （留下我自己） </li>
<li>注意顺序不能颠倒，首先干掉其他人，再设置自己 </li>
</ol>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">button</span>&gt;</span>按钮1<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span>&gt;</span>按钮2<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span>&gt;</span>按钮3<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">    <span class="comment">// 1. 获取所有按钮元素</span></span></span><br><span class="line"><span class="javascript">    <span class="keyword">var</span> btns = <span class="built_in">document</span>.getElementsByTagName(<span class="string">&#x27;button&#x27;</span>);</span></span><br><span class="line"><span class="javascript">    <span class="comment">// btns得到的是伪数组  里面的每一个元素 btns[i]</span></span></span><br><span class="line"><span class="javascript">    <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; btns.length; i++) &#123;</span></span><br><span class="line"><span class="javascript">        btns[i].onclick = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">            <span class="comment">// (1) 我们先把所有的按钮背景颜色去掉  干掉所有人</span></span></span><br><span class="line"><span class="javascript">            <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; btns.length; i++) &#123;</span></span><br><span class="line"><span class="javascript">                btns[i].style.backgroundColor = <span class="string">&#x27;&#x27;</span>;</span></span><br><span class="line">            &#125;</span><br><span class="line"><span class="javascript">            <span class="comment">// (2) 然后才让当前的元素背景颜色为pink 留下我自己</span></span></span><br><span class="line"><span class="javascript">            <span class="built_in">this</span>.style.backgroundColor = <span class="string">&#x27;pink&#x27;</span>;</span></span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="javascript">    <span class="comment">//2. 首先先排除其他人，然后才设置自己的样式 这种排除其他人的思想我们成为排他思想</span></span></span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="案例：百度换肤"><a href="#案例：百度换肤" class="headerlink" title="案例：百度换肤"></a>案例：百度换肤</h4><ol>
<li>这个案例练习的是给一组元素注册事件</li>
<li>给4个小图片利用循环注册点击事件</li>
<li>当我们点击了这个图片，让我们页面背景改为当前的图片</li>
<li>核心算法： 把当前图片的src 路径取过来，给 body 做为背景即可</li>
</ol>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">// 1. 获取元素 </span><br><span class="line">var imgs = document.querySelector(&#x27;.baidu&#x27;).querySelectorAll(&#x27;img&#x27;);</span><br><span class="line">// console.log(imgs);</span><br><span class="line">// 2. 循环注册事件 </span><br><span class="line">for (var i = 0; i &lt; imgs.length; i++) &#123;</span><br><span class="line">imgs[i].onclick = function() &#123;</span><br><span class="line">// this.src 就是我们点击图片的路径   images/2.jpg</span><br><span class="line">// console.log(this.src);</span><br><span class="line">// 把这个路径 this.src 给body 就可以了</span><br><span class="line">document.body.style.backgroundImage = &#x27;url(&#x27; + this.src + &#x27;)&#x27;;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="案例：表格隔行变色"><a href="#案例：表格隔行变色" class="headerlink" title="案例：表格隔行变色"></a>案例：表格隔行变色</h4><ol>
<li>用到新的鼠标事件 鼠标经过 onmouseover 鼠标离开 onmouseout</li>
<li>核心思路：鼠标经过 tr 行，当前的行变背景颜色， 鼠标离开去掉当前的背景颜色</li>
<li>注意： 第一行（thead里面的行）不需要变换颜色，因此我们获取的是 tbody 里面的行 </li>
</ol>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">// 1.获取元素 获取的是 tbody 里面所有的行</span><br><span class="line">var trs = document.querySelector(&#x27;tbody&#x27;).querySelectorAll(&#x27;tr&#x27;);</span><br><span class="line">// 2. 利用循环绑定注册事件</span><br><span class="line">        for (var i = 0; i &lt; trs.length; i++) &#123;</span><br><span class="line">            // 3. 鼠标经过事件 onmouseover</span><br><span class="line">            trs[i].onmouseover = function() &#123;</span><br><span class="line">                    // console.log(11);</span><br><span class="line">                    this.className = &#x27;bg&#x27;;</span><br><span class="line">                &#125;</span><br><span class="line">                // 4. 鼠标离开事件 onmouseout</span><br><span class="line">            trs[i].onmouseout = function() &#123;</span><br><span class="line">                this.className = &#x27;&#x27;;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure>

<h4 id="案例-表单全选取消全选案例"><a href="#案例-表单全选取消全选案例" class="headerlink" title="案例:表单全选取消全选案例"></a>案例:表单全选取消全选案例</h4><ol>
<li>点击上面全选复选框，下面所有的复选框都选中（全选） </li>
<li>再次点击全选复选框，下面所有的复选框都不中选（取消全选） </li>
<li>如果下面复选框全部选中，上面全选按钮就自动选中 </li>
<li>如果下面复选框有一个没有选中，上面全选按钮就不选中 </li>
<li>所有复选框一开始默认都没选中状态 </li>
</ol>
<p>案例分析：</p>
<ol>
<li>全选和取消全选做法：  让下面所有复选框的checked属性（选中状态） 跟随 全选按钮即可</li>
<li>下面复选框需要全部选中， 上面全选才能选中做法： 给下面所有复选框绑定点击事件，每次点击，都 要循环查看下面所有的复选框是否有没选中的，如果有一个没选中的， 上面全选就不选中。</li>
<li>可以设置一个变量，来控制全选是否选中 </li>
</ol>
<h3 id="自定义属性的操作"><a href="#自定义属性的操作" class="headerlink" title="自定义属性的操作"></a>自定义属性的操作</h3><h4 id="获取属性的属性值"><a href="#获取属性的属性值" class="headerlink" title="获取属性的属性值"></a>获取属性的属性值</h4><ul>
<li>element.属性  获取属性值 </li>
<li>element.getAttribute(‘属性’); </li>
</ul>
<p>区别：</p>
<ul>
<li>element.属性  获取内置属性值（元素本身自带的属性）</li>
<li>element.getAttribute(‘属性’)    主要获得自定义的属性 （标准） 我们程序员自定义的属性 </li>
</ul>
<h4 id="设置属性属性值"><a href="#设置属性属性值" class="headerlink" title="设置属性属性值"></a>设置属性属性值</h4><ul>
<li>element.属性 = ‘值’  设置内置属性值</li>
<li>element.setAttribute(‘属性’, ‘值’)</li>
</ul>
<p>区别：</p>
<ul>
<li>element.属性  设置内置属性值</li>
<li>element.setAttribute(‘属性’);  主要设置自定义的属性 （标准）</li>
</ul>
<h4 id="移除属性"><a href="#移除属性" class="headerlink" title="移除属性"></a>移除属性</h4><p>element.removeAttribute(‘属性’)</p>
<h4 id="案例：tab-栏切换（重点案例）"><a href="#案例：tab-栏切换（重点案例）" class="headerlink" title="案例：tab 栏切换（重点案例）"></a>案例：tab 栏切换（重点案例）</h4><p>当鼠标点击上面相应的选项卡（tab），下面内容跟随变化 </p>
<p>![](C:\Users\Xia\Desktop\web api笔记\images\Snipaste_2020-09-12_16-18-51.png)</p>
<ol>
<li>Tab栏切换有2个大的模块</li>
<li>上的模块选项卡，点击某一个，当前这一个底色会是红色，其余不变（排他思想） 修改类 名的方式</li>
<li>下面的模块内容，会跟随上面的选项卡变化。所以下面模块变化写到点击事件里面。</li>
<li>规律：下面的模块显示内容和上面的选项卡一一对应，相匹配。</li>
<li>核心思路： 给上面的tab_list 里面的所有小li 添加自定义属性，属性值从0开始编号。</li>
<li>当我们点击tab_list 里面的某个小li，让tab_con 里面对应序号的 内容显示，其余隐藏（排他思想） </li>
</ol>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">// 获取元素</span><br><span class="line">var tab_list = document.querySelector(&#x27;.tab_list&#x27;);</span><br><span class="line">var lis = tab_list.querySelectorAll(&#x27;li&#x27;);</span><br><span class="line">var items = document.querySelectorAll(&#x27;.item&#x27;);</span><br><span class="line">// for循环绑定点击事件</span><br><span class="line">     for (var i = 0; i &lt; lis.length; i++) &#123;</span><br><span class="line">// 开始给5个小li 设置索引号 </span><br><span class="line">     lis[i].setAttribute(&#x27;index&#x27;, i);</span><br><span class="line">     lis[i].onclick = function() &#123;</span><br><span class="line">// 1. 上的模块选项卡，点击某一个，当前这一个底色会是红色，其余不变（排他思想） 修改类名的方式</span><br><span class="line">// 干掉所有人 其余的li清除 class 这个类</span><br><span class="line">      for (var i = 0; i &lt; lis.length; i++) &#123;</span><br><span class="line">             lis[i].className = &#x27;&#x27;;</span><br><span class="line">       &#125;</span><br><span class="line">                // 留下我自己 </span><br><span class="line">                this.className = &#x27;current&#x27;;</span><br><span class="line">                // 2. 下面的显示内容模块</span><br><span class="line">                var index = this.getAttribute(&#x27;index&#x27;);</span><br><span class="line">                console.log(index);</span><br><span class="line">                // 干掉所有人 让其余的item 这些div 隐藏</span><br><span class="line">                for (var i = 0; i &lt; items.length; i++) &#123;</span><br><span class="line">                    items[i].style.display = &#x27;none&#x27;;</span><br><span class="line">                &#125;</span><br><span class="line">                // 留下我自己 让对应的item 显示出来</span><br><span class="line">                items[index].style.display = &#x27;block&#x27;;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure>

<h3 id="H5-自定义属性"><a href="#H5-自定义属性" class="headerlink" title="H5 自定义属性"></a>H5 自定义属性</h3><p>自定义属性目的：是为了保存并使用数据。有些数据可以保存到页面中而不用保存到数据库中。 </p>
<p>自定义属性获取是通过getAttribute(‘属性’) 获取。</p>
<p>但是有些自定义属性很容易引起歧义，不容易判断是元素的内置属性还是自定义属性。 </p>
<p>H5给我们新增了自定义属性：</p>
<h4 id="设置H5自定义属性"><a href="#设置H5自定义属性" class="headerlink" title="设置H5自定义属性"></a>设置H5自定义属性</h4><p>H5规定自定义属性data-开头做为属性名并且赋值</p>
<p>比如  &lt; div data-index=”1” &gt;&lt; /div &gt; </p>
<p>或者使用 JS 设置</p>
<p>element.setAttribute(‘data-index’, 2) </p>
<h4 id="获取H5自定义属性"><a href="#获取H5自定义属性" class="headerlink" title="获取H5自定义属性"></a>获取H5自定义属性</h4><ol>
<li>兼容性获取   element.getAttribute(‘data-index’); </li>
<li>H5新增 element.dataset.index  或者 element.dataset[‘index’]   ie 11才开始支持 </li>
</ol>
<p>dataset 是一个集合里面存放了所有以data开头的自定义属性。它只能获取data-开头的。</p>
<p>如果自定义属性里面有多个-链接的单词，我们获取的时候采取 驼峰命名法。</p>
<h2 id="节点操作"><a href="#节点操作" class="headerlink" title="节点操作"></a>节点操作</h2><h3 id="为什么学节点操作"><a href="#为什么学节点操作" class="headerlink" title="为什么学节点操作"></a>为什么学节点操作</h3><p>获取元素通常使用两种方式： </p>
<p>![](C:\Users\Xia\Desktop\web api笔记\images\Snipaste_2020-09-12_16-22-30.png)</p>
<p>这两种方式都可以获取元素节点，我们后面都会使用，但是节点操作更简单 </p>
<h3 id="节点概述"><a href="#节点概述" class="headerlink" title="节点概述"></a>节点概述</h3><p>网页中的所有内容都是节点（标签、属性、文本、注释等），在DOM 中，节点使用 node 来表示。 </p>
<p>HTML DOM 树中的所有节点均可通过 JavaScript 进行访问，所有 HTML 元素（节点）均可被修改，也可以 创建或删除。 </p>
<p>![](C:\Users\Xia\Desktop\web api笔记\images\Snipaste_2020-09-11_00-22-54.png)</p>
<p>一般地，节点至少拥有nodeType（节点类型）、nodeName（节点名称）和nodeValue（节点值）这三个 基本属性。 </p>
<ul>
<li>元素节点  nodeType  为 1 </li>
<li>属性节点  nodeType  为 2 </li>
<li>文本节点  nodeType  为 3 （文本节点包含文字、空格、换行等）</li>
</ul>
<p>我们在实际开发中，节点操作主要操作的是元素节点。</p>
<h3 id="节点层级"><a href="#节点层级" class="headerlink" title="节点层级"></a>节点层级</h3><p>利用 DOM 树可以把节点划分为不同的层级关系，常见的是父子兄层级关系。 </p>
<p>![](C:\Users\Xia\Desktop\web api笔记\images\Snipaste_2020-09-11_00-22-54.png)</p>
<h4 id="父级节点"><a href="#父级节点" class="headerlink" title="父级节点"></a>父级节点</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">node.parentNode </span><br></pre></td></tr></table></figure>

<ul>
<li>parentNode 属性可返回某节点的父节点，注意是最近的一个父节点</li>
<li>如果指定的节点没有父节点则返回 null </li>
</ul>
<h4 id="子节点"><a href="#子节点" class="headerlink" title="子节点"></a>子节点</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">1. parentNode.childNodes（标准）</span><br></pre></td></tr></table></figure>

<p>parentNode.childNodes 返回包含指定节点的子节点的集合，该集合为即时更新的集合。 </p>
<p>注意：返回值里面包含了所有的子节点，包括元素节点，文本节点等。 </p>
<p>如果只想要获得里面的元素节点，则需要专门处理。 所以我们一般不提倡使用childNodes </p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">var ul = document. querySelector(‘ul’); </span><br><span class="line">for(var i = 0; i &lt; ul.childNodes.length;i++) &#123; </span><br><span class="line">if (ul.childNodes[i].nodeType == 1) &#123; </span><br><span class="line">    // ul.childNodes[i] 是元素节点 </span><br><span class="line">    console.log(ul.childNodes[i]); </span><br><span class="line">&#125; </span><br><span class="line">&#125; </span><br></pre></td></tr></table></figure>

<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">2. parentNode.children（非标准）</span><br></pre></td></tr></table></figure>

<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">实际开发的写法  既没有兼容性问题又返回第一个子元素</span><br><span class="line">console.log(ol.children[0]);</span><br><span class="line">console.log(ol.children[ol.children.length - 1]);</span><br></pre></td></tr></table></figure>

<p>parentNode.children 是一个只读属性，返回所有的子元素节点。它只返回子元素节点，其余节点不返回 （这个是我们重点掌握的，实际开发中用）。 </p>
<p>虽然children 是一个非标准，但是得到了各个浏览器的支持，因此我们可以放心使用。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">3. parentNode.firstChild </span><br></pre></td></tr></table></figure>

<p>firstChild 返回第一个子节点，找不到则返回null。同样，也是包含所有的节点。 </p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">4. parentNode.lastChild</span><br></pre></td></tr></table></figure>

<p>lastChild 返回最后一个子节点，找不到则返回null。同样，也是包含所有的节点。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">5. parentNode.firstElementChild </span><br></pre></td></tr></table></figure>

<p>firstElementChild  返回第一个子元素节点，找不到则返回null。  </p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">6. parentNode.lastElementChild  </span><br></pre></td></tr></table></figure>

<p>lastElementChild 返回最后一个子元素节点，找不到则返回null。</p>
<p>注意：这两个方法有兼容性问题，IE9 以上才支持。</p>
<p>实际开发中，firstChild 和 lastChild 包含其他节点，操作不方便，而 firstElementChild 和 lastElementChild 又有兼容性问题，那么我们如何获取第一个子元素节点或最后一个子元素节点呢？ </p>
<p>解决方案： （实际开发的写法）</p>
<ol>
<li>如果想要第一个子元素节点，可以使用 parentNode.chilren[0]  </li>
<li>如果想要最后一个子元素节点，可以使用 parentNode.chilren[parentNode.chilren.length - 1] </li>
</ol>
<h4 id="案例：下拉菜单"><a href="#案例：下拉菜单" class="headerlink" title="案例：下拉菜单"></a>案例：下拉菜单</h4><p>![](C:\Users\Xia\Desktop\web api笔记\images\Snipaste_2020-09-12_16-28-20.png)</p>
<ol>
<li>导航栏里面的li 都要有鼠标经过效果，所以需要循环注册鼠标事件</li>
<li>核心原理： 当鼠标经过li 里面的 第二个孩子 ul 显示， 当鼠标离开，则ul 隐藏 </li>
</ol>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">// 1. 获取元素</span><br><span class="line">var nav = document.querySelector(&#x27;.nav&#x27;);</span><br><span class="line">var lis = nav.children; // 得到4个小li</span><br><span class="line">// 2.循环注册事件</span><br><span class="line">for (var i = 0; i &lt; lis.length; i++) &#123;</span><br><span class="line">    lis[i].onmouseover = function() &#123;</span><br><span class="line">        this.children[1].style.display = &#x27;block&#x27;;</span><br><span class="line">    &#125;</span><br><span class="line">    lis[i].onmouseout = function() &#123;</span><br><span class="line">        this.children[1].style.display = &#x27;none&#x27;;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="兄弟节点"><a href="#兄弟节点" class="headerlink" title="兄弟节点"></a>兄弟节点</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">1. node.nextSibling </span><br></pre></td></tr></table></figure>

<p>nextSibling 返回当前元素的下一个兄弟节点，包含元素节点或者文本节点等。找不到则返回null。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">2. node.previousSibling</span><br></pre></td></tr></table></figure>

<p>previousSibling 返回当前元素的上一个兄弟节点，包含元素节点或者文本节点等。找不到则返回null。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">3. node.nextElementSibling</span><br></pre></td></tr></table></figure>

<p><strong>nextElementSibling 返回当前元素下一个兄弟元素节点，找不到则返回null。</strong> </p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">4. node.previousElementSibling  </span><br></pre></td></tr></table></figure>

<p><strong>previousElementSibling 返回当前元素上一个兄弟节点，找不到则返回null。</strong></p>
<p>注意：这两个方法有兼容性问题， IE9 以上才支持。 </p>
<p>问：如何解决兼容性问题 ？ </p>
<p>答：自己封装一个兼容性的函数</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">function getNextElementSibling(element) &#123;       </span><br><span class="line">	var el = element;       </span><br><span class="line">	while (el = el.nextSibling) &#123;         </span><br><span class="line">		if (el.nodeType === 1) &#123;             </span><br><span class="line">			return el;         </span><br><span class="line">		&#125;       </span><br><span class="line">	&#125;       </span><br><span class="line">	return null;    </span><br><span class="line">&#125; </span><br></pre></td></tr></table></figure>

<h3 id="创建节点"><a href="#创建节点" class="headerlink" title="创建节点"></a>创建节点</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">document.createElement(&#x27;tagName&#x27;) </span><br></pre></td></tr></table></figure>

<p>document.createElement() 方法创建由 tagName 指定的 HTML 元素。因为这些元素原先不存在， 是根据我们的需求动态生成的，所以我们也称为动态创建元素节点。 </p>
<h3 id="添加节点"><a href="#添加节点" class="headerlink" title="添加节点"></a>添加节点</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">1. node.appendChild(child) </span><br></pre></td></tr></table></figure>

<p>node.appendChild() 方法将一个节点添加到指定父节点的子节点列表末尾。类似于 CSS 里面的 after 伪元素。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">2. node.insertBefore(child, 指定元素)</span><br></pre></td></tr></table></figure>

<p>node.insertBefore() 方法将一个节点添加到父节点的指定子节点前面。类似于 CSS 里面的 before 伪元素。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">// 1. 创建节点元素节点</span><br><span class="line">var li = document.createElement(&#x27;li&#x27;);</span><br><span class="line">// 2. 添加节点 node.appendChild(child)  node 父级  child 是子级 后面追加元素  类似于数组中的push</span><br><span class="line">var ul = document.querySelector(&#x27;ul&#x27;);</span><br><span class="line">ul.appendChild(li);</span><br><span class="line">// 3. 添加节点 node.insertBefore(child, 指定元素);</span><br><span class="line">var lili = document.createElement(&#x27;li&#x27;);</span><br><span class="line">ul.insertBefore(lili, ul.children[0]);</span><br><span class="line">// 4. 我们想要页面添加一个新的元素 ： 1. 创建元素 2. 添加元素</span><br></pre></td></tr></table></figure>

<h4 id="案例：简单版发布留言案例"><a href="#案例：简单版发布留言案例" class="headerlink" title="案例：简单版发布留言案例"></a>案例：简单版发布留言案例</h4><ol>
<li>核心思路： 点击按钮之后，就动态创建一个li，添加到ul 里面。</li>
<li>创建li 的同时，把文本域里面的值通过li.innerHTML 赋值给 li</li>
<li>如果想要新的留言后面显示就用 appendChild 如果想要前面显示就用insertBefore</li>
</ol>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">// 1. 获取元素</span><br><span class="line">var btn = document.querySelector(&#x27;button&#x27;);</span><br><span class="line">var text = document.querySelector(&#x27;textarea&#x27;);</span><br><span class="line">var ul = document.querySelector(&#x27;ul&#x27;);</span><br><span class="line">// 2. 注册事件</span><br><span class="line">btn.onclick = function() &#123;</span><br><span class="line">    if (text.value == &#x27;&#x27;) &#123;</span><br><span class="line">        alert(&#x27;您没有输入内容&#x27;);</span><br><span class="line">        return false;</span><br><span class="line">    &#125; else &#123;</span><br><span class="line">        // console.log(text.value);</span><br><span class="line">        // (1) 创建元素</span><br><span class="line">        var li = document.createElement(&#x27;li&#x27;);</span><br><span class="line">        // 先有li 才能赋值</span><br><span class="line">        li.innerHTML = text.value;</span><br><span class="line">        // (2) 添加元素</span><br><span class="line">        // ul.appendChild(li);</span><br><span class="line">        ul.insertBefore(li, ul.children[0]);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="删除节点"><a href="#删除节点" class="headerlink" title="删除节点"></a>删除节点</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">node.removeChild(child) </span><br></pre></td></tr></table></figure>

<p>node.removeChild() 方法从 DOM 中删除一个子节点，返回删除的节点。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">// 1.获取元素</span><br><span class="line">var ul = document.querySelector(&#x27;ul&#x27;);</span><br><span class="line">var btn = document.querySelector(&#x27;button&#x27;);</span><br><span class="line">// 2. 删除元素  node.removeChild(child)</span><br><span class="line">// ul.removeChild(ul.children[0]);</span><br><span class="line">// 3. 点击按钮依次删除里面的孩子</span><br><span class="line">btn.onclick = function() &#123;</span><br><span class="line">    if (ul.children.length == 0) &#123;</span><br><span class="line">        this.disabled = true;</span><br><span class="line">    &#125; else &#123;</span><br><span class="line">        ul.removeChild(ul.children[0]);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="案例：删除留言案例"><a href="#案例：删除留言案例" class="headerlink" title="案例：删除留言案例"></a>案例：删除留言案例</h4><ol>
<li>当我们把文本域里面的值赋值给li 的时候，多添加一个删除的链接</li>
<li>需要把所有的链接获取过来，当我们点击当前的链接的时候，删除当前链接所在的li </li>
<li>阻止链接跳转需要添加 javascript:void(0); 或者  javascript:;</li>
</ol>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">        // 1. 获取元素</span><br><span class="line">        var btn = document.querySelector(&#x27;button&#x27;);</span><br><span class="line">        var text = document.querySelector(&#x27;textarea&#x27;);</span><br><span class="line">        var ul = document.querySelector(&#x27;ul&#x27;);</span><br><span class="line">        // 2. 注册事件</span><br><span class="line">        btn.onclick = function() &#123;</span><br><span class="line">            if (text.value == &#x27;&#x27;) &#123;</span><br><span class="line">                alert(&#x27;您没有输入内容&#x27;);</span><br><span class="line">                return false;</span><br><span class="line">            &#125; else &#123;</span><br><span class="line">                // console.log(text.value);</span><br><span class="line">        // (1) 创建元素</span><br><span class="line">        var li = document.createElement(&#x27;li&#x27;);</span><br><span class="line">       // 先有li 才能赋值</span><br><span class="line">       li.innerHTML = text.value + &quot;<span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&#x27;javascript:;&#x27;</span>&gt;</span>删除<span class="tag">&lt;/<span class="name">a</span>&gt;</span>&quot;;</span><br><span class="line">                // (2) 添加元素</span><br><span class="line">                // ul.appendChild(li);</span><br><span class="line">                ul.insertBefore(li, ul.children[0]);</span><br><span class="line">                // (3) 删除元素 删除的是当前链接的li  它的父亲</span><br><span class="line">                var as = document.querySelectorAll(&#x27;a&#x27;);</span><br><span class="line">                for (var i = 0; i &lt; as.length; i++) &#123;</span><br><span class="line">                    as[i].onclick = function() &#123;</span><br><span class="line">// node.removeChild(child); 删除的是 li 当前a所在的li  this.parentNode;</span><br><span class="line">                        ul.removeChild(this.parentNode);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure>

<h3 id="复制节点（克隆节点）"><a href="#复制节点（克隆节点）" class="headerlink" title="复制节点（克隆节点）"></a>复制节点（克隆节点）</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">node.cloneNode() </span><br></pre></td></tr></table></figure>

<p>node.cloneNode() 方法返回调用该方法的节点的一个副本。 也称为克隆节点/拷贝节点 </p>
<p>注意： </p>
<ol>
<li>如果括号参数为空或者为 false ，则是浅拷贝，即只克隆复制节点本身，不克隆里面的子节点。 </li>
<li>如果括号参数为 true ，则是深度拷贝，会复制节点本身以及里面所有的子节点。 </li>
</ol>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">li</span>&gt;</span>1111<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">li</span>&gt;</span>2<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">li</span>&gt;</span>3<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript"><span class="keyword">var</span> ul = <span class="built_in">document</span>.querySelector(<span class="string">&#x27;ul&#x27;</span>);</span></span><br><span class="line"><span class="javascript"><span class="comment">// 1. node.cloneNode(); 括号为空或者里面是false 浅拷贝 只复制标签不复制里面的内容</span></span></span><br><span class="line"><span class="javascript"><span class="comment">// 2. node.cloneNode(true); 括号为true 深拷贝 复制标签复制里面的内容</span></span></span><br><span class="line"><span class="javascript"><span class="keyword">var</span> lili = ul.children[<span class="number">0</span>].cloneNode(<span class="literal">true</span>);</span></span><br><span class="line">ul.appendChild(lili);</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="案例：动态生成表格"><a href="#案例：动态生成表格" class="headerlink" title="案例：动态生成表格"></a>案例：动态生成表格</h4><p>![](C:\Users\Xia\Desktop\web api笔记\images\Snipaste_2020-09-13_12-19-44.png)</p>
<ol>
<li>因为里面的学生数据都是动态的，我们需要js 动态生成。 这里我们模拟数据，自己定义好 数据。 数据我们采取对象形式存储</li>
<li>所有的数据都是放到tbody里面的行里面</li>
<li>因为行很多，我们需要循环创建多个行（对应多少人）</li>
<li>每个行里面又有很多单元格（对应里面的数据），我们还继续使用循环创建多个单元格， 并且把数据存入里面（双重for循环）</li>
<li>最后一列单元格是删除，需要单独创建单元格</li>
<li>最后添加删除操作，单击删除，可以删除当前行</li>
</ol>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line">// 1.先去准备好学生的数据</span><br><span class="line">var datas = [&#123;</span><br><span class="line">    name: &#x27;魏璎珞&#x27;,</span><br><span class="line">    subject: &#x27;JavaScript&#x27;,</span><br><span class="line">    score: 100</span><br><span class="line">&#125;, &#123;</span><br><span class="line">    name: &#x27;弘历&#x27;,</span><br><span class="line">    subject: &#x27;JavaScript&#x27;,</span><br><span class="line">    score: 98</span><br><span class="line">&#125;, &#123;</span><br><span class="line">    name: &#x27;傅恒&#x27;,</span><br><span class="line">    subject: &#x27;JavaScript&#x27;,</span><br><span class="line">    score: 99</span><br><span class="line">&#125;, &#123;</span><br><span class="line">    name: &#x27;明玉&#x27;,</span><br><span class="line">    subject: &#x27;JavaScript&#x27;,</span><br><span class="line">    score: 88</span><br><span class="line">&#125;, &#123;</span><br><span class="line">    name: &#x27;大猪蹄子&#x27;,</span><br><span class="line">    subject: &#x27;JavaScript&#x27;,</span><br><span class="line">    score: 0</span><br><span class="line">&#125;];</span><br><span class="line">// 2. 往tbody 里面创建行： 有几个人（通过数组的长度）我们就创建几行</span><br><span class="line">var tbody = document.querySelector(&#x27;tbody&#x27;);</span><br><span class="line">for (var i = 0; i &lt; datas.length; i++) &#123; // 外面的for循环管行 tr</span><br><span class="line">    // 1. 创建 tr行</span><br><span class="line">    var tr = document.createElement(&#x27;tr&#x27;);</span><br><span class="line">    tbody.appendChild(tr);</span><br><span class="line">    // 2. 行里面创建单元格(跟数据有关系的3个单元格) td 单元格的数量取决于每个对象里面的属性个数  for循环遍历对象 datas[i]</span><br><span class="line">    for (var k in datas[i]) &#123; // 里面的for循环管列 td</span><br><span class="line">        // 创建单元格 </span><br><span class="line">        var td = document.createElement(&#x27;td&#x27;);</span><br><span class="line">        // 把对象里面的属性值 datas[i][k] 给 td  </span><br><span class="line">        // console.log(datas[i][k]);</span><br><span class="line">        td.innerHTML = datas[i][k];</span><br><span class="line">        tr.appendChild(td);</span><br><span class="line">    &#125;</span><br><span class="line">    // 3. 创建有删除2个字的单元格 </span><br><span class="line">    var td = document.createElement(&#x27;td&#x27;);</span><br><span class="line">    td.innerHTML = &#x27;<span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;javascript:;&quot;</span>&gt;</span>删除 <span class="tag">&lt;/<span class="name">a</span>&gt;</span>&#x27;;</span><br><span class="line">    tr.appendChild(td);</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">// 4. 删除操作 开始 </span><br><span class="line">var as = document.querySelectorAll(&#x27;a&#x27;);</span><br><span class="line">for (var i = 0; i &lt; as.length; i++) &#123;</span><br><span class="line">    as[i].onclick = function() &#123;</span><br><span class="line">        // 点击a 删除 当前a 所在的行(链接的爸爸的爸爸)  node.removeChild(child)  </span><br><span class="line">        tbody.removeChild(this.parentNode.parentNode)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">// for(var k in obj) &#123;</span><br><span class="line">//     k 得到的是属性名</span><br><span class="line">//     obj[k] 得到是属性值</span><br><span class="line">// &#125;</span><br></pre></td></tr></table></figure>

<h3 id="三种动态创建元素区别"><a href="#三种动态创建元素区别" class="headerlink" title="三种动态创建元素区别"></a>三种动态创建元素区别</h3><ul>
<li>document.write() </li>
<li>element.innerHTML </li>
<li>document.createElement() </li>
</ul>
<p>区别：</p>
<ol>
<li>document.write 是直接将内容写入页面的内容流，但是文档流执行完毕，则它会导致页面全部重绘（删除之前的代码，显示新添加的代码） </li>
<li>innerHTML 是将内容写入某个 DOM 节点，不会导致页面全部重绘 </li>
<li>innerHTML 创建多个元素效率更高（不要拼接字符串，采取数组形式拼接），结构稍微复杂 </li>
<li>createElement() 创建多个元素效率稍低一点点，但是结构更清晰</li>
</ol>
<p>总结：不同浏览器下，innerHTML 效率要比 creatElement 高</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">// 2. innerHTML 创建元素</span><br><span class="line">var inner = document.querySelector(&#x27;.inner&#x27;);</span><br><span class="line">// for (var i = 0; i &lt;= 100; i++) &#123;</span><br><span class="line">//     inner.innerHTML += &#x27;<span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span>&gt;</span>百度<span class="tag">&lt;/<span class="name">a</span>&gt;</span>&#x27;</span><br><span class="line">// &#125;</span><br><span class="line">var arr = [];</span><br><span class="line">for (var i = 0; i &lt;= 100; i++) &#123;</span><br><span class="line">    arr.push(&#x27;<span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span>&gt;</span>百度<span class="tag">&lt;/<span class="name">a</span>&gt;</span>&#x27;);</span><br><span class="line">&#125;</span><br><span class="line">inner.innerHTML = arr.join(&#x27;&#x27;);</span><br><span class="line">// 3. document.createElement() 创建元素</span><br><span class="line">var create = document.querySelector(&#x27;.create&#x27;);</span><br><span class="line">for (var i = 0; i &lt;= 100; i++) &#123;</span><br><span class="line">    var a = document.createElement(&#x27;a&#x27;);</span><br><span class="line">    create.appendChild(a);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="DOM-重点核心"><a href="#DOM-重点核心" class="headerlink" title="DOM 重点核心"></a>DOM 重点核心</h2><p>文档对象模型（Document Object Model，简称 DOM），是 W3C 组织推荐的处理可扩展标记语言 （HTML或者XML）的标准编程接口。 </p>
<p>W3C 已经定义了一系列的 DOM 接口，通过这些 DOM 接口可以改变网页的内容、结构和样式。 </p>
<ol>
<li>对于JavaScript，为了能够使JavaScript操作HTML，JavaScript就有了一套自己的dom编程接口。 </li>
<li>对于HTML，dom使得html形成一棵dom树.  包含 文档、元素、节点</li>
</ol>
<p>![](C:\Users\Xia\Desktop\web api笔记\images\Snipaste_2020-09-11_00-22-54.png)</p>
<p>我们获取过来的DOM元素是 一个对象（object），所以称为文档对象模型。</p>
<p>关于dom操作，我们主要针对于元素的操作。主要有创建、增、删、改、查、属性操作、事件操作。</p>
<h3 id="创建"><a href="#创建" class="headerlink" title="创建"></a>创建</h3><ol>
<li>document.write     （用不到）</li>
<li>innerHTML </li>
<li>createElement </li>
</ol>
<h3 id="增"><a href="#增" class="headerlink" title="增"></a>增</h3><ol>
<li>appendChild </li>
<li>insertBefore </li>
</ol>
<h3 id="删"><a href="#删" class="headerlink" title="删"></a>删</h3><ol>
<li>removeChild </li>
</ol>
<h3 id="改"><a href="#改" class="headerlink" title="改"></a>改</h3><p>主要修改dom的元素属性，dom元素的内容、属性, 表单的值等。</p>
<ol>
<li>修改元素属性： src、href、title等 </li>
<li>修改普通元素内容： innerHTML 、innerText </li>
<li>修改表单元素： value、type、disabled等 </li>
<li>修改元素样式： style、className </li>
</ol>
<h3 id="查"><a href="#查" class="headerlink" title="查"></a>查</h3><p>主要获取查询dom的元素</p>
<ol>
<li>DOM提供的API 方法：  getElementById、getElementsByTagName  古老用法 不太推荐  </li>
<li>H5提供的新方法： querySelector、querySelectorAll   提倡 </li>
<li>利用节点操作获取元素： 父(parentNode)、子(children)、兄(previousElementSibling、 nextElementSibling)  提倡 </li>
</ol>
<h3 id="属性操作"><a href="#属性操作" class="headerlink" title="属性操作"></a>属性操作</h3><p>主要针对于自定义属性。</p>
<ol>
<li>setAttribute：设置dom的属性值 </li>
<li>getAttribute：得到dom的属性值 </li>
<li>removeAttribute移除属性 </li>
</ol>
<h3 id="事件操作"><a href="#事件操作" class="headerlink" title="事件操作"></a>事件操作</h3><p>给元素注册事件， 采取  事件源.事件类型 = 事件处理程序 </p>
<table>
<thead>
<tr>
<th>鼠标事件</th>
<th>触发条件</th>
</tr>
</thead>
<tbody><tr>
<td>onlick</td>
<td>鼠标点击左键触发</td>
</tr>
<tr>
<td>onmouseover</td>
<td>鼠标经过触发</td>
</tr>
<tr>
<td>onmouseout</td>
<td>鼠标离开触发</td>
</tr>
<tr>
<td>onfocus</td>
<td>获得鼠标焦点触发</td>
</tr>
<tr>
<td>onblur</td>
<td>失去鼠标焦点触发</td>
</tr>
<tr>
<td>onmousemove</td>
<td>鼠标移动触发</td>
</tr>
<tr>
<td>onmouseup</td>
<td>鼠标弹起触发</td>
</tr>
<tr>
<td>onmousedown</td>
<td>鼠标按下触发</td>
</tr>
</tbody></table>
<h1 id="事件高级"><a href="#事件高级" class="headerlink" title="事件高级"></a>事件高级</h1><h2 id="注册事件（绑定事件）"><a href="#注册事件（绑定事件）" class="headerlink" title="注册事件（绑定事件）"></a>注册事件（绑定事件）</h2><h3 id="注册事件概述"><a href="#注册事件概述" class="headerlink" title="注册事件概述"></a>注册事件概述</h3><p>给元素添加事件，称为注册事件或者绑定事件。</p>
<p>注册事件有两种方式：传统方式和方法监听注册方式。</p>
<p><strong>传统方式：</strong></p>
<ul>
<li>利用 on 开头的事件 onclick</li>
<li>&lt;button onclick=“alert(‘hi~’)”&gt;&lt; /button &gt;</li>
<li>btn.onclick = function() {} </li>
<li>特点： 注册事件的唯一性</li>
<li>同一个元素同一个事件只能设置一个处理函数，最 后注册的处理函数将会覆盖前面注册的处理函</li>
</ul>
<p><strong>方法监听注册方式：</strong></p>
<ul>
<li>w3c 标准，推荐方式</li>
<li>addEventListener() 它是一个方法</li>
<li>IE9 之前的 IE 不支持此方法，可使用 attachEvent() 代替</li>
<li>特点：同一个元素同一个事件可以注册多个监听器</li>
<li>按注册顺序依次执行</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">button</span>&gt;</span>传统注册事件<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span>&gt;</span>方法监听注册事件<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span>&gt;</span>ie9 attachEvent<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">    <span class="keyword">var</span> btns = <span class="built_in">document</span>.querySelectorAll(<span class="string">&#x27;button&#x27;</span>);</span></span><br><span class="line"><span class="javascript">    <span class="comment">// 1. 传统方式注册事件</span></span></span><br><span class="line"><span class="javascript">    btns[<span class="number">0</span>].onclick = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">        alert(<span class="string">&#x27;hi&#x27;</span>);</span></span><br><span class="line">    &#125;</span><br><span class="line"><span class="javascript">    btns[<span class="number">0</span>].onclick = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">            alert(<span class="string">&#x27;hao a u&#x27;</span>);</span></span><br><span class="line">        &#125;</span><br><span class="line"><span class="javascript">        <span class="comment">// 2. 事件侦听注册事件 addEventListener </span></span></span><br><span class="line"><span class="javascript">        <span class="comment">// (1) 里面的事件类型是字符串 必定加引号 而且不带on</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">// (2) 同一个元素 同一个事件可以添加多个侦听器（事件处理程序）</span></span></span><br><span class="line"><span class="javascript">    btns[<span class="number">1</span>].addEventListener(<span class="string">&#x27;click&#x27;</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line">        alert(22);</span><br><span class="line">    &#125;)</span><br><span class="line"><span class="javascript">    btns[<span class="number">1</span>].addEventListener(<span class="string">&#x27;click&#x27;</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line">            alert(33);</span><br><span class="line">        &#125;)</span><br><span class="line"><span class="javascript">        <span class="comment">// 3. attachEvent ie9以前的版本支持</span></span></span><br><span class="line"><span class="javascript">    btns[<span class="number">2</span>].attachEvent(<span class="string">&#x27;onclick&#x27;</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line">        alert(11);</span><br><span class="line">    &#125;)</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="addEventListener-事件监听方式"><a href="#addEventListener-事件监听方式" class="headerlink" title="addEventListener 事件监听方式"></a>addEventListener 事件监听方式</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">eventTarget.addEventListener(type, listener[, useCapture]) </span><br></pre></td></tr></table></figure>

<p>eventTarget.addEventListener()方法将指定的监听器注册到 eventTarget（目标对象）上，当该对 象触发指定的事件时，就会执行事件处理函数。</p>
<p>该方法接收三个参数：</p>
<ul>
<li>type：事件类型字符串，比如 click 、mouseover ，注意这里不要带 on</li>
<li>listener：事件处理函数，事件发生时，会调用该监听函数</li>
<li>useCapture：可选参数，是一个布尔值，默认是 false。学完 DOM 事件流后，我们再进一步学习</li>
</ul>
<h3 id="attachEvent-事件监听方式（了解，用不到）"><a href="#attachEvent-事件监听方式（了解，用不到）" class="headerlink" title="attachEvent 事件监听方式（了解，用不到）"></a>attachEvent 事件监听方式（了解，用不到）</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">evenTarget.attachEvent(eventNameWithOn, callback) </span><br></pre></td></tr></table></figure>

<p>eventTarget.attachEvent()方法将指定的监听器注册到 eventTarget（目标对象） 上，当该对象触 发指定的事件时，指定的回调函数就会被执行。</p>
<p>该方法接收两个参数： </p>
<ul>
<li>eventNameWithOn：事件类型字符串，比如 onclick 、onmouseover ，这里要带 on</li>
<li>callback： 事件处理函数，当目标触发事件时回调函数被调用</li>
</ul>
<p>注意：IE8 及早期版本支持</p>
<h3 id="注册事件兼容性解决方案"><a href="#注册事件兼容性解决方案" class="headerlink" title="注册事件兼容性解决方案"></a>注册事件兼容性解决方案</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">function addEventListener(element, eventName, fn) &#123; </span><br><span class="line">      // 判断当前浏览器是否支持 addEventListener 方法 </span><br><span class="line">      if (element.addEventListener) &#123; </span><br><span class="line">        element.addEventListener(eventName, fn);  // 第三个参数 默认是false </span><br><span class="line">      &#125; else if (element.attachEvent) &#123; </span><br><span class="line">        element.attachEvent(&#x27;on&#x27; + eventName, fn); </span><br><span class="line">      &#125; else &#123; </span><br><span class="line">        // 相当于 element.onclick = fn; </span><br><span class="line">        element[&#x27;on&#x27; + eventName] = fn; </span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>

<p>兼容性处理的原则： 首先照顾大多数浏览器，再处理特殊浏览器</p>
<h2 id="删除事件（解绑事件）"><a href="#删除事件（解绑事件）" class="headerlink" title="删除事件（解绑事件）"></a>删除事件（解绑事件）</h2><h3 id="删除事件的方式"><a href="#删除事件的方式" class="headerlink" title="删除事件的方式"></a>删除事件的方式</h3><p>1.传统注册方式</p>
<p>eventTarget.onclick = null;</p>
<p>2.方法监听方式</p>
<p>① eventTarget.removeEventListener(type, listener[, useCapture]); </p>
<p>② eventTarget.detachEvent(eventNameWithOn, callback); </p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span>1<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span>2<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span>3<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">    <span class="keyword">var</span> divs = <span class="built_in">document</span>.querySelectorAll(<span class="string">&#x27;div&#x27;</span>);</span></span><br><span class="line"><span class="javascript">    divs[<span class="number">0</span>].onclick = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line">            alert(11);</span><br><span class="line"><span class="javascript">            <span class="comment">// 1. 传统方式删除事件</span></span></span><br><span class="line"><span class="javascript">            divs[<span class="number">0</span>].onclick = <span class="literal">null</span>;</span></span><br><span class="line">        &#125;</span><br><span class="line"><span class="javascript">        <span class="comment">// 2. removeEventListener 删除事件</span></span></span><br><span class="line"><span class="javascript">    divs[<span class="number">1</span>].addEventListener(<span class="string">&#x27;click&#x27;</span>, fn) <span class="comment">// 里面的fn 不需要调用加小括号</span></span></span><br><span class="line"></span><br><span class="line"><span class="javascript">    <span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line">        alert(22);</span><br><span class="line"><span class="javascript">        divs[<span class="number">1</span>].removeEventListener(<span class="string">&#x27;click&#x27;</span>, fn);</span></span><br><span class="line">    &#125;</span><br><span class="line"><span class="javascript">    <span class="comment">// 3. detachEvent</span></span></span><br><span class="line"><span class="javascript">    divs[<span class="number">2</span>].attachEvent(<span class="string">&#x27;onclick&#x27;</span>, fn1);</span></span><br><span class="line"></span><br><span class="line"><span class="javascript">    <span class="function"><span class="keyword">function</span> <span class="title">fn1</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line">        alert(33);</span><br><span class="line"><span class="javascript">        divs[<span class="number">2</span>].detachEvent(<span class="string">&#x27;onclick&#x27;</span>, fn1);</span></span><br><span class="line">    &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="删除事件兼容性解决方案"><a href="#删除事件兼容性解决方案" class="headerlink" title="删除事件兼容性解决方案"></a>删除事件兼容性解决方案</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">function removeEventListener(element, eventName, fn) &#123; </span><br><span class="line">      // 判断当前浏览器是否支持 removeEventListener 方法 </span><br><span class="line">      if (element.removeEventListener) &#123; </span><br><span class="line">        element.removeEventListener(eventName, fn);  // 第三个参数默是false </span><br><span class="line">      &#125; else if (element.detachEvent) &#123; </span><br><span class="line">        element.detachEvent(&#x27;on&#x27; + eventName, fn); </span><br><span class="line">      &#125; else &#123; </span><br><span class="line">        element[&#x27;on&#x27; + eventName] = null; </span><br><span class="line">&#125;  </span><br></pre></td></tr></table></figure>

<h2 id="DOM-事件流"><a href="#DOM-事件流" class="headerlink" title="DOM 事件流"></a>DOM 事件流</h2><p>事件流描述的是从页面中接收事件的顺序。 </p>
<p>事件发生时会在元素节点之间按照特定的顺序传播，这个传播过程即 DOM 事件流。 </p>
<p>比如我们给一个div 注册了点击事件</p>
<p>DOM 事件流分为3个阶段：  </p>
<ol>
<li>捕获阶段 </li>
<li>当前目标阶段 </li>
<li>冒泡阶段 </li>
</ol>
<p>![](C:\Users\Xia\Desktop\web api笔记\images\Snipaste_2020-09-13_14-08-04.png)</p>
<ul>
<li>事件冒泡： IE 最早提出，事件开始时由最具体的元素接收，然后逐级向上传播到到 DOM 最顶层节点的过程。</li>
<li>事件捕获： 网景最早提出，由 DOM 最顶层节点开始，然后逐级向下传播到到最具体的元素接收的过程。 </li>
</ul>
<p>我们向水里面扔一块石头，首先它会有一个下降的过程，这个过程就可以理解为从最顶层向事件发生的最具 体元素（目标点）的捕获过程；之后会产生泡泡，会在最低点（ 最具体元素）之后漂浮到水面上，这个过 程相当于事件冒泡。</p>
<p>![](C:\Users\Xia\Desktop\web api笔记\images\Snipaste_2020-09-13_14-08-41.png)</p>
<p>事件发生时会在元素节点之间按照特定的顺序传播，这个传播过程即 DOM 事件流。 </p>
<p>注意：</p>
<ol>
<li>JS 代码中只能执行捕获或者冒泡其中的一个阶段。 </li>
<li>onclick 和 attachEvent 只能得到冒泡阶段。 </li>
<li>addEventListener(type, listener[, useCapture])第三个参数如果是 true，表示在事件捕 获阶段调用事件处理程序；如果是 false（不写默认就是false），表示在事件冒泡阶段调用事件处理 程序。 </li>
<li>实际开发中我们很少使用事件捕获，我们更关注事件冒泡。 </li>
<li>有些事件是没有冒泡的，比如 onblur、onfocus、onmouseenter、onmouseleave </li>
<li>事件冒泡有时候会带来麻烦，有时候又会帮助很巧妙的做某些事件，我们后面讲解。</li>
</ol>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;father&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;son&quot;</span>&gt;</span>son盒子<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">    <span class="comment">// dom 事件流 三个阶段</span></span></span><br><span class="line"><span class="javascript">    <span class="comment">// 1. JS 代码中只能执行捕获或者冒泡其中的一个阶段。</span></span></span><br><span class="line"><span class="javascript">    <span class="comment">// 2. onclick 和 attachEvent（ie） 只能得到冒泡阶段。</span></span></span><br><span class="line"><span class="javascript">    <span class="comment">// 3. 捕获阶段 如果addEventListener 第三个参数是 true 那么则处于捕获阶段  document -&gt; html -&gt; body -&gt; father -&gt; son</span></span></span><br><span class="line"><span class="javascript">    <span class="comment">// var son = document.querySelector(&#x27;.son&#x27;);</span></span></span><br><span class="line"><span class="javascript">    <span class="comment">// son.addEventListener(&#x27;click&#x27;, function() &#123;</span></span></span><br><span class="line"><span class="javascript">    <span class="comment">//     alert(&#x27;son&#x27;);</span></span></span><br><span class="line"><span class="javascript">    <span class="comment">// &#125;, true);</span></span></span><br><span class="line"><span class="javascript">    <span class="comment">// var father = document.querySelector(&#x27;.father&#x27;);</span></span></span><br><span class="line"><span class="javascript">    <span class="comment">// father.addEventListener(&#x27;click&#x27;, function() &#123;</span></span></span><br><span class="line"><span class="javascript">    <span class="comment">//     alert(&#x27;father&#x27;);</span></span></span><br><span class="line"><span class="javascript">    <span class="comment">// &#125;, true);</span></span></span><br><span class="line"><span class="javascript">    <span class="comment">// 4. 冒泡阶段 如果addEventListener 第三个参数是 false 或者 省略 那么则处于冒泡阶段  son -&gt; father -&gt;body -&gt; html -&gt; document</span></span></span><br><span class="line"><span class="javascript">    <span class="keyword">var</span> son = <span class="built_in">document</span>.querySelector(<span class="string">&#x27;.son&#x27;</span>);</span></span><br><span class="line"><span class="javascript">    son.addEventListener(<span class="string">&#x27;click&#x27;</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">        alert(<span class="string">&#x27;son&#x27;</span>);</span></span><br><span class="line"><span class="javascript">    &#125;, <span class="literal">false</span>);</span></span><br><span class="line"><span class="javascript">    <span class="keyword">var</span> father = <span class="built_in">document</span>.querySelector(<span class="string">&#x27;.father&#x27;</span>);</span></span><br><span class="line"><span class="javascript">    father.addEventListener(<span class="string">&#x27;click&#x27;</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">        alert(<span class="string">&#x27;father&#x27;</span>);</span></span><br><span class="line"><span class="javascript">    &#125;, <span class="literal">false</span>);</span></span><br><span class="line"><span class="javascript">    <span class="built_in">document</span>.addEventListener(<span class="string">&#x27;click&#x27;</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">        alert(<span class="string">&#x27;document&#x27;</span>);</span></span><br><span class="line">    &#125;)</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id="事件对象"><a href="#事件对象" class="headerlink" title="事件对象"></a>事件对象</h2><h3 id="什么是事件对象"><a href="#什么是事件对象" class="headerlink" title="什么是事件对象"></a>什么是事件对象</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">eventTarget.onclick = function(event) &#123;&#125;  </span><br><span class="line">eventTarget.addEventListener(&#x27;click&#x27;, function(event) &#123;&#125;） </span><br><span class="line">// 这个 event 就是事件对象，我们还喜欢的写成 e 或者 evt</span><br></pre></td></tr></table></figure>

<p>官方解释：event 对象代表事件的状态，比如键盘按键的状态、鼠标的位置、鼠标按钮的状态。 </p>
<p>简单理解：事件发生后，跟事件相关的一系列信息数据的集合都放到这个对象里面，这个对象就是事件对象 event，它有很多属性和方法。</p>
<p>比如：   </p>
<ol>
<li>谁绑定了这个事件</li>
<li>鼠标触发事件的话，会得到鼠标的相关信息，如鼠标位置</li>
<li>键盘触发事件的话，会得到键盘的相关信息，如按了哪个键</li>
</ol>
<h3 id="事件对象的使用语法"><a href="#事件对象的使用语法" class="headerlink" title="事件对象的使用语法"></a>事件对象的使用语法</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">eventTarget.onclick = function(event) &#123; </span><br><span class="line">   // 这个 event 就是事件对象，我们还喜欢的写成 e 或者 evt  </span><br><span class="line">&#125;  </span><br><span class="line">eventTarget.addEventListener(&#x27;click&#x27;, function(event) &#123; </span><br><span class="line">  // 这个 event 就是事件对象，我们还喜欢的写成 e 或者 evt  </span><br><span class="line">&#125;）</span><br></pre></td></tr></table></figure>

<p>这个 event  是个形参，系统帮我们设定为事件对象，不需要传递实参过去。 </p>
<p>当我们注册事件时， event 对象就会被系统自动创建，并依次传递给事件监听器（事件处理函数）。 </p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span>123<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">    <span class="comment">// 事件对象</span></span></span><br><span class="line"><span class="javascript">    <span class="keyword">var</span> div = <span class="built_in">document</span>.querySelector(<span class="string">&#x27;div&#x27;</span>);</span></span><br><span class="line"><span class="javascript">    div.onclick = <span class="function"><span class="keyword">function</span>(<span class="params">e</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">            <span class="comment">// console.log(e);</span></span></span><br><span class="line"><span class="javascript">            <span class="comment">// console.log(window.event);</span></span></span><br><span class="line"><span class="javascript">            <span class="comment">// e = e || window.event;</span></span></span><br><span class="line"><span class="javascript">            <span class="built_in">console</span>.log(e);</span></span><br><span class="line">        &#125;</span><br><span class="line"><span class="javascript">        <span class="comment">// div.addEventListener(&#x27;click&#x27;, function(e) &#123;</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">//         console.log(e);</span></span></span><br><span class="line"><span class="javascript">    <span class="comment">//     &#125;)</span></span></span><br><span class="line"><span class="javascript">    <span class="comment">// 1. event 就是一个事件对象 写到我们侦听函数的 小括号里面 当形参来看</span></span></span><br><span class="line"><span class="javascript">    <span class="comment">// 2. 事件对象只有有了事件才会存在，它是系统给我们自动创建的，不需要我们传递参数</span></span></span><br><span class="line"><span class="javascript">    <span class="comment">// 3. 事件对象 是 我们事件的一系列相关数据的集合 跟事件相关的 比如鼠标点击里面就包含了鼠标的相关信息，鼠标坐标啊，如果是键盘事件里面就包含的键盘事件的信息 比如 判断用户按下了那个键</span></span></span><br><span class="line"><span class="javascript">    <span class="comment">// 4. 这个事件对象我们可以自己命名 比如 event 、 evt、 e</span></span></span><br><span class="line"><span class="javascript">    <span class="comment">// 5. 事件对象也有兼容性问题 ie678 通过 window.event 兼容性的写法  e = e || window.event;</span></span></span><br></pre></td></tr></table></figure>

<h3 id="事件对象的兼容性方案"><a href="#事件对象的兼容性方案" class="headerlink" title="事件对象的兼容性方案"></a>事件对象的兼容性方案</h3><p>事件对象本身的获取存在兼容问题： </p>
<ol>
<li>标准浏览器中是浏览器给方法传递的参数，只需要定义形参 e 就可以获取到</li>
<li>在 IE6~8 中，浏览器不会给方法传递参数，如果需要的话，需要到 window.event 中获取查找</li>
</ol>
<p>解决:  e = e || window.event; </p>
<h3 id="事件对象的常见属性和方法"><a href="#事件对象的常见属性和方法" class="headerlink" title="事件对象的常见属性和方法"></a>事件对象的常见属性和方法</h3><p>e.target 和 this 的区别： </p>
<ol>
<li>this 是事件绑定的元素， 这个函数的调用者（绑定这个事件的元素）</li>
<li>e.target 是事件触发的元素</li>
</ol>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span>123<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>abc<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>abc<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>abc<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">    <span class="comment">// 常见事件对象的属性和方法</span></span></span><br><span class="line"><span class="javascript">    <span class="comment">// 1. e.target 返回的是触发事件的对象（元素）  this 返回的是绑定事件的对象（元素）</span></span></span><br><span class="line"><span class="javascript">    <span class="comment">// 区别 ： e.target 点击了那个元素，就返回那个元素 this 那个元素绑定了这个点击事件，那么就返回谁</span></span></span><br><span class="line"><span class="javascript">    <span class="keyword">var</span> div = <span class="built_in">document</span>.querySelector(<span class="string">&#x27;div&#x27;</span>);</span></span><br><span class="line"><span class="javascript">    div.addEventListener(<span class="string">&#x27;click&#x27;</span>, <span class="function"><span class="keyword">function</span>(<span class="params">e</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(e.target);</span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(<span class="built_in">this</span>);</span></span><br><span class="line">    &#125;)</span><br><span class="line"><span class="javascript">    <span class="keyword">var</span> ul = <span class="built_in">document</span>.querySelector(<span class="string">&#x27;ul&#x27;</span>);</span></span><br><span class="line"><span class="javascript">    ul.addEventListener(<span class="string">&#x27;click&#x27;</span>, <span class="function"><span class="keyword">function</span>(<span class="params">e</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">            <span class="comment">// 我们给ul 绑定了事件  那么this 就指向ul  </span></span></span><br><span class="line"><span class="javascript">            <span class="built_in">console</span>.log(<span class="built_in">this</span>);</span></span><br><span class="line"><span class="javascript">            <span class="built_in">console</span>.log(e.currentTarget);</span></span><br><span class="line"><span class="javascript">            <span class="comment">// e.target 指向我们点击的那个对象 谁触发了这个事件 我们点击的是li e.target 指向的就是li</span></span></span><br><span class="line"><span class="javascript">            <span class="built_in">console</span>.log(e.target);</span></span><br><span class="line">        &#125;)</span><br><span class="line"><span class="javascript">        <span class="comment">// 了解兼容性</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">// div.onclick = function(e) &#123;</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">//     e = e || window.event;</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">//     var target = e.target || e.srcElement;</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">//     console.log(target);</span></span></span><br><span class="line"><span class="javascript">    <span class="comment">// &#125;</span></span></span><br><span class="line"><span class="javascript">    <span class="comment">// 2. 了解 跟 this 有个非常相似的属性 currentTarget  ie678不认识</span></span></span><br></pre></td></tr></table></figure>

<h3 id="事件对象的常见属性和方法-1"><a href="#事件对象的常见属性和方法-1" class="headerlink" title="事件对象的常见属性和方法"></a>事件对象的常见属性和方法</h3><table>
<thead>
<tr>
<th>事件对象属性方法</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>e.target</td>
<td>返回触发事件的对象，标准</td>
</tr>
<tr>
<td>e.srcElement</td>
<td>返回触发事件的对象，非标准，IE 6~8 使用</td>
</tr>
<tr>
<td>e.type</td>
<td>返回事件的类型，比如 click，mouseover，不带 on</td>
</tr>
<tr>
<td>e.cancelBubble</td>
<td>该属性阻止冒泡，非标准 IE 6~8 使用</td>
</tr>
<tr>
<td>e.returnValue</td>
<td>该属性阻止默认事件（默认行为），非标准 IE 6~8  使用，比如不让链接跳转</td>
</tr>
<tr>
<td>e.preventDefault()</td>
<td>该属性阻止默认事件（默认行为），标准，比如不让链接跳转</td>
</tr>
<tr>
<td>e.stopPropagation()</td>
<td>阻止冒泡，标准</td>
</tr>
</tbody></table>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span>123<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;http://www.baidu.com&quot;</span>&gt;</span>百度<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">&quot;http://www.baidu.com&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;submit&quot;</span> <span class="attr">value</span>=<span class="string">&quot;提交&quot;</span> <span class="attr">name</span>=<span class="string">&quot;sub&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">    <span class="comment">// 常见事件对象的属性和方法</span></span></span><br><span class="line"><span class="javascript">    <span class="comment">// 1. 返回事件类型</span></span></span><br><span class="line"><span class="javascript">    <span class="keyword">var</span> div = <span class="built_in">document</span>.querySelector(<span class="string">&#x27;div&#x27;</span>);</span></span><br><span class="line"><span class="javascript">    div.addEventListener(<span class="string">&#x27;click&#x27;</span>, fn);</span></span><br><span class="line"><span class="javascript">    div.addEventListener(<span class="string">&#x27;mouseover&#x27;</span>, fn);</span></span><br><span class="line"><span class="javascript">    div.addEventListener(<span class="string">&#x27;mouseout&#x27;</span>, fn);</span></span><br><span class="line"><span class="javascript">    <span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params">e</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(e.type);</span></span><br><span class="line">    &#125;</span><br><span class="line"><span class="javascript">    <span class="comment">// 2. 阻止默认行为（事件） 让链接不跳转 或者让提交按钮不提交</span></span></span><br><span class="line"><span class="javascript">    <span class="keyword">var</span> a = <span class="built_in">document</span>.querySelector(<span class="string">&#x27;a&#x27;</span>);</span></span><br><span class="line"><span class="javascript">    a.addEventListener(<span class="string">&#x27;click&#x27;</span>, <span class="function"><span class="keyword">function</span>(<span class="params">e</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">            e.preventDefault(); <span class="comment">//  dom 标准写法</span></span></span><br><span class="line">        &#125;)</span><br><span class="line"><span class="javascript">        <span class="comment">// 3. 传统的注册方式</span></span></span><br><span class="line"><span class="javascript">    a.onclick = <span class="function"><span class="keyword">function</span>(<span class="params">e</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">        <span class="comment">// 普通浏览器 e.preventDefault();  方法</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">// e.preventDefault();</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">// 低版本浏览器 ie678  returnValue  属性</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">// e.returnValue;</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">// 我们可以利用return false 也能阻止默认行为 没有兼容性问题 特点： return 后面的代码不执行了， 而且只限于传统的注册方式</span></span></span><br><span class="line"><span class="javascript">        <span class="keyword">return</span> <span class="literal">false</span>;</span></span><br><span class="line">        alert(11);</span><br><span class="line">    &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id="阻止事件冒泡"><a href="#阻止事件冒泡" class="headerlink" title="阻止事件冒泡"></a>阻止事件冒泡</h2><h3 id="阻止事件冒泡的两种方式"><a href="#阻止事件冒泡的两种方式" class="headerlink" title="阻止事件冒泡的两种方式"></a>阻止事件冒泡的两种方式</h3><p>事件冒泡：开始时由最具体的元素接收，然后逐级向上传播到到 DOM 最顶层节点。 </p>
<p>事件冒泡本身的特性，会带来的坏处，也会带来的好处，需要我们灵活掌握。 </p>
<p>标准写法：利用事件对象里面的 stopPropagation()方法</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">e.stopPropagation() </span><br></pre></td></tr></table></figure>

<p>非标准写法：IE 6-8  利用事件对象 cancelBubble 属性</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">e.cancelBubble = true;</span><br></pre></td></tr></table></figure>

<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;father&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;son&quot;</span>&gt;</span>son儿子<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">    <span class="comment">// 常见事件对象的属性和方法</span></span></span><br><span class="line"><span class="javascript">    <span class="comment">// 阻止冒泡  dom 推荐的标准 stopPropagation() </span></span></span><br><span class="line"><span class="javascript">    <span class="keyword">var</span> son = <span class="built_in">document</span>.querySelector(<span class="string">&#x27;.son&#x27;</span>);</span></span><br><span class="line"><span class="javascript">    son.addEventListener(<span class="string">&#x27;click&#x27;</span>, <span class="function"><span class="keyword">function</span>(<span class="params">e</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">        alert(<span class="string">&#x27;son&#x27;</span>);</span></span><br><span class="line"><span class="javascript">        e.stopPropagation(); <span class="comment">// stop 停止  Propagation 传播</span></span></span><br><span class="line"><span class="javascript">        e.cancelBubble = <span class="literal">true</span>; <span class="comment">// 非标准 cancel 取消 bubble 泡泡</span></span></span><br><span class="line"><span class="javascript">    &#125;, <span class="literal">false</span>);</span></span><br><span class="line"><span class="javascript">    <span class="keyword">var</span> father = <span class="built_in">document</span>.querySelector(<span class="string">&#x27;.father&#x27;</span>);</span></span><br><span class="line"><span class="javascript">    father.addEventListener(<span class="string">&#x27;click&#x27;</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">        alert(<span class="string">&#x27;father&#x27;</span>);</span></span><br><span class="line"><span class="javascript">    &#125;, <span class="literal">false</span>);</span></span><br><span class="line"><span class="javascript">    <span class="built_in">document</span>.addEventListener(<span class="string">&#x27;click&#x27;</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">        alert(<span class="string">&#x27;document&#x27;</span>);</span></span><br><span class="line">    &#125;)</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="阻止事件冒泡的兼容性解决方案"><a href="#阻止事件冒泡的兼容性解决方案" class="headerlink" title="阻止事件冒泡的兼容性解决方案"></a>阻止事件冒泡的兼容性解决方案</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">if(e &amp;&amp; e.stopPropagation)&#123; </span><br><span class="line">    e.stopPropagation(); </span><br><span class="line">&#125;else&#123; </span><br><span class="line">    window.event.cancelBubble = true; </span><br><span class="line">&#125; </span><br></pre></td></tr></table></figure>

<h2 id="事件委托（代理、委派）"><a href="#事件委托（代理、委派）" class="headerlink" title="事件委托（代理、委派）"></a>事件委托（代理、委派）</h2><p>事件冒泡本身的特性，会带来的坏处，也会带来的好处，需要我们灵活掌握。生活中有如下场景：</p>
<p>咱们班有100个学生， 快递员有100个快递， 如果一个个的送花费时间较长。同时每个学生领取的时候，也需 要排队领取，也花费时间较长，何如？ </p>
<p>解决方案：  快递员把100个快递，委托给班主任，班主任把这些快递放到办公室，同学们下课自行领取即可。 </p>
<p>优势：  快递员省事，委托给班主任就可以走了。 同学们领取也方便，因为相信班主任。</p>
<p>事件冒泡本身的特性，会带来的坏处，也会带来的好处，需要我们灵活掌握。程序中也有如此场景： </p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ul</span>&gt;</span>         </span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>知否知否，应该有弹框在手<span class="tag">&lt;/<span class="name">li</span>&gt;</span>         </span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>知否知否，应该有弹框在手<span class="tag">&lt;/<span class="name">li</span>&gt;</span>         </span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>知否知否，应该有弹框在手<span class="tag">&lt;/<span class="name">li</span>&gt;</span>         </span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>知否知否，应该有弹框在手<span class="tag">&lt;/<span class="name">li</span>&gt;</span>         </span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>知否知否，应该有弹框在手<span class="tag">&lt;/<span class="name">li</span>&gt;</span>   </span><br><span class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">        <span class="comment">// 事件委托的核心原理：给父节点添加侦听器， 利用事件冒泡影响每一个子节点</span></span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> ul = <span class="built_in">document</span>.querySelector(<span class="string">&#x27;ul&#x27;</span>);</span></span><br><span class="line"><span class="javascript">        ul.addEventListener(<span class="string">&#x27;click&#x27;</span>, <span class="function"><span class="keyword">function</span>(<span class="params">e</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">            <span class="comment">// alert(&#x27;知否知否，点我应有弹框在手！&#x27;);</span></span></span><br><span class="line"><span class="javascript">            <span class="comment">// e.target 这个可以得到我们点击的对象</span></span></span><br><span class="line"><span class="javascript">            e.target.style.backgroundColor = <span class="string">&#x27;pink&#x27;</span>;</span></span><br><span class="line">        &#125;)</span><br><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>点击每个 li 都会弹出对话框，以前需要给每个 li 注册事件，是非常辛苦的，而且访问 DOM 的次数越多，这就 会延长整个页面的交互就绪时间。</p>
<p>事件委托：事件委托也称为事件代理， 在 jQuery 里面称为事件委派。 </p>
<p>事件委托的原理：</p>
<p>不是每个子节点单独设置事件监听器，而是事件监听器设置在其父节点上，然后利用冒泡原理影响设置每个子节点。 </p>
<p>以上案例：给 ul 注册点击事件，然后利用事件对象的 target 来找到当前点击的 li，因为点击 li，事件会冒泡到 ul 上， ul 有注册事件，就会触发事件监听器。 </p>
<p>事件委托的作用 ：我们只操作了一次 DOM ，提高了程序的性能。</p>
<h2 id="常用的鼠标事件"><a href="#常用的鼠标事件" class="headerlink" title="常用的鼠标事件"></a>常用的鼠标事件</h2><table>
<thead>
<tr>
<th>鼠标事件</th>
<th>触发条件</th>
</tr>
</thead>
<tbody><tr>
<td>onlick</td>
<td>鼠标点击左键触发</td>
</tr>
<tr>
<td>onmouseover</td>
<td>鼠标经过触发</td>
</tr>
<tr>
<td>onmouseout</td>
<td>鼠标离开触发</td>
</tr>
<tr>
<td>onfocus</td>
<td>获得鼠标焦点触发</td>
</tr>
<tr>
<td>onblur</td>
<td>失去鼠标焦点触发</td>
</tr>
<tr>
<td>onmousemove</td>
<td>鼠标移动触发</td>
</tr>
<tr>
<td>onmouseup</td>
<td>鼠标弹起触发</td>
</tr>
<tr>
<td>onmousedown</td>
<td>鼠标按下触发</td>
</tr>
</tbody></table>
<h3 id="常用的事件"><a href="#常用的事件" class="headerlink" title="常用的事件"></a>常用的事件</h3><p>1.禁止鼠标右键菜单 </p>
<p>contextmenu主要控制应该何时显示上下文菜单，主要用于程序员取消默认的上下文菜单 </p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">document.addEventListener(&#x27;contextmenu&#x27;, function(e) &#123; </span><br><span class="line">e.preventDefault(); </span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>2.禁止鼠标选中（selectstart 开始选中）</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">document.addEventListener(&#x27;selectstart&#x27;, function(e) &#123; </span><br><span class="line">e.preventDefault(); </span><br><span class="line">&#125;) </span><br></pre></td></tr></table></figure>

<h3 id="鼠标事件对象"><a href="#鼠标事件对象" class="headerlink" title="鼠标事件对象"></a>鼠标事件对象</h3><p>event对象代表事件的状态，跟事件相关的一系列信息的集合。现阶段我们主要是用鼠标事件对象 MouseEvent 和键盘事件对象 KeyboardEvent。 </p>
<table>
<thead>
<tr>
<th>鼠标事件对象</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>e.clientX</td>
<td>返回鼠标相对于浏览器窗口可视区的 X 坐标</td>
</tr>
<tr>
<td>e.clientY</td>
<td>返回鼠标相对于浏览器窗口可视区的 Y 坐标</td>
</tr>
<tr>
<td>e.pageX</td>
<td>返回鼠标相对于文档页面的 X 坐标，IE 9+ 支持</td>
</tr>
<tr>
<td>e.pageY</td>
<td>返回鼠标相对于文档页面的 Y 坐标，IE 9+ 支持</td>
</tr>
<tr>
<td>e.screenX</td>
<td>返回鼠标相对于电脑屏幕的 X 坐标</td>
</tr>
<tr>
<td>e.screenY</td>
<td>返回鼠标相对于电脑屏幕的 Y 坐标</td>
</tr>
</tbody></table>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">// 鼠标事件对象 MouseEvent</span><br><span class="line">document.addEventListener(&#x27;click&#x27;, function(e) &#123;</span><br><span class="line">    // 1. client 鼠标在可视区的x和y坐标</span><br><span class="line">    console.log(e.clientX);</span><br><span class="line">    console.log(e.clientY);</span><br><span class="line">    console.log(&#x27;---------------------&#x27;);</span><br><span class="line"></span><br><span class="line">    // 2. page 鼠标在页面文档的x和y坐标</span><br><span class="line">    console.log(e.pageX);</span><br><span class="line">    console.log(e.pageY);</span><br><span class="line">    console.log(&#x27;---------------------&#x27;);</span><br><span class="line"></span><br><span class="line">    // 3. screen 鼠标在电脑屏幕的x和y坐标</span><br><span class="line">    console.log(e.screenX);</span><br><span class="line">    console.log(e.screenY);</span><br><span class="line"></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h4 id="案例：跟随鼠标的天使"><a href="#案例：跟随鼠标的天使" class="headerlink" title="案例：跟随鼠标的天使"></a>案例：跟随鼠标的天使</h4><p>这个天使图片一直跟随鼠标移动</p>
<p>![](C:\Users\Xia\Desktop\web api笔记\images\Snipaste_2020-09-13_15-29-57.png)</p>
<ol>
<li>鼠标不断的移动，使用鼠标移动事件： mousemove</li>
<li>在页面中移动，给document注册事件</li>
<li>图片要移动距离，而且不占位置，我们使用绝对定位即可</li>
<li>核心原理： 每次鼠标移动，我们都会获得最新的鼠标坐标， 把这个x和y坐标做为图片的 top和left 值就可以移动图片 </li>
</ol>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">      <span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="css">        <span class="selector-tag">img</span> &#123;</span></span><br><span class="line"><span class="css">            <span class="attribute">position</span>: absolute;</span></span><br><span class="line"><span class="css">            <span class="attribute">top</span>: <span class="number">2px</span>;</span></span><br><span class="line">        &#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;images/angel.gif&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> pic = <span class="built_in">document</span>.querySelector(<span class="string">&#x27;img&#x27;</span>);</span></span><br><span class="line"><span class="javascript">        <span class="built_in">document</span>.addEventListener(<span class="string">&#x27;mousemove&#x27;</span>, <span class="function"><span class="keyword">function</span>(<span class="params">e</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">            <span class="comment">// 1. mousemove只要我们鼠标移动1px 就会触发这个事件</span></span></span><br><span class="line"><span class="javascript">            <span class="comment">// console.log(1);</span></span></span><br><span class="line"><span class="javascript">            <span class="comment">// 2.核心原理： 每次鼠标移动，我们都会获得最新的鼠标坐标， 把这个x和y坐标做为图片的top和left 值就可以移动图片</span></span></span><br><span class="line"><span class="javascript">            <span class="keyword">var</span> x = e.pageX;</span></span><br><span class="line"><span class="javascript">            <span class="keyword">var</span> y = e.pageY;</span></span><br><span class="line"><span class="javascript">            <span class="built_in">console</span>.log(<span class="string">&#x27;x坐标是&#x27;</span> + x, <span class="string">&#x27;y坐标是&#x27;</span> + y);</span></span><br><span class="line"><span class="javascript">            <span class="comment">//3 . 千万不要忘记给left 和top 添加px 单位</span></span></span><br><span class="line"><span class="javascript">            pic.style.left = x - <span class="number">50</span> + <span class="string">&#x27;px&#x27;</span>;</span></span><br><span class="line"><span class="javascript">            pic.style.top = y - <span class="number">40</span> + <span class="string">&#x27;px&#x27;</span>;</span></span><br><span class="line">        &#125;);</span><br><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id="常用的键盘事件"><a href="#常用的键盘事件" class="headerlink" title="常用的键盘事件"></a>常用的键盘事件</h2><h3 id="常用键盘事件"><a href="#常用键盘事件" class="headerlink" title="常用键盘事件"></a>常用键盘事件</h3><p>事件除了使用鼠标触发，还可以使用键盘触发， 注意给文档 document 添加键盘事件。</p>
<table>
<thead>
<tr>
<th>键盘事件</th>
<th>触发条件</th>
</tr>
</thead>
<tbody><tr>
<td>onkeyup</td>
<td>某个键盘按键被松开时触发</td>
</tr>
<tr>
<td>onkeydown</td>
<td>某个键盘按键被按下时触发</td>
</tr>
<tr>
<td>onkeypress</td>
<td>某个键盘按键被松开时并弹起时触发。但是它不识别功能键，比如 Ctrl、shift 箭头等</td>
</tr>
</tbody></table>
<p>注意：  onkeypress 和前面2个的区别是，它不识别功能键，比如左右箭头，shift 等。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">// 常用的键盘事件</span><br><span class="line">//1. keyup 按键弹起的时候触发 </span><br><span class="line">// document.onkeyup = function() &#123;</span><br><span class="line">//         console.log(&#x27;我弹起了&#x27;);</span><br><span class="line"></span><br><span class="line">//     &#125;</span><br><span class="line">document.addEventListener(&#x27;keyup&#x27;, function() &#123;</span><br><span class="line">    console.log(&#x27;我弹起了&#x27;);</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">//3. keypress 按键按下的时候触发  不能识别功能键 比如 ctrl shift 左右箭头啊</span><br><span class="line">document.addEventListener(&#x27;keypress&#x27;, function() &#123;</span><br><span class="line">        console.log(&#x27;我按下了press&#x27;);</span><br><span class="line">    &#125;)</span><br><span class="line">    //2. keydown 按键按下的时候触发  能识别功能键 比如 ctrl shift 左右箭头啊</span><br><span class="line">document.addEventListener(&#x27;keydown&#x27;, function() &#123;</span><br><span class="line">        console.log(&#x27;我按下了down&#x27;);</span><br><span class="line">    &#125;)</span><br><span class="line">    // 4. 三个事件的执行顺序  keydown -- keypress -- keyup</span><br></pre></td></tr></table></figure>

<h3 id="ASCII-表"><a href="#ASCII-表" class="headerlink" title="ASCII 表"></a>ASCII 表</h3><p><img src="">![Snipaste_2020-09-13_15-32-28](C:\Users\Xia\Desktop\web api笔记\images\Snipaste_2020-09-13_15-32-28.png)</p>
<h3 id="键盘事件对象"><a href="#键盘事件对象" class="headerlink" title="键盘事件对象"></a>键盘事件对象</h3><table>
<thead>
<tr>
<th>键盘事件对象</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>keyCode</td>
<td>返回该键的 ASCII 值</td>
</tr>
</tbody></table>
<p>注意：  onkeydown 和 onkeyup  不区分字母大小写，onkeypress 区分字母大小写。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">// 键盘事件对象中的keyCode属性可以得到相应键的ASCII码值</span><br><span class="line">// 1. 我们的keyup 和keydown事件不区分字母大小写  a 和 A 得到的都是65</span><br><span class="line">// 2. 我们的keypress 事件 区分字母大小写  a  97 和 A 得到的是65</span><br><span class="line">document.addEventListener(&#x27;keyup&#x27;, function(e) &#123;</span><br><span class="line">    // console.log(e);</span><br><span class="line">    console.log(&#x27;up:&#x27; + e.keyCode);</span><br><span class="line">    // 我们可以利用keycode返回的ASCII码值来判断用户按下了那个键</span><br><span class="line">    if (e.keyCode === 65) &#123;</span><br><span class="line">        alert(&#x27;您按下的a键&#x27;);</span><br><span class="line">    &#125; else &#123;</span><br><span class="line">        alert(&#x27;您没有按下a键&#x27;)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br><span class="line">document.addEventListener(&#x27;keypress&#x27;, function(e) &#123;</span><br><span class="line">    // console.log(e);</span><br><span class="line">    console.log(&#x27;press:&#x27; + e.keyCode);</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h4 id="案例：模拟京东按键输入内容"><a href="#案例：模拟京东按键输入内容" class="headerlink" title="案例：模拟京东按键输入内容"></a>案例：模拟京东按键输入内容</h4><p>当我们按下 s 键， 光标就定位到搜索框 </p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">    <span class="comment">// 核心思路： 检测用户是否按下了s 键，如果按下s 键，就把光标定位到搜索框里面</span></span></span><br><span class="line"><span class="javascript">    <span class="comment">// 使用键盘事件对象里面的keyCode 判断用户按下的是否是s键</span></span></span><br><span class="line"><span class="javascript">    <span class="comment">// 搜索框获得焦点： 使用 js 里面的 focus() 方法</span></span></span><br><span class="line"><span class="javascript">    <span class="keyword">var</span> search = <span class="built_in">document</span>.querySelector(<span class="string">&#x27;input&#x27;</span>);</span></span><br><span class="line"><span class="javascript">    <span class="built_in">document</span>.addEventListener(<span class="string">&#x27;keyup&#x27;</span>, <span class="function"><span class="keyword">function</span>(<span class="params">e</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">        <span class="comment">// console.log(e.keyCode);</span></span></span><br><span class="line">        if (e.keyCode === 83) &#123;</span><br><span class="line">            search.focus();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="案例：模拟京东快递单号查询"><a href="#案例：模拟京东快递单号查询" class="headerlink" title="案例：模拟京东快递单号查询"></a>案例：模拟京东快递单号查询</h4><p>要求：当我们在文本框中输入内容时，文本框上面自动显示大字号的内容。 </p>
<p>![](C:\Users\Xia\Desktop\web api笔记\images\Snipaste_2020-09-13_15-35-00.png)</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;search&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;con&quot;</span>&gt;</span>123<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;请输入您的快递单号&quot;</span> <span class="attr">class</span>=<span class="string">&quot;jd&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript"><span class="comment">// 快递单号输入内容时， 上面的大号字体盒子（con）显示(这里面的字号更大）</span></span></span><br><span class="line"><span class="javascript"><span class="comment">// 表单检测用户输入： 给表单添加键盘事件</span></span></span><br><span class="line"><span class="javascript"><span class="comment">// 同时把快递单号里面的值（value）获取过来赋值给 con盒子（innerText）做为内容</span></span></span><br><span class="line"><span class="javascript"><span class="comment">// 如果快递单号里面内容为空，则隐藏大号字体盒子(con)盒子</span></span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> con = <span class="built_in">document</span>.querySelector(<span class="string">&#x27;.con&#x27;</span>);</span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> jd_input = <span class="built_in">document</span>.querySelector(<span class="string">&#x27;.jd&#x27;</span>);</span></span><br><span class="line"><span class="javascript">        jd_input.addEventListener(<span class="string">&#x27;keyup&#x27;</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">                <span class="comment">// console.log(&#x27;输入内容啦&#x27;);</span></span></span><br><span class="line"><span class="javascript">                <span class="keyword">if</span> (<span class="built_in">this</span>.value == <span class="string">&#x27;&#x27;</span>) &#123;</span></span><br><span class="line"><span class="javascript">                    con.style.display = <span class="string">&#x27;none&#x27;</span>;</span></span><br><span class="line"><span class="javascript">                &#125; <span class="keyword">else</span> &#123;</span></span><br><span class="line"><span class="javascript">                    con.style.display = <span class="string">&#x27;block&#x27;</span>;</span></span><br><span class="line"><span class="javascript">                    con.innerText = <span class="built_in">this</span>.value;</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;)</span><br><span class="line"><span class="javascript">            <span class="comment">// 当我们失去焦点，就隐藏这个con盒子</span></span></span><br><span class="line"><span class="javascript">        jd_input.addEventListener(<span class="string">&#x27;blur&#x27;</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">                con.style.display = <span class="string">&#x27;none&#x27;</span>;</span></span><br><span class="line">            &#125;)</span><br><span class="line"><span class="javascript">            <span class="comment">// 当我们获得焦点，就显示这个con盒子</span></span></span><br><span class="line"><span class="javascript">        jd_input.addEventListener(<span class="string">&#x27;focus&#x27;</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">            <span class="keyword">if</span> (<span class="built_in">this</span>.value !== <span class="string">&#x27;&#x27;</span>) &#123;</span></span><br><span class="line"><span class="javascript">                con.style.display = <span class="string">&#x27;block&#x27;</span>;</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;)</span><br></pre></td></tr></table></figure>

<h1 id="BOM-浏览器对象模型"><a href="#BOM-浏览器对象模型" class="headerlink" title="BOM 浏览器对象模型"></a>BOM 浏览器对象模型</h1><h2 id="BOM-概述"><a href="#BOM-概述" class="headerlink" title="BOM 概述"></a>BOM 概述</h2><h3 id="什么是-BOM"><a href="#什么是-BOM" class="headerlink" title="什么是 BOM"></a>什么是 BOM</h3><p>BOM（Browser Object Model）即浏览器对象模型，它提供了独立于内容而与浏览器窗口进行交互的对象，其核心 对象是 window。 </p>
<p>BOM 由一系列相关的对象构成，并且每个对象都提供了很多方法与属性。 </p>
<p>BOM 缺乏标准，JavaScript 语法的标准化组织是 ECMA，DOM 的标准化组织是 W3C，BOM 最初是Netscape 浏 览器标准的一部分。</p>
<p><strong>DOM</strong></p>
<ul>
<li>文档对象模型</li>
<li>DOM 就是把「文档」当做一个「对象」来看待</li>
<li>DOM 的顶级对象是 document</li>
<li>DOM 主要学习的是操作页面元素</li>
<li>DOM 是 W3C 标准规范</li>
</ul>
<p><strong>BOM</strong></p>
<ul>
<li>浏览器对象模型</li>
<li>把「浏览器」当做一个「对象」来看待</li>
<li>BOM 的顶级对象是 window</li>
<li>BOM 学习的是浏览器窗口交互的一些对象</li>
<li>BOM 是浏览器厂商在各自浏览器上定义的，兼容性较差</li>
</ul>
<h3 id="BOM-的构成"><a href="#BOM-的构成" class="headerlink" title="BOM 的构成"></a>BOM 的构成</h3><p>BOM 比 DOM 更大，它包含 DOM。 </p>
<p>![](C:\Users\Xia\Desktop\web api笔记\images\Snipaste_2020-09-13_22-15-52.png)</p>
<p>window 对象是浏览器的顶级对象，它具有双重角色。 </p>
<ol>
<li>它是 JS 访问浏览器窗口的一个接口。 </li>
<li>它是一个全局对象。定义在全局作用域中的变量、函数都会变成 window 对象的属性和方法。</li>
</ol>
<p>在调用的时候可以省略 window，前面学习的对话框都属于 window 对象方法，如 alert()、prompt() 等。 </p>
<p>注意：window下的一个特殊属性 window.name</p>
<h2 id="window-对象的常见事件"><a href="#window-对象的常见事件" class="headerlink" title="window 对象的常见事件"></a>window 对象的常见事件</h2><h3 id="窗口加载事件"><a href="#窗口加载事件" class="headerlink" title="窗口加载事件"></a>窗口加载事件</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">window.onload = function()&#123;&#125; 或者  window.addEventListener(&quot;load&quot;,function()&#123;&#125;); </span><br></pre></td></tr></table></figure>

<p> window.onload 是窗口 (页面）加载事件,当文档内容完全加载完成会触发该事件(包括图像、脚本文件、CSS 文件等), 就调用的处理函数。 </p>
<p>注意：</p>
<ol>
<li>有了 window.onload 就可以把 JS 代码写到页面元素的上方，因为 onload 是等页面内容全部加载完毕， 再去执行处理函数。 </li>
<li>window.onload 传统注册事件方式 只能写一次，如果有多个，会以最后一个 window.onload 为准。 </li>
<li>如果使用 addEventListener 则没有限制 </li>
</ol>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">document.addEventListener(&#x27;DOMContentLoaded&#x27;,function()&#123;&#125;) </span><br></pre></td></tr></table></figure>

<p>DOMContentLoaded 事件触发时，仅当DOM加载完成，不包括样式表，图片，flash等等。</p>
<p>Ie9以上才支持。</p>
<p>如果页面的图片很多的话, 从用户访问到onload触发可能需要较长的时间, 交互效果就不能实现，必然影响用 户的体验，此时用 DOMContentLoaded 事件比较合适。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">        // window.onload = function() &#123;</span><br><span class="line">        //     var btn = document.querySelector(&#x27;button&#x27;);</span><br><span class="line">        //     btn.addEventListener(&#x27;click&#x27;, function() &#123;</span><br><span class="line">        //         alert(&#x27;点击我&#x27;);</span><br><span class="line">        //     &#125;)</span><br><span class="line">        // &#125;</span><br><span class="line">        // window.onload = function() &#123;</span><br><span class="line">        //     alert(22);</span><br><span class="line">        // &#125;</span><br><span class="line">        window.addEventListener(&#x27;load&#x27;, function() &#123;</span><br><span class="line">            var btn = document.querySelector(&#x27;button&#x27;);</span><br><span class="line">            btn.addEventListener(&#x27;click&#x27;, function() &#123;</span><br><span class="line">                alert(&#x27;点击我&#x27;);</span><br><span class="line">            &#125;)</span><br><span class="line">        &#125;)</span><br><span class="line">        window.addEventListener(&#x27;load&#x27;, function() &#123;</span><br><span class="line">            alert(22);</span><br><span class="line">        &#125;)</span><br><span class="line">        document.addEventListener(&#x27;DOMContentLoaded&#x27;, function() &#123;</span><br><span class="line">                alert(33);</span><br><span class="line">            &#125;)</span><br><span class="line">// load 等页面内容全部加载完毕，包含页面dom元素 图片 flash  css 等等</span><br><span class="line">// DOMContentLoaded 是DOM 加载完毕，不包含图片 falsh css 等就可以执行 加载速度比 load更快一些</span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span>&gt;</span>点击<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="调整窗口大小事件"><a href="#调整窗口大小事件" class="headerlink" title="调整窗口大小事件"></a>调整窗口大小事件</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">window.onresize = function()&#123;&#125; </span><br><span class="line">window.addEventListener(&quot;resize&quot;,function()&#123;&#125;); </span><br></pre></td></tr></table></figure>

<p>window.onresize 是调整窗口大小加载事件,  当触发时就调用的处理函数。 </p>
<p>注意： </p>
<ol>
<li>只要窗口大小发生像素变化，就会触发这个事件。 </li>
<li>我们经常利用这个事件完成响应式布局。 window.innerWidth 当前屏幕的宽度 </li>
</ol>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">window.addEventListener(&#x27;load&#x27;, function() &#123;</span><br><span class="line">    var div = document.querySelector(&#x27;div&#x27;);</span><br><span class="line">    window.addEventListener(&#x27;resize&#x27;, function() &#123;</span><br><span class="line">        console.log(window.innerWidth);</span><br><span class="line">        console.log(&#x27;变化了&#x27;);</span><br><span class="line">        if (window.innerWidth &lt;= 800) &#123;</span><br><span class="line">            div.style.display = &#x27;none&#x27;;</span><br><span class="line">        &#125; else &#123;</span><br><span class="line">            div.style.display = &#x27;block&#x27;;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h2 id="定时器"><a href="#定时器" class="headerlink" title="定时器"></a>定时器</h2><h3 id="两种定时器"><a href="#两种定时器" class="headerlink" title="两种定时器"></a>两种定时器</h3><p>window 对象给我们提供了 2 个非常好用的方法-定时器。 </p>
<ul>
<li>setTimeout() </li>
<li>setInterval()</li>
</ul>
<h3 id="setTimeout-定时器"><a href="#setTimeout-定时器" class="headerlink" title="setTimeout() 定时器"></a>setTimeout() 定时器</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">window.setTimeout(调用函数, [延迟的毫秒数]); </span><br></pre></td></tr></table></figure>

<p>setTimeout() 方法用于设置一个定时器，该定时器在定时器到期后执行调用函数。</p>
<p>注意：</p>
<ol>
<li>window 可以省略</li>
<li>这个调用函数可以直接写函数，或者写函数名或者采取字符串 ‘函数名()’ 三种形式。第三种不推荐</li>
<li>延迟的毫秒数省略默认是 0，如果写，必须是毫秒</li>
<li>因为定时器可能有很多，所以我们经常给定时器赋值一个标识符</li>
</ol>
<p>setTimeout()  这个调用函数我们也称为回调函数 callback</p>
<p>普通函数是按照代码顺序直接调用。</p>
<p>而这个函数，需要等待时间，时间到了才去调用这个函数，因此称为回调函数。 </p>
<p>简单理解： 回调，就是回头调用的意思。上一件事干完，再回头再调用这个函数。 </p>
<p>以前我们讲的   element.onclick = function(){}   或者 element.addEventListener(“click”, fn);   里面的 函数也是回调函数</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">// 1. setTimeout </span><br><span class="line">// 语法规范：  window.setTimeout(调用函数, 延时时间);</span><br><span class="line">// 1. 这个window在调用的时候可以省略</span><br><span class="line">// 2. 这个延时时间单位是毫秒 但是可以省略，如果省略默认的是0</span><br><span class="line">// 3. 这个调用函数可以直接写函数 还可以写 函数名 还有一个写法 &#x27;函数名()&#x27;</span><br><span class="line">// 4. 页面中可能有很多的定时器，我们经常给定时器加标识符 （名字)</span><br><span class="line">// setTimeout(function() &#123;</span><br><span class="line">//     console.log(&#x27;时间到了&#x27;);</span><br><span class="line">// &#125;, 2000);</span><br><span class="line">function callback() &#123;</span><br><span class="line">    console.log(&#x27;爆炸了&#x27;);</span><br><span class="line">&#125;</span><br><span class="line">var timer1 = setTimeout(callback, 3000);</span><br><span class="line">var timer2 = setTimeout(callback, 5000);</span><br><span class="line">// setTimeout(&#x27;callback()&#x27;, 3000); // 我们不提倡这个写法</span><br></pre></td></tr></table></figure>

<h4 id="案例：5秒后自动关闭的广告"><a href="#案例：5秒后自动关闭的广告" class="headerlink" title="案例：5秒后自动关闭的广告"></a>案例：5秒后自动关闭的广告</h4><ol>
<li>核心思路：5秒之后，就把这个广告隐藏起来</li>
<li>用定时器setTimeout  </li>
</ol>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;images/ad.jpg&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;&quot;</span> <span class="attr">class</span>=<span class="string">&quot;ad&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">    <span class="keyword">var</span> ad = <span class="built_in">document</span>.querySelector(<span class="string">&#x27;.ad&#x27;</span>);</span></span><br><span class="line"><span class="javascript">    <span class="built_in">setTimeout</span>(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">        ad.style.display = <span class="string">&#x27;none&#x27;</span>;</span></span><br><span class="line">    &#125;, 5000);</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="停止-setTimeout-定时器"><a href="#停止-setTimeout-定时器" class="headerlink" title="停止 setTimeout() 定时器"></a>停止 setTimeout() 定时器</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">window.clearTimeout(timeoutID) </span><br></pre></td></tr></table></figure>

<p>clearTimeout () 方法取消了先前通过调用 setTimeout() 建立的定时器。 </p>
<p>注意：</p>
<ol>
<li>window 可以省略</li>
<li>里面的参数就是定时器的标识符</li>
</ol>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">button</span>&gt;</span>点击停止定时器<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">    <span class="keyword">var</span> btn = <span class="built_in">document</span>.querySelector(<span class="string">&#x27;button&#x27;</span>);</span></span><br><span class="line"><span class="javascript">    <span class="keyword">var</span> timer = <span class="built_in">setTimeout</span>(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(<span class="string">&#x27;爆炸了&#x27;</span>);</span></span><br><span class="line">    &#125;, 5000);</span><br><span class="line"><span class="javascript">    btn.addEventListener(<span class="string">&#x27;click&#x27;</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">        <span class="built_in">clearTimeout</span>(timer);</span></span><br><span class="line">    &#125;)</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="setInterval-定时器"><a href="#setInterval-定时器" class="headerlink" title="setInterval() 定时器"></a>setInterval() 定时器</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">window.setInterval(回调函数, [间隔的毫秒数]); </span><br></pre></td></tr></table></figure>

<p>setInterval() 方法重复调用一个函数，每隔这个时间，就去调用一次回调函数。</p>
<p>注意：</p>
<ol>
<li>window 可以省略</li>
<li>这个调用函数可以直接写函数，或者写函数名或者采取字符串 ‘函数名()’ 三种形式 </li>
<li>间隔的毫秒数省略默认是 0，如果写，必须是毫秒，表示每隔多少毫秒就自动调用这个函数</li>
<li>因为定时器可能有很多，所以我们经常给定时器赋值一个标识符 </li>
<li>第一次执行也是间隔毫秒数之后执行，之后每隔毫秒数就执行一次</li>
</ol>
<h4 id="案例：倒计时"><a href="#案例：倒计时" class="headerlink" title="案例：倒计时"></a>案例：倒计时</h4><p>![](C:\Users\Xia\Desktop\web api笔记\images\Snipaste_2020-09-13_22-58-32.png)</p>
<ol>
<li>这个倒计时是不断变化的，因此需要定时器来自动变化（setInterval）</li>
<li>三个黑色盒子里面分别存放时分秒</li>
<li>三个黑色盒子利用innerHTML 放入计算的小时分钟秒数</li>
<li>第一次执行也是间隔毫秒数，因此刚刷新页面会有空白</li>
<li>最好采取封装函数的方式，这样可以先调用一次这个函数，防止刚开始刷新页面有空白问题</li>
</ol>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;hour&quot;</span>&gt;</span>1<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;minute&quot;</span>&gt;</span>2<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;second&quot;</span>&gt;</span>3<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">    <span class="comment">// 1. 获取元素 </span></span></span><br><span class="line"><span class="javascript">  <span class="keyword">var</span> hour = <span class="built_in">document</span>.querySelector(<span class="string">&#x27;.hour&#x27;</span>); <span class="comment">// 小时的黑色盒子</span></span></span><br><span class="line"><span class="javascript">  <span class="keyword">var</span> minute = <span class="built_in">document</span>.querySelector(<span class="string">&#x27;.minute&#x27;</span>); <span class="comment">// 分钟的黑色盒子</span></span></span><br><span class="line"><span class="javascript">  <span class="keyword">var</span> second = <span class="built_in">document</span>.querySelector(<span class="string">&#x27;.second&#x27;</span>); <span class="comment">// 秒数的黑色盒子</span></span></span><br><span class="line"><span class="javascript">  <span class="keyword">var</span> inputTime = +<span class="keyword">new</span> <span class="built_in">Date</span>(<span class="string">&#x27;2019-5-1 18:00:00&#x27;</span>); <span class="comment">// 返回的是用户输入时间总的毫秒数</span></span></span><br><span class="line"><span class="javascript">    countDown(); <span class="comment">// 我们先调用一次这个函数，防止第一次刷新页面有空白 </span></span></span><br><span class="line"><span class="javascript">    <span class="comment">// 2. 开启定时器</span></span></span><br><span class="line"><span class="javascript">    <span class="built_in">setInterval</span>(countDown, <span class="number">1000</span>);</span></span><br><span class="line"><span class="javascript">    <span class="function"><span class="keyword">function</span> <span class="title">countDown</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> nowTime = +<span class="keyword">new</span> <span class="built_in">Date</span>(); <span class="comment">// 返回的是当前时间总的毫秒数</span></span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> times = (inputTime - nowTime) / <span class="number">1000</span>; <span class="comment">// times是剩余时间总的秒数 </span></span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> h = <span class="built_in">parseInt</span>(times / <span class="number">60</span> / <span class="number">60</span> % <span class="number">24</span>); <span class="comment">//时</span></span></span><br><span class="line"><span class="javascript">        h = h &lt; <span class="number">10</span> ? <span class="string">&#x27;0&#x27;</span> + h : h;</span></span><br><span class="line"><span class="javascript">        hour.innerHTML = h; <span class="comment">// 把剩余的小时给 小时黑色盒子</span></span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> m = <span class="built_in">parseInt</span>(times / <span class="number">60</span> % <span class="number">60</span>); <span class="comment">// 分</span></span></span><br><span class="line"><span class="javascript">        m = m &lt; <span class="number">10</span> ? <span class="string">&#x27;0&#x27;</span> + m : m;</span></span><br><span class="line">        minute.innerHTML = m;</span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> s = <span class="built_in">parseInt</span>(times % <span class="number">60</span>); <span class="comment">// 当前的秒</span></span></span><br><span class="line"><span class="javascript">        s = s &lt; <span class="number">10</span> ? <span class="string">&#x27;0&#x27;</span> + s : s;</span></span><br><span class="line">        second.innerHTML = s;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="停止-setInterval-定时器"><a href="#停止-setInterval-定时器" class="headerlink" title="停止 setInterval() 定时器"></a>停止 setInterval() 定时器</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">window.clearInterval(intervalID);</span><br></pre></td></tr></table></figure>

<p>clearInterval()方法取消了先前通过调用 setInterval() 建立的定时器。</p>
<p>注意：</p>
<ol>
<li>window 可以省略。 </li>
<li>里面的参数就是定时器的标识符 。 </li>
</ol>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">class</span>=<span class="string">&quot;begin&quot;</span>&gt;</span>开启定时器<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">class</span>=<span class="string">&quot;stop&quot;</span>&gt;</span>停止定时器<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">    <span class="keyword">var</span> begin = <span class="built_in">document</span>.querySelector(<span class="string">&#x27;.begin&#x27;</span>);</span></span><br><span class="line"><span class="javascript">    <span class="keyword">var</span> stop = <span class="built_in">document</span>.querySelector(<span class="string">&#x27;.stop&#x27;</span>);</span></span><br><span class="line"><span class="javascript">    <span class="keyword">var</span> timer = <span class="literal">null</span>; <span class="comment">// 全局变量  null是一个空对象</span></span></span><br><span class="line"><span class="javascript">    begin.addEventListener(<span class="string">&#x27;click&#x27;</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">        timer = <span class="built_in">setInterval</span>(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">            <span class="built_in">console</span>.log(<span class="string">&#x27;ni hao ma&#x27;</span>);</span></span><br><span class="line">        &#125;, 1000);</span><br><span class="line">    &#125;)</span><br><span class="line"><span class="javascript">    stop.addEventListener(<span class="string">&#x27;click&#x27;</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">        <span class="built_in">clearInterval</span>(timer);</span></span><br><span class="line">    &#125;)</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="案例：发送短信"><a href="#案例：发送短信" class="headerlink" title="案例：发送短信"></a>案例：发送短信</h4><p>点击按钮后，该按钮60秒之内不能再次点击，防止重复发送短信。</p>
<p>![](C:\Users\Xia\Desktop\web api笔记\images\Snipaste_2020-09-13_23-10-55.png)</p>
<ol>
<li> 按钮点击之后，会禁用 disabled 为true</li>
<li> 同时按钮里面的内容会变化， 注意 button 里面的内容通过 innerHTML修改</li>
<li> 里面秒数是有变化的，因此需要用到定时器</li>
<li> 定义一个变量，在定时器里面，不断递减</li>
<li> 如果变量为0 说明到了时间，我们需要停止定时器，并且复原按钮初始状态</li>
</ol>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">手机号码： <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;number&quot;</span>&gt;</span> <span class="tag">&lt;<span class="name">button</span>&gt;</span>发送<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">    <span class="comment">// 按钮点击之后，会禁用 disabled 为true </span></span></span><br><span class="line"><span class="javascript">    <span class="comment">// 同时按钮里面的内容会变化， 注意 button 里面的内容通过 innerHTML修改</span></span></span><br><span class="line"><span class="javascript">    <span class="comment">// 里面秒数是有变化的，因此需要用到定时器</span></span></span><br><span class="line"><span class="javascript">    <span class="comment">// 定义一个变量，在定时器里面，不断递减</span></span></span><br><span class="line"><span class="javascript">    <span class="comment">// 如果变量为0 说明到了时间，我们需要停止定时器，并且复原按钮初始状态</span></span></span><br><span class="line"><span class="javascript">    <span class="keyword">var</span> btn = <span class="built_in">document</span>.querySelector(<span class="string">&#x27;button&#x27;</span>);</span></span><br><span class="line"><span class="javascript">    <span class="keyword">var</span> time = <span class="number">3</span>; <span class="comment">// 定义剩下的秒数</span></span></span><br><span class="line"><span class="javascript">    btn.addEventListener(<span class="string">&#x27;click&#x27;</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">        btn.disabled = <span class="literal">true</span>;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> timer = <span class="built_in">setInterval</span>(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line">            if (time == 0) &#123;</span><br><span class="line"><span class="javascript">                <span class="comment">// 清除定时器和复原按钮</span></span></span><br><span class="line"><span class="javascript">                <span class="built_in">clearInterval</span>(timer);</span></span><br><span class="line"><span class="javascript">                btn.disabled = <span class="literal">false</span>;</span></span><br><span class="line"><span class="javascript">                btn.innerHTML = <span class="string">&#x27;发送&#x27;</span>;</span></span><br><span class="line"><span class="javascript">            &#125; <span class="keyword">else</span> &#123;</span></span><br><span class="line"><span class="javascript">                btn.innerHTML = <span class="string">&#x27;还剩下&#x27;</span> + time + <span class="string">&#x27;秒&#x27;</span>;</span></span><br><span class="line">                time--;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;, 1000);</span><br><span class="line">    &#125;)</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="this"><a href="#this" class="headerlink" title="this"></a>this</h3><p>this的指向在函数定义的时候是确定不了的，只有函数执行的时候才能确定this到底指向谁，一般情况下this 的最终指向的是那个调用它的对象。</p>
<p>现阶段，我们先了解一下几个this指向：</p>
<ol>
<li>全局作用域或者普通函数中this指向全局对象window（注意定时器里面的this指向window）</li>
<li>方法调用中谁调用this指向谁</li>
<li>构造函数中this指向构造函数的实例</li>
</ol>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">button</span>&gt;</span>点击<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">    <span class="comment">// this 指向问题 一般情况下this的最终指向的是那个调用它的对象</span></span></span><br><span class="line"><span class="javascript">    <span class="comment">// 1. 全局作用域或者普通函数中this指向全局对象window（ 注意定时器里面的this指向window）</span></span></span><br><span class="line"><span class="javascript">    <span class="built_in">console</span>.log(<span class="built_in">this</span>);</span></span><br><span class="line"><span class="javascript">    <span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(<span class="built_in">this</span>);</span></span><br><span class="line">    &#125;</span><br><span class="line"><span class="javascript">    <span class="built_in">window</span>.fn();</span></span><br><span class="line"><span class="javascript">    <span class="built_in">window</span>.setTimeout(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(<span class="built_in">this</span>);</span></span><br><span class="line">    &#125;, 1000);</span><br><span class="line"><span class="javascript">    <span class="comment">// 2. 方法调用中谁调用this指向谁</span></span></span><br><span class="line"><span class="javascript">    <span class="keyword">var</span> o = &#123;</span></span><br><span class="line"><span class="javascript">        sayHi: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">            <span class="built_in">console</span>.log(<span class="built_in">this</span>); <span class="comment">// this指向的是 o 这个对象</span></span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    o.sayHi();</span><br><span class="line"><span class="javascript">    <span class="keyword">var</span> btn = <span class="built_in">document</span>.querySelector(<span class="string">&#x27;button&#x27;</span>);</span></span><br><span class="line"><span class="javascript">    <span class="comment">// btn.onclick = function() &#123;</span></span></span><br><span class="line"><span class="javascript">    <span class="comment">//     console.log(this); // this指向的是btn这个按钮对象</span></span></span><br><span class="line"><span class="javascript">    <span class="comment">// &#125;</span></span></span><br><span class="line"><span class="javascript">    btn.addEventListener(<span class="string">&#x27;click&#x27;</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">            <span class="built_in">console</span>.log(<span class="built_in">this</span>); <span class="comment">// this指向的是btn这个按钮对象</span></span></span><br><span class="line">        &#125;)</span><br><span class="line"><span class="javascript">        <span class="comment">// 3. 构造函数中this指向构造函数的实例</span></span></span><br><span class="line"><span class="javascript">    <span class="function"><span class="keyword">function</span> <span class="title">Fun</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(<span class="built_in">this</span>); <span class="comment">// this 指向的是fun 实例对象</span></span></span><br><span class="line">    &#125;</span><br><span class="line"><span class="javascript">    <span class="keyword">var</span> fun = <span class="keyword">new</span> Fun();</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id="JS-执行队列"><a href="#JS-执行队列" class="headerlink" title="JS 执行队列"></a>JS 执行队列</h2><h3 id="JS-是单线程"><a href="#JS-是单线程" class="headerlink" title="JS 是单线程"></a>JS 是单线程</h3><p>JavaScript 语言的一大特点就是单线程，也就是说，同一个时间只能做一件事。这是因为 Javascript 这门脚 本语言诞生的使命所致——JavaScript 是为处理页面中用户的交互，以及操作 DOM 而诞生的。比如我们对 某个 DOM 元素进行添加和删除操作，不能同时进行。 应该先进行添加，之后再删除。 </p>
<p>单线程就意味着，所有任务需要排队，前一个任务结束，才会执行后一个任务。这样所导致的问题是： 如果 JS 执行的时间过长，这样就会造成页面的渲染不连贯，导致页面渲染加载阻塞的感觉。</p>
<p>以下代码执行的结果是什么？ </p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">console.log(1);    </span><br><span class="line">setTimeout(function () &#123; </span><br><span class="line">     console.log(3); </span><br><span class="line">&#125;, 1000);    </span><br><span class="line">console.log(2); 		//  1  2   3</span><br></pre></td></tr></table></figure>

<h3 id="同步和异步"><a href="#同步和异步" class="headerlink" title="同步和异步"></a>同步和异步</h3><p>为了解决这个问题，利用多核 CPU 的计算能力，HTML5 提出 Web Worker 标准，允许 JavaScript 脚本创 建多个线程。于是，JS 中出现了同步和异步。 </p>
<p><strong>同步</strong></p>
<p>前一个任务结束后再执行后一个任务，程序的执行顺序与任务的排列顺序是一致的、同步的。比如做饭的同步做 法：我们要烧水煮饭，等水开了（10分钟之后），再去切菜，炒菜。 </p>
<p><strong>异步</strong></p>
<p>你在做一件事情时，因为这件事情会花费很长时间，在做这件事的同时，你还可以去处理其他事情。比如做 饭的异步做法，我们在烧水的同时，利用这10分钟，去切菜，炒菜。 </p>
<p>他们的本质区别： 这条流水线上各个流程的执行顺序不同。 </p>
<p>那么以下代码执行的结果又是什么？</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">console.log(1);    </span><br><span class="line">setTimeout(function () &#123; </span><br><span class="line">     console.log(3); </span><br><span class="line">&#125;, 0);    </span><br><span class="line">console.log(2);			//  1  2  3</span><br></pre></td></tr></table></figure>

<p><strong>同步任务</strong></p>
<p>同步任务都在主线程上执行，形成一个执行栈。</p>
<p><strong>异步任务</strong></p>
<p>JS 的异步是通过回调函数实现的。 </p>
<p>一般而言，异步任务有以下三种类型: </p>
<ol>
<li>普通事件，如 click、resize 等</li>
<li>资源加载，如 load、error 等</li>
<li>定时器，包括 setInterval、setTimeout 等</li>
</ol>
<p>异步任务相关回调函数添加到任务队列中（任务队列也称为消息队列）。</p>
<p>![](C:\Users\Xia\Desktop\web api笔记\images\Snipaste_2020-09-13_23-42-16.png)</p>
<h3 id="JS-执行机制"><a href="#JS-执行机制" class="headerlink" title="JS 执行机制"></a>JS 执行机制</h3><ol>
<li>先执行执行栈中的同步任务</li>
<li>异步任务（回调函数）放入任务队列中</li>
<li>一旦执行栈中的所有同步任务执行完毕，系统就会按次序读取任务队列中的异步任务，于是被读取的异步任 务结束等待状态，进入执行栈，开始执行</li>
</ol>
<p>![](C:\Users\Xia\Desktop\web api笔记\images\Snipaste_2020-09-13_23-43-41.png)</p>
<p>![](C:\Users\Xia\Desktop\web api笔记\images\Snipaste_2020-09-13_23-44-06.png)</p>
<p>![](C:\Users\Xia\Desktop\web api笔记\images\Snipaste_2020-09-13_23-46-59.png)</p>
<p>由于主线程不断的重复获得任务、执行任务、再获取任务、再执行，所以这种机制被称为事件循环（ event loop）。 </p>
<h2 id="location-对象"><a href="#location-对象" class="headerlink" title="location 对象"></a>location 对象</h2><h3 id="什么是-location-对象"><a href="#什么是-location-对象" class="headerlink" title="什么是 location 对象"></a>什么是 location 对象</h3><p>window 对象给我们提供了一个 location 属性用于获取或设置窗体的 URL，并且可以用于解析 URL 。 因为 这个属性返回的是一个对象，所以我们将这个属性也称为 location 对象。 </p>
<h3 id="URL"><a href="#URL" class="headerlink" title="URL"></a>URL</h3><p>统一资源定位符 (Uniform Resource Locator, URL) 是互联网上标准资源的地址。互联网上的每个文件都有 一个唯一的 URL，它包含的信息指出文件的位置以及浏览器应该怎么处理它。</p>
<p>URL 的一般语法格式为： </p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">protocol://host[:port]/path/[?query]#fragment</span><br><span class="line">http://www.itcast.cn/index.html?name=andy&amp;age=18#link</span><br></pre></td></tr></table></figure>

<table>
<thead>
<tr>
<th>组成</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>protocol</td>
<td>通信协议，常用的http、ftp、maito 等</td>
</tr>
<tr>
<td>host</td>
<td>主机（域名）<a class="link"   target="_blank" rel="noopener" href="http://www.baidu.com/" >www.baidu.com<i class="fas fa-external-link-alt"></i></a></td>
</tr>
<tr>
<td>port</td>
<td>端口号。可选，省略时使用方案的默认端口，如 http 的默认端口为 80</td>
</tr>
<tr>
<td>path</td>
<td>路径。由零或多个 ‘/‘ 符号隔开的字符串，一般用来表示主机上的一个目录或文件地址</td>
</tr>
<tr>
<td>query</td>
<td>参数。以键值对的形式，通过 &amp; 符号分隔开来</td>
</tr>
<tr>
<td>fragment</td>
<td>片段。# 后面内容，常见于链接 锚点</td>
</tr>
</tbody></table>
<h3 id="location-对象的属性"><a href="#location-对象的属性" class="headerlink" title="location 对象的属性"></a>location 对象的属性</h3><table>
<thead>
<tr>
<th>location 对象属性</th>
<th>返回值</th>
</tr>
</thead>
<tbody><tr>
<td>location.href</td>
<td>获取或者设置整个 URL</td>
</tr>
<tr>
<td>location.host</td>
<td>返回主机（域名）<a class="link"   target="_blank" rel="noopener" href="http://www.baidu.com/" >www.baidu.com<i class="fas fa-external-link-alt"></i></a></td>
</tr>
<tr>
<td>location.port</td>
<td>返回端口号，如果未写返回空字符串</td>
</tr>
<tr>
<td>location.pathname</td>
<td>返回路径</td>
</tr>
<tr>
<td>location.search</td>
<td>返回参数</td>
</tr>
<tr>
<td>location.hash</td>
<td>返回片段 #后面内容，常见于链接 锚点</td>
</tr>
</tbody></table>
<p>重点记住： href 和 search </p>
<h4 id="案例：-5秒钟之后自动跳转页面"><a href="#案例：-5秒钟之后自动跳转页面" class="headerlink" title="案例： 5秒钟之后自动跳转页面"></a>案例： 5秒钟之后自动跳转页面</h4><ol>
<li>利用定时器做倒计时效果</li>
<li>时间到了，就跳转页面。 使用 location.href </li>
</ol>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">button</span>&gt;</span>点击<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">    <span class="keyword">var</span> btn = <span class="built_in">document</span>.querySelector(<span class="string">&#x27;button&#x27;</span>);</span></span><br><span class="line"><span class="javascript">    <span class="keyword">var</span> div = <span class="built_in">document</span>.querySelector(<span class="string">&#x27;div&#x27;</span>);</span></span><br><span class="line"><span class="javascript">    btn.addEventListener(<span class="string">&#x27;click&#x27;</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">        <span class="comment">// console.log(location.href);</span></span></span><br><span class="line"><span class="javascript">        location.href = <span class="string">&#x27;http://www.itcast.cn&#x27;</span>;</span></span><br><span class="line">    &#125;)</span><br><span class="line"><span class="javascript">    <span class="keyword">var</span> timer = <span class="number">5</span>;</span></span><br><span class="line"><span class="javascript">    <span class="built_in">setInterval</span>(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line">        if (timer == 0) &#123;</span><br><span class="line"><span class="javascript">            location.href = <span class="string">&#x27;http://www.itcast.cn&#x27;</span>;</span></span><br><span class="line"><span class="javascript">        &#125; <span class="keyword">else</span> &#123;</span></span><br><span class="line"><span class="javascript">            div.innerHTML = <span class="string">&#x27;您将在&#x27;</span> + timer + <span class="string">&#x27;秒钟之后跳转到首页&#x27;</span>;</span></span><br><span class="line">            timer--;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;, 1000);</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="案例：-获取-URL-参数数据"><a href="#案例：-获取-URL-参数数据" class="headerlink" title="案例： 获取 URL 参数数据"></a>案例： 获取 URL 参数数据</h4><p>主要练习数据在不同页面中的传递。 </p>
<ol>
<li>第一个登录页面，里面有提交表单， action 提交到 index.html页面</li>
<li>第二个页面，可以使用第一个页面的参数，这样实现了一个数据不同页面之间的传递效果</li>
<li>第二个页面之所以可以使用第一个页面的数据，是利用了URL 里面的 location.search参数</li>
<li>在第二个页面中，需要把这个参数提取</li>
<li>第一步去掉？  利用 substr</li>
<li>第二步 利用=号分割 键 和 值     split(‘=‘)</li>
<li>第一个数组就是键   第二个数组就是值</li>
</ol>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">// 第一个页面</span><br><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">&quot;index.html&quot;</span>&gt;</span></span><br><span class="line">        用户名： <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">name</span>=<span class="string">&quot;uname&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;submit&quot;</span> <span class="attr">value</span>=<span class="string">&quot;登录&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line"></span><br><span class="line">// 第二个页面</span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(location.search); <span class="comment">// ?uname=andy</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">// 1.先去掉？  substr(&#x27;起始的位置&#x27;，截取几个字符);</span></span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> params = location.search.substr(<span class="number">1</span>); <span class="comment">// uname=andy</span></span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(params);</span></span><br><span class="line"><span class="javascript">        <span class="comment">// 2. 利用=把字符串分割为数组 split(&#x27;=&#x27;);</span></span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> arr = params.split(<span class="string">&#x27;=&#x27;</span>);</span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(arr); <span class="comment">// [&quot;uname&quot;, &quot;ANDY&quot;]</span></span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> div = <span class="built_in">document</span>.querySelector(<span class="string">&#x27;div&#x27;</span>);</span></span><br><span class="line"><span class="javascript">        <span class="comment">// 3.把数据写入div中</span></span></span><br><span class="line"><span class="javascript">        div.innerHTML = arr[<span class="number">1</span>] + <span class="string">&#x27;欢迎您&#x27;</span>;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="location-对象的方法"><a href="#location-对象的方法" class="headerlink" title="location 对象的方法"></a>location 对象的方法</h3><table>
<thead>
<tr>
<th>location 对象方法</th>
<th>返回值</th>
</tr>
</thead>
<tbody><tr>
<td>location.assign()</td>
<td>跟 href 一样，可以跳转页面（也称为重定向页面）</td>
</tr>
<tr>
<td>location.replace()</td>
<td>替换当前页面，因为不记录历史，所以不能后退页面</td>
</tr>
<tr>
<td>location.reload()</td>
<td>重新加载页面，相当于刷新按钮或者 f5 如果参数为 true，强制刷新 Ctrl+f5</td>
</tr>
</tbody></table>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">button</span>&gt;</span>点击<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">    <span class="keyword">var</span> btn = <span class="built_in">document</span>.querySelector(<span class="string">&#x27;button&#x27;</span>);</span></span><br><span class="line"><span class="javascript">    btn.addEventListener(<span class="string">&#x27;click&#x27;</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">        <span class="comment">// 记录浏览历史，所以可以实现后退功能</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">// location.assign(&#x27;http://www.itcast.cn&#x27;);</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">// 不记录浏览历史，所以不可以实现后退功能</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">// location.replace(&#x27;http://www.itcast.cn&#x27;);</span></span></span><br><span class="line"><span class="javascript">        location.reload(<span class="literal">true</span>);</span></span><br><span class="line">    &#125;)</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id="navigator-对象"><a href="#navigator-对象" class="headerlink" title="navigator 对象"></a>navigator 对象</h2><p>navigator 对象包含有关浏览器的信息，它有很多属性，我们最常用的是 userAgent，该属性可以返回由客 户机发送服务器的 user-agent 头部的值。</p>
<p>下面前端代码可以判断用户那个终端打开页面，实现跳转</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">if((navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|</span><br><span class="line">Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS</span><br><span class="line">|Symbian|Windows Phone)/i))) &#123; </span><br><span class="line">    window.location.href = &quot;&quot;;     //手机 </span><br><span class="line">&#125; else &#123; </span><br><span class="line">    window.location.href = &quot;&quot;;     //电脑 </span><br><span class="line">&#125; </span><br></pre></td></tr></table></figure>

<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript">       <span class="keyword">if</span>((navigator.userAgent.match(<span class="regexp">/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i</span>))) &#123;</span></span><br><span class="line"><span class="javascript">            <span class="built_in">window</span>.location.href = <span class="string">&quot;../H5/index.html&quot;</span>; <span class="comment">//手机</span></span></span><br><span class="line">        &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id="history-对象"><a href="#history-对象" class="headerlink" title="history 对象"></a>history 对象</h2><p>window 对象给我们提供了一个 history 对象，与浏览器历史记录进行交互。该对象包含用户（在浏览器窗口中） 访问过的 URL。 </p>
<table>
<thead>
<tr>
<th>history 对象方法</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>back()</td>
<td>可以后退功能</td>
</tr>
<tr>
<td>forward()</td>
<td>前进功能</td>
</tr>
<tr>
<td>go(参数)</td>
<td>前进后退功能，参数如果是 1，前进 1 个页面，如果是 -1 后退一个页面</td>
</tr>
</tbody></table>
<p>history 对象一般在实际开发中比较少用，但是会在一些 OA 办公系统中见到。</p>
<p>![](C:\Users\Xia\Desktop\web api笔记\images\Snipaste_2020-09-14_14-22-11.png)</p>
<h1 id="PC-端网页特效"><a href="#PC-端网页特效" class="headerlink" title="PC 端网页特效"></a>PC 端网页特效</h1><h2 id="元素偏移量-offset-系列"><a href="#元素偏移量-offset-系列" class="headerlink" title="元素偏移量 offset 系列"></a>元素偏移量 offset 系列</h2><h3 id="offset-概述"><a href="#offset-概述" class="headerlink" title="offset 概述"></a>offset 概述</h3><p>offset 翻译过来就是偏移量， 我们使用 offset 系列相关属性可以动态的得到该元素的位置（偏移）、大小等。 </p>
<ul>
<li>获得元素距离带有定位父元素的位置</li>
<li>获得元素自身的大小（宽度高度）</li>
<li>注意： 返回的数值都不带单位 </li>
</ul>
<p>offset 系列常用属性：</p>
<table>
<thead>
<tr>
<th>offset系列属性</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>element.offsetParent</td>
<td>返回作为该元素带有定位的父级元素，如果父级都没有定位，则返回 body</td>
</tr>
<tr>
<td>element.offsetTop</td>
<td>返回元素相对带有定位父元素上方的偏移</td>
</tr>
<tr>
<td>element.offsetLeft</td>
<td>返回元素相对带有定位父元素左边框的偏移</td>
</tr>
<tr>
<td>element.offsetWidth</td>
<td>返回作为该元素带有定位的父级元素，如果父级都没有定位，则返回 body</td>
</tr>
<tr>
<td>element.offsetHeight</td>
<td>返回作为该元素带有定位的父级元素，如果父级都没有定位，则返回 body</td>
</tr>
</tbody></table>
<h3 id="offset-与-style-区别"><a href="#offset-与-style-区别" class="headerlink" title="offset 与 style 区别"></a>offset 与 style 区别</h3><p><strong>offset</strong></p>
<ul>
<li> offset 可以得到任意样式表中的样式值</li>
<li> offset 系列获得的数值是没有单位的</li>
<li> offsetWidth 包含padding+border+width</li>
<li> offsetWidth 等属性是只读属性，只能获取不能赋值</li>
<li> 所以，我们想要获取元素大小位置，用offset更合适</li>
</ul>
<p><strong>style</strong></p>
<ul>
<li>style 只能得到行内样式表中的样式值</li>
<li>style.width 获得的是带有单位的字符串</li>
<li>style.width 获得不包含padding和border 的值</li>
<li>style.width 是可读写属性，可以获取也可以赋值</li>
<li>所以，我们想要给元素更改值，则需要用style改变</li>
</ul>
<p>offset 翻译过来就是偏移量， 我们使用 offset 系列相关属性可以动态的得到该元素的位置（偏移）、大小等。 </p>
<ul>
<li>获得元素距离带有定位父元素的位置</li>
<li>获得元素自身的大小（宽度高度）  </li>
</ul>
<p>![](C:\Users\Xia\Desktop\web api笔记\images\Snipaste_2020-09-14_14-32-26.png)</p>
<h4 id="案例：获取鼠标在盒子内的坐标"><a href="#案例：获取鼠标在盒子内的坐标" class="headerlink" title="案例：获取鼠标在盒子内的坐标"></a>案例：获取鼠标在盒子内的坐标</h4><ol>
<li>我们在盒子内点击，想要得到鼠标距离盒子左右的距离</li>
<li>首先得到鼠标在页面中的坐标（e.pageX, e.pageY）</li>
<li>其次得到盒子在页面中的距离 ( box.offsetLeft, box.offsetTop) </li>
<li>用鼠标距离页面的坐标减去盒子在页面中的距离，得到 鼠标在盒子内的坐标</li>
<li>如果想要移动一下鼠标，就要获取最新的坐标，使用鼠标移动事件 mousemove</li>
</ol>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;box&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">    <span class="comment">// 我们在盒子内点击， 想要得到鼠标距离盒子左右的距离。</span></span></span><br><span class="line"><span class="javascript">    <span class="comment">// 首先得到鼠标在页面中的坐标（ e.pageX, e.pageY）</span></span></span><br><span class="line"><span class="javascript">    <span class="comment">// 其次得到盒子在页面中的距离(box.offsetLeft, box.offsetTop)</span></span></span><br><span class="line"><span class="javascript">    <span class="comment">// 用鼠标距离页面的坐标减去盒子在页面中的距离， 得到 鼠标在盒子内的坐标</span></span></span><br><span class="line"><span class="javascript">    <span class="keyword">var</span> box = <span class="built_in">document</span>.querySelector(<span class="string">&#x27;.box&#x27;</span>);</span></span><br><span class="line"><span class="javascript">    box.addEventListener(<span class="string">&#x27;mousemove&#x27;</span>, <span class="function"><span class="keyword">function</span>(<span class="params">e</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">        <span class="comment">// console.log(e.pageX);</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">// console.log(e.pageY);</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">// console.log(box.offsetLeft);</span></span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> x = e.pageX - <span class="built_in">this</span>.offsetLeft;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> y = e.pageY - <span class="built_in">this</span>.offsetTop;</span></span><br><span class="line"><span class="javascript">        <span class="built_in">this</span>.innerHTML = <span class="string">&#x27;x坐标是&#x27;</span> + x + <span class="string">&#x27; y坐标是&#x27;</span> + y;</span></span><br><span class="line">    &#125;)</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="案例：模态框拖拽"><a href="#案例：模态框拖拽" class="headerlink" title="案例：模态框拖拽"></a>案例：模态框拖拽</h4><p>弹出框，我们也称为模态框。 </p>
<ol>
<li>点击弹出层， 会弹出模态框， 并且显示灰色半透明的遮挡层 </li>
<li>点击关闭按钮，可以关闭模态框，并且同时关闭灰色半透明遮挡层 </li>
<li>鼠标放到模态框最上面一行，可以按住鼠标拖拽模态框在页面中移动 </li>
<li>鼠标松开，可以停止拖动模态框移动</li>
</ol>
<p>案例分析：</p>
<ol>
<li>点击弹出层， 模态框和遮挡层就会显示出来 display:block; </li>
<li>点击关闭按钮，模态框和遮挡层就会隐藏起来 display:none; </li>
<li>在页面中拖拽的原理：鼠标按下并且移动，之后松开鼠标</li>
<li>触发事件是鼠标按下 mousedown， 鼠标移动mousemove 鼠标松开 mouseup</li>
<li>拖拽过程:  鼠标移动过程中，获得最新的值赋值给模态框的left和top值，这样模态框可以跟着鼠标走了</li>
<li>鼠标按下触发的事件源是 最上面一行，就是  id 为 title</li>
<li>鼠标的坐标 减去 鼠标在盒子内的坐标， 才是模态框真正的位置</li>
<li>鼠标按下，我们要得到鼠标在盒子的坐标</li>
<li>鼠标移动，就让模态框的坐标设置为： 鼠标坐标减去盒子坐标即可，注意移动事件写到按下事件里面</li>
<li>鼠标松开，就停止拖拽，就是可以让鼠标移动事件解除</li>
</ol>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">// 1. 获取元素</span><br><span class="line">var login = document.querySelector(&#x27;.login&#x27;);</span><br><span class="line">var mask = document.querySelector(&#x27;.login-bg&#x27;);</span><br><span class="line">var link = document.querySelector(&#x27;#link&#x27;);</span><br><span class="line">var closeBtn = document.querySelector(&#x27;#closeBtn&#x27;);</span><br><span class="line">var title = document.querySelector(&#x27;#title&#x27;);</span><br><span class="line">// 2. 点击弹出层这个链接 link  让mask 和login 显示出来</span><br><span class="line">link.addEventListener(&#x27;click&#x27;, function() &#123;</span><br><span class="line">        mask.style.display = &#x27;block&#x27;;</span><br><span class="line">        login.style.display = &#x27;block&#x27;;</span><br><span class="line">    &#125;)</span><br><span class="line">    // 3. 点击 closeBtn 就隐藏 mask 和 login </span><br><span class="line">closeBtn.addEventListener(&#x27;click&#x27;, function() &#123;</span><br><span class="line">        mask.style.display = &#x27;none&#x27;;</span><br><span class="line">        login.style.display = &#x27;none&#x27;;</span><br><span class="line">    &#125;)</span><br><span class="line">    // 4. 开始拖拽</span><br><span class="line">    // (1) 当我们鼠标按下， 就获得鼠标在盒子内的坐标</span><br><span class="line">title.addEventListener(&#x27;mousedown&#x27;, function(e) &#123;</span><br><span class="line">    var x = e.pageX - login.offsetLeft;</span><br><span class="line">    var y = e.pageY - login.offsetTop;</span><br><span class="line">    // (2) 鼠标移动的时候，把鼠标在页面中的坐标，减去 鼠标在盒子内的坐标就是模态框的left和top值</span><br><span class="line">    document.addEventListener(&#x27;mousemove&#x27;, move)</span><br><span class="line"></span><br><span class="line">    function move(e) &#123;</span><br><span class="line">        login.style.left = e.pageX - x + &#x27;px&#x27;;</span><br><span class="line">        login.style.top = e.pageY - y + &#x27;px&#x27;;</span><br><span class="line">    &#125;</span><br><span class="line">    // (3) 鼠标弹起，就让鼠标移动事件移除</span><br><span class="line">    document.addEventListener(&#x27;mouseup&#x27;, function() &#123;</span><br><span class="line">        document.removeEventListener(&#x27;mousemove&#x27;, move);</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h4 id="案例：仿京东放大镜"><a href="#案例：仿京东放大镜" class="headerlink" title="案例：仿京东放大镜"></a>案例：仿京东放大镜</h4><ol>
<li>整个案例可以分为三个功能模块</li>
<li>鼠标经过小图片盒子， 黄色的遮挡层和大图片盒子显示，离开隐藏2个盒子功能</li>
<li>黄色的遮挡层跟随鼠标功能</li>
<li>移动黄色遮挡层，大图片跟随移动功能</li>
</ol>
<p>① 鼠标经过小图片盒子，黄色的遮挡层和大图片盒子显示，离开隐藏2个盒子功能</p>
<p>② 就是显示与隐藏</p>
<p>① 黄色的遮挡层跟随鼠标功能</p>
<p>② 把鼠标坐标给遮挡层不合适。因为遮挡层坐标以父盒子为准</p>
<p>③ 首先是获得鼠标在盒子的坐标</p>
<p>④ 之后把数值给遮挡层做为left 和top值</p>
<p>⑤ 此时用到鼠标移动事件，但是还是在小图片盒子内移动</p>
<p>⑥ 发现，遮挡层位置不对，需要再减去盒子自身高度和宽度的一半</p>
<p>⑦ 遮挡层不能超出小图片盒子范围</p>
<p>⑧ 如果小于零，就把坐标设置为0 </p>
<p>⑨ 如果大于遮挡层最大的移动距离，就把坐标设置为最大的移动距离</p>
<p>⑩ 遮挡层的最大移动距离： 小图片盒子宽度 减去 遮挡层盒子宽度</p>
<p>![](C:\Users\Xia\Desktop\web api笔记\images\Snipaste_2020-09-16_16-02-50.png)</p>
<p>![](C:\Users\Xia\Desktop\web api笔记\images\Snipaste_2020-09-16_16-03-10.png)</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line">window.addEventListener(&#x27;load&#x27;, function() &#123;</span><br><span class="line">    var preview_img = document.querySelector(&#x27;.preview_img&#x27;);</span><br><span class="line">    var mask = document.querySelector(&#x27;.mask&#x27;);</span><br><span class="line">    var big = document.querySelector(&#x27;.big&#x27;);</span><br><span class="line">    // 1. 当我们鼠标经过 preview_img 就显示和隐藏 mask 遮挡层 和 big 大盒子</span><br><span class="line">    preview_img.addEventListener(&#x27;mouseover&#x27;, function() &#123;</span><br><span class="line">        mask.style.display = &#x27;block&#x27;;</span><br><span class="line">        big.style.display = &#x27;block&#x27;;</span><br><span class="line">    &#125;)</span><br><span class="line">    preview_img.addEventListener(&#x27;mouseout&#x27;, function() &#123;</span><br><span class="line">            mask.style.display = &#x27;none&#x27;;</span><br><span class="line">            big.style.display = &#x27;none&#x27;;</span><br><span class="line">        &#125;)</span><br><span class="line">        // 2. 鼠标移动的时候，让黄色的盒子跟着鼠标来走</span><br><span class="line">    preview_img.addEventListener(&#x27;mousemove&#x27;, function(e) &#123;</span><br><span class="line">        // (1). 先计算出鼠标在盒子内的坐标</span><br><span class="line">        var x = e.pageX - this.offsetLeft;</span><br><span class="line">        var y = e.pageY - this.offsetTop;</span><br><span class="line">        // console.log(x, y);</span><br><span class="line">        // (2) 减去盒子高度 300的一半 是 150 就是我们mask 的最终 left 和top值了</span><br><span class="line">        // (3) 我们mask 移动的距离</span><br><span class="line">        var maskX = x - mask.offsetWidth / 2;</span><br><span class="line">        var maskY = y - mask.offsetHeight / 2;</span><br><span class="line">        // (4) 如果x 坐标小于了0 就让他停在0 的位置</span><br><span class="line">        // 遮挡层的最大移动距离</span><br><span class="line">        var maskMax = preview_img.offsetWidth - mask.offsetWidth;</span><br><span class="line">        if (maskX &lt;= 0) &#123;</span><br><span class="line">            maskX = 0;</span><br><span class="line">        &#125; else if (maskX &gt;= maskMax) &#123;</span><br><span class="line">            maskX = maskMax;</span><br><span class="line">        &#125;</span><br><span class="line">        if (maskY &lt;= 0) &#123;</span><br><span class="line">            maskY = 0;</span><br><span class="line">        &#125; else if (maskY &gt;= maskMax) &#123;</span><br><span class="line">            maskY = maskMax;</span><br><span class="line">        &#125;</span><br><span class="line">        mask.style.left = maskX + &#x27;px&#x27;;</span><br><span class="line">        mask.style.top = maskY + &#x27;px&#x27;;</span><br><span class="line">        // 3. 大图片的移动距离 = 遮挡层移动距离 * 大图片最大移动距离 / 遮挡层的最大移动距离</span><br><span class="line">        // 大图</span><br><span class="line">        var bigIMg = document.querySelector(&#x27;.bigImg&#x27;);</span><br><span class="line">        // 大图片最大移动距离</span><br><span class="line">        var bigMax = bigIMg.offsetWidth - big.offsetWidth;</span><br><span class="line">        // 大图片的移动距离 X Y</span><br><span class="line">        var bigX = maskX * bigMax / maskMax;</span><br><span class="line">        var bigY = maskY * bigMax / maskMax;</span><br><span class="line">        bigIMg.style.left = -bigX + &#x27;px&#x27;;</span><br><span class="line">        bigIMg.style.top = -bigY + &#x27;px&#x27;;</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h2 id="元素可视区-client-系列"><a href="#元素可视区-client-系列" class="headerlink" title="元素可视区 client 系列"></a>元素可视区 client 系列</h2><p>client 翻译过来就是客户端，我们使用 client 系列的相关属性来获取元素可视区的相关信息。通过 client 系列 的相关属性可以动态的得到该元素的边框大小、元素大小等。</p>
<table>
<thead>
<tr>
<th>client系列属性</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>element.clientTop</td>
<td>返回元素上边框的大小</td>
</tr>
<tr>
<td>element.clientLeft</td>
<td>返回元素左边框的大小</td>
</tr>
<tr>
<td>element.clientWidth</td>
<td>返回自身包括 padding、内容区的宽度，不含边框，返回数值不带单位</td>
</tr>
<tr>
<td>element.clientHeight</td>
<td>返回自身包括 padding、内容区的高度，不含边框，返回数值不带单位</td>
</tr>
</tbody></table>
<p>![](C:\Users\Xia\Desktop\web api笔记\images\Snipaste_2020-09-16_16-21-38.png)</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">    <span class="comment">// client 宽度 和我们offsetWidth 最大的区别就是 不包含边框</span></span></span><br><span class="line"><span class="javascript">    <span class="keyword">var</span> div = <span class="built_in">document</span>.querySelector(<span class="string">&#x27;div&#x27;</span>);</span></span><br><span class="line"><span class="javascript">    <span class="built_in">console</span>.log(div.clientWidth);</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="案例：-淘宝-flexible-js-源码分析"><a href="#案例：-淘宝-flexible-js-源码分析" class="headerlink" title="案例： 淘宝 flexible.js 源码分析"></a>案例： 淘宝 flexible.js 源码分析</h3><p>立即执行函数  (function() {})()  或者 (function(){}()) </p>
<p>主要作用： 创建一个独立的作用域。 避免了命名冲突问题。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">// 1.立即执行函数: 不需要调用，立马能够自己执行的函数</span><br><span class="line">        function fn() &#123;</span><br><span class="line">            console.log(1);</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">        fn();</span><br><span class="line">        // 2. 写法 也可以传递参数进来</span><br><span class="line">        // 1.(function() &#123;&#125;)()    或者  2. (function()&#123;&#125;());</span><br><span class="line">        (function(a, b) &#123;</span><br><span class="line">            console.log(a + b);</span><br><span class="line">            var num = 10;</span><br><span class="line">        &#125;)(1, 2); // 第二个小括号可以看做是调用函数</span><br><span class="line">        (function sum(a, b) &#123;</span><br><span class="line">            console.log(a + b);</span><br><span class="line">            var num = 10; // 局部变量</span><br><span class="line">        &#125;(2, 3));</span><br><span class="line">// 3. 立即执行函数最大的作用就是 独立创建了一个作用域, 里面所有的变量都是局部变量 不会有命名冲突的情况</span><br></pre></td></tr></table></figure>

<p>下面三种情况都会刷新页面都会触发 load 事件：</p>
<ol>
<li>a标签的超链接 </li>
<li>F5或者刷新按钮（强制刷新） </li>
<li>前进后退按钮</li>
</ol>
<p>但是火狐中有个特点，有个“往返缓存”，这个缓存中不仅保存着页面数据，还保存了DOM和JavaScript的 状态；实际上是将整个页面都保存在了内存里。</p>
<p>所以此时后退按钮不能刷新页面。 </p>
<p>此时可以使用 pageshow事件来触发。，这个事件在页面显示时触发，无论页面是否来自缓存。在重新加载页 面中，pageshow会在load事件触发后触发；根据事件对象中的persisted来判断是否是缓存中的页面触发的 pageshow事件，注意这个事件给window添加。</p>
<h2 id="元素滚动-scroll-系列"><a href="#元素滚动-scroll-系列" class="headerlink" title="元素滚动 scroll 系列"></a>元素滚动 scroll 系列</h2><h3 id="元素-scroll-系列属性"><a href="#元素-scroll-系列属性" class="headerlink" title="元素 scroll 系列属性"></a>元素 scroll 系列属性</h3><p>scroll 翻译过来就是滚动的，我们使用 scroll 系列的相关属性可以动态的得到该元素的大小、滚动距离等。 </p>
<table>
<thead>
<tr>
<th>scroll 系列属性</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>element.scrollTop</td>
<td>返回被卷去的上侧距离，返回数值不带单位</td>
</tr>
<tr>
<td>element.scrollLeft</td>
<td>返回被卷去的左侧距离，返回数值不带单位</td>
</tr>
<tr>
<td>element.scrollWidth</td>
<td>返回自身实际的宽度，不含边框，返回数值不带单位</td>
</tr>
<tr>
<td>element.scrollHeight</td>
<td>返回自身实际的高度，不含边框，返回数值不带单位</td>
</tr>
</tbody></table>
<p>![](C:\Users\Xia\Desktop\web api笔记\images\Snipaste_2020-09-16_16-27-28.png)</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">我是内容 我是内容 我是内容 我是内容 我是内容 我是内容 我是内容 我是内容 我是内容 我是内容 我是内容 我是内容 我是内容 我是内容 我是内容 我是内容 我是内容 我是内容 我是内容 我是内容 我是内容 我是内容 我是内容 我是内容 我是内容 我是内容 我是内容 我是内容 我是内容 我是内容 我是内容 我是内容 我是内容 我是内容</span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">        <span class="comment">// scroll 系列</span></span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> div = <span class="built_in">document</span>.querySelector(<span class="string">&#x27;div&#x27;</span>);</span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(div.scrollHeight);</span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(div.clientHeight);</span></span><br><span class="line"><span class="javascript">        <span class="comment">// scroll滚动事件当我们滚动条发生变化会触发的事件</span></span></span><br><span class="line"><span class="javascript">        div.addEventListener(<span class="string">&#x27;scroll&#x27;</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">            <span class="built_in">console</span>.log(div.scrollTop);</span></span><br><span class="line">        &#125;)</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="页面被卷去的头部"><a href="#页面被卷去的头部" class="headerlink" title="页面被卷去的头部"></a>页面被卷去的头部</h3><p>如果浏览器的高（或宽）度不足以显示整个页面时，会自动出现滚动条。当滚动条向下滚动时，页面上面被隐藏 掉的高度，我们就称为页面被卷去的头部。滚动条在滚动时会触发 onscroll 事件。</p>
<h4 id="案例：仿淘宝固定右侧侧边栏"><a href="#案例：仿淘宝固定右侧侧边栏" class="headerlink" title="案例：仿淘宝固定右侧侧边栏"></a>案例：仿淘宝固定右侧侧边栏</h4><ol>
<li><p>原先侧边栏是绝对定位 </p>
</li>
<li><p>当页面滚动到一定位置，侧边栏改为固定定位 </p>
</li>
<li><p>页面继续滚动，会让 返回顶部显示出来</p>
</li>
</ol>
<p>案例分析：</p>
<ol>
<li>需要用到页面滚动事件 scroll  因为是页面滚动，所以事件源是 document</li>
<li>滚动到某个位置，就是判断页面被卷去的上部值</li>
<li>页面被卷去的头部：可以通过window.pageYOffset 获得  如果是被卷去的左侧 window.pageXOffset</li>
<li>注意，元素被卷去的头部是 element.scrollTop  , 如果是页面被卷去的头部 则是 window.pageYOffset</li>
<li>其实这个值 可以通过盒子的 offsetTop 可以得到，如果大于等于这个值，就可以让盒子固定定位了</li>
</ol>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;slider-bar&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;goBack&quot;</span>&gt;</span>返回顶部<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;header w&quot;</span>&gt;</span>头部区域<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;banner w&quot;</span>&gt;</span>banner区域<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;main w&quot;</span>&gt;</span>主体部分<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">    <span class="comment">//1. 获取元素</span></span></span><br><span class="line"><span class="javascript">    <span class="keyword">var</span> sliderbar = <span class="built_in">document</span>.querySelector(<span class="string">&#x27;.slider-bar&#x27;</span>);</span></span><br><span class="line"><span class="javascript">    <span class="keyword">var</span> banner = <span class="built_in">document</span>.querySelector(<span class="string">&#x27;.banner&#x27;</span>);</span></span><br><span class="line"><span class="javascript">    <span class="comment">// banner.offestTop 就是被卷去头部的大小 一定要写到滚动的外面</span></span></span><br><span class="line"><span class="javascript">    <span class="keyword">var</span> bannerTop = banner.offsetTop</span></span><br><span class="line"><span class="javascript">        <span class="comment">// 当我们侧边栏固定定位之后应该变化的数值</span></span></span><br><span class="line"><span class="javascript">    <span class="keyword">var</span> sliderbarTop = sliderbar.offsetTop - bannerTop;</span></span><br><span class="line"><span class="javascript">    <span class="comment">// 获取main 主体元素</span></span></span><br><span class="line"><span class="javascript">    <span class="keyword">var</span> main = <span class="built_in">document</span>.querySelector(<span class="string">&#x27;.main&#x27;</span>);</span></span><br><span class="line"><span class="javascript">    <span class="keyword">var</span> goBack = <span class="built_in">document</span>.querySelector(<span class="string">&#x27;.goBack&#x27;</span>);</span></span><br><span class="line"><span class="javascript">    <span class="keyword">var</span> mainTop = main.offsetTop;</span></span><br><span class="line"><span class="javascript">    <span class="comment">// 2. 页面滚动事件 scroll</span></span></span><br><span class="line"><span class="javascript">    <span class="built_in">document</span>.addEventListener(<span class="string">&#x27;scroll&#x27;</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">        <span class="comment">// console.log(11);</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">// window.pageYOffset 页面被卷去的头部</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">// console.log(window.pageYOffset);</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">// 3 .当我们页面被卷去的头部大于等于了 172 此时 侧边栏就要改为固定定位</span></span></span><br><span class="line"><span class="javascript">        <span class="keyword">if</span> (<span class="built_in">window</span>.pageYOffset &gt;= bannerTop) &#123;</span></span><br><span class="line"><span class="javascript">            sliderbar.style.position = <span class="string">&#x27;fixed&#x27;</span>;</span></span><br><span class="line"><span class="javascript">            sliderbar.style.top = sliderbarTop + <span class="string">&#x27;px&#x27;</span>;</span></span><br><span class="line"><span class="javascript">        &#125; <span class="keyword">else</span> &#123;</span></span><br><span class="line"><span class="javascript">            sliderbar.style.position = <span class="string">&#x27;absolute&#x27;</span>;</span></span><br><span class="line"><span class="javascript">            sliderbar.style.top = <span class="string">&#x27;300px&#x27;</span>;</span></span><br><span class="line">        &#125;</span><br><span class="line"><span class="javascript">        <span class="comment">// 4. 当我们页面滚动到main盒子，就显示 goback模块</span></span></span><br><span class="line"><span class="javascript">        <span class="keyword">if</span> (<span class="built_in">window</span>.pageYOffset &gt;= mainTop) &#123;</span></span><br><span class="line"><span class="javascript">            goBack.style.display = <span class="string">&#x27;block&#x27;</span>;</span></span><br><span class="line"><span class="javascript">        &#125; <span class="keyword">else</span> &#123;</span></span><br><span class="line"><span class="javascript">            goBack.style.display = <span class="string">&#x27;none&#x27;</span>;</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="页面被卷去的头部兼容性解决方案"><a href="#页面被卷去的头部兼容性解决方案" class="headerlink" title="页面被卷去的头部兼容性解决方案"></a>页面被卷去的头部兼容性解决方案</h3><p>需要注意的是，页面被卷去的头部，有兼容性问题，因此被卷去的头部通常有如下几种写法： </p>
<ol>
<li>声明了 DTD，使用 document.documentElement.scrollTop </li>
<li>未声明 DTD，使用  document.body.scrollTop </li>
<li>新方法 window.pageYOffset 和 window.pageXOffset，IE9 开始支持</li>
</ol>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"> function getScroll() &#123; </span><br><span class="line">    return &#123; </span><br><span class="line">      left: window.pageXOffset || document.documentElement.scrollLeft || document.body.scrollLeft||0, </span><br><span class="line">      top: window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop || 0 </span><br><span class="line">    &#125;; </span><br><span class="line"> &#125;  </span><br><span class="line">使用的时候  getScroll().left</span><br></pre></td></tr></table></figure>

<h2 id="三大系列总结"><a href="#三大系列总结" class="headerlink" title="三大系列总结"></a>三大系列总结</h2><table>
<thead>
<tr>
<th>三大系列大小对比</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>element.offsetWidth</td>
<td>返回自身包括 padding、边框、内容区的宽度，返回数值不带单位</td>
</tr>
<tr>
<td>element.clientWidth</td>
<td>返回自身包括 padding、内容区的宽度，不含边框，返回数值不带单位</td>
</tr>
<tr>
<td>element.scrollWidth</td>
<td>返回自身实际的宽度、不含边框，返回数值不带单位</td>
</tr>
</tbody></table>
<p>![](C:\Users\Xia\Desktop\web api笔记\images\Snipaste_2020-09-16_16-45-43.png)</p>
<p>他们主要用法： </p>
<ol>
<li>offset系列 经常用于获得元素位置    offsetLeft  offsetTop </li>
<li>client 经常用于获取元素大小  clientWidth  clientHeight </li>
<li>scroll 经常用于获取滚动距离  scrollTop  scrollLeft    </li>
<li>注意页面滚动的距离通过 window.pageXOffset  获得 </li>
</ol>
<h2 id="mouseenter-和mouseover的区别"><a href="#mouseenter-和mouseover的区别" class="headerlink" title="mouseenter 和mouseover的区别"></a>mouseenter 和mouseover的区别</h2><h3 id="mouseenter-鼠标事件"><a href="#mouseenter-鼠标事件" class="headerlink" title="mouseenter 鼠标事件"></a>mouseenter 鼠标事件</h3><ul>
<li>当鼠标移动到元素上时就会触发 mouseenter 事件</li>
<li>类似 mouseover，它们两者之间的差别是</li>
<li>mouseover 鼠标经过自身盒子会触发，经过子盒子还会触发。 mouseenter  只会经过自身盒子触发</li>
<li>之所以这样，就是因为mouseenter不会冒泡</li>
<li>跟mouseenter搭配 鼠标离开 mouseleave  同样不会冒泡</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line">        .father &#123;</span><br><span class="line"><span class="css">            <span class="attribute">width</span>: <span class="number">300px</span>;</span></span><br><span class="line"><span class="css">            <span class="attribute">height</span>: <span class="number">300px</span>;</span></span><br><span class="line"><span class="css">            <span class="attribute">background-color</span>: pink;</span></span><br><span class="line"><span class="css">            <span class="attribute">margin</span>: <span class="number">100px</span> auto;</span></span><br><span class="line">        &#125;      </span><br><span class="line">        .son &#123;</span><br><span class="line"><span class="css">            <span class="attribute">width</span>: <span class="number">200px</span>;</span></span><br><span class="line"><span class="css">            <span class="attribute">height</span>: <span class="number">200px</span>;</span></span><br><span class="line"><span class="css">            <span class="attribute">background-color</span>: purple;</span></span><br><span class="line">        &#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;father&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;son&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> father = <span class="built_in">document</span>.querySelector(<span class="string">&#x27;.father&#x27;</span>);</span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> son = <span class="built_in">document</span>.querySelector(<span class="string">&#x27;.son&#x27;</span>);</span></span><br><span class="line"><span class="javascript">        father.addEventListener(<span class="string">&#x27;mouseenter&#x27;</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">            <span class="built_in">console</span>.log(<span class="number">11</span>);</span></span><br><span class="line">        &#125;)</span><br><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id="动画函数封装"><a href="#动画函数封装" class="headerlink" title="动画函数封装"></a>动画函数封装</h2><h3 id="动画实现原理"><a href="#动画实现原理" class="headerlink" title="动画实现原理"></a>动画实现原理</h3><p>核心原理：通过定时器 setInterval() 不断移动盒子位置。</p>
<p>实现步骤： </p>
<ol>
<li>获得盒子当前位置 </li>
<li>让盒子在当前位置加上1个移动距离 </li>
<li>利用定时器不断重复这个操作 </li>
<li>加一个结束定时器的条件 </li>
<li>注意此元素需要添加定位，才能使用element.style.left</li>
</ol>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="css">        <span class="selector-tag">div</span> &#123;</span></span><br><span class="line"><span class="css">            <span class="attribute">position</span>: absolute;</span></span><br><span class="line"><span class="css">            <span class="attribute">left</span>: <span class="number">0</span>;</span></span><br><span class="line"><span class="css">            <span class="attribute">width</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="css">            <span class="attribute">height</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="css">            <span class="attribute">background-color</span>: pink;</span></span><br><span class="line">        &#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">        <span class="comment">// 动画原理</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">// 1. 获得盒子当前位置  </span></span></span><br><span class="line"><span class="javascript">        <span class="comment">// 2. 让盒子在当前位置加上1个移动距离</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">// 3. 利用定时器不断重复这个操作</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">// 4. 加一个结束定时器的条件</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">// 5. 注意此元素需要添加定位， 才能使用element.style.left</span></span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> div = <span class="built_in">document</span>.querySelector(<span class="string">&#x27;div&#x27;</span>);</span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> timer = <span class="built_in">setInterval</span>(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line">            if (div.offsetLeft &gt;= 400) &#123;</span><br><span class="line"><span class="javascript">                <span class="comment">// 停止动画 本质是停止定时器</span></span></span><br><span class="line"><span class="javascript">                <span class="built_in">clearInterval</span>(timer);</span></span><br><span class="line">            &#125;</span><br><span class="line"><span class="javascript">            div.style.left = div.offsetLeft + <span class="number">1</span> + <span class="string">&#x27;px&#x27;</span>;</span></span><br><span class="line">        &#125;, 30);</span><br><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="动画函数简单封装"><a href="#动画函数简单封装" class="headerlink" title="动画函数简单封装"></a>动画函数简单封装</h3><p>注意函数需要传递2个参数，动画对象和移动到的距离。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">span</span>&gt;</span>夏雨荷<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">    <span class="comment">// 简单动画函数封装obj目标对象 target 目标位置</span></span></span><br><span class="line"><span class="javascript">    <span class="function"><span class="keyword">function</span> <span class="title">animate</span>(<span class="params">obj, target</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> timer = <span class="built_in">setInterval</span>(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line">            if (obj.offsetLeft &gt;= target) &#123;</span><br><span class="line"><span class="javascript">                <span class="comment">// 停止动画 本质是停止定时器</span></span></span><br><span class="line"><span class="javascript">                <span class="built_in">clearInterval</span>(timer);</span></span><br><span class="line">            &#125;</span><br><span class="line"><span class="javascript">            obj.style.left = obj.offsetLeft + <span class="number">1</span> + <span class="string">&#x27;px&#x27;</span>;</span></span><br><span class="line">        &#125;, 30);</span><br><span class="line">    &#125;</span><br><span class="line"><span class="javascript">    <span class="keyword">var</span> div = <span class="built_in">document</span>.querySelector(<span class="string">&#x27;div&#x27;</span>);</span></span><br><span class="line"><span class="javascript">    <span class="keyword">var</span> span = <span class="built_in">document</span>.querySelector(<span class="string">&#x27;span&#x27;</span>);</span></span><br><span class="line"><span class="javascript">    <span class="comment">// 调用函数</span></span></span><br><span class="line">    animate(div, 300);</span><br><span class="line">    animate(span, 200);</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="动画函数给不同元素记录不同定时器"><a href="#动画函数给不同元素记录不同定时器" class="headerlink" title="动画函数给不同元素记录不同定时器"></a>动画函数给不同元素记录不同定时器</h3><p>如果多个元素都使用这个动画函数，每次都要var 声明定时器。我们可以给不同的元素使用不同的定时器（自 己专门用自己的定时器）。</p>
<p>核心原理：利用 JS 是一门动态语言，可以很方便的给当前对象添加属性。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">button</span>&gt;</span>点击夏雨荷才走<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">span</span>&gt;</span>夏雨荷<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">    <span class="comment">// var obj = &#123;&#125;;</span></span></span><br><span class="line"><span class="javascript">    <span class="comment">// obj.name = &#x27;andy&#x27;;</span></span></span><br><span class="line"><span class="javascript">    <span class="comment">// 简单动画函数封装obj目标对象 target 目标位置</span></span></span><br><span class="line"><span class="javascript">    <span class="comment">// 给不同的元素指定了不同的定时器</span></span></span><br><span class="line"><span class="javascript">    <span class="function"><span class="keyword">function</span> <span class="title">animate</span>(<span class="params">obj, target</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">        <span class="comment">// 当我们不断的点击按钮，这个元素的速度会越来越快，因为开启了太多的定时器</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">// 解决方案就是 让我们元素只有一个定时器执行</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">// 先清除以前的定时器，只保留当前的一个定时器执行</span></span></span><br><span class="line"><span class="javascript">        <span class="built_in">clearInterval</span>(obj.timer);</span></span><br><span class="line"><span class="javascript">        obj.timer = <span class="built_in">setInterval</span>(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line">            if (obj.offsetLeft &gt;= target) &#123;</span><br><span class="line"><span class="javascript">                <span class="comment">// 停止动画 本质是停止定时器</span></span></span><br><span class="line"><span class="javascript">                <span class="built_in">clearInterval</span>(obj.timer);</span></span><br><span class="line">            &#125;</span><br><span class="line"><span class="javascript">            obj.style.left = obj.offsetLeft + <span class="number">1</span> + <span class="string">&#x27;px&#x27;</span>;</span></span><br><span class="line">        &#125;, 30);</span><br><span class="line">    &#125;</span><br><span class="line"><span class="javascript">    <span class="keyword">var</span> div = <span class="built_in">document</span>.querySelector(<span class="string">&#x27;div&#x27;</span>);</span></span><br><span class="line"><span class="javascript">    <span class="keyword">var</span> span = <span class="built_in">document</span>.querySelector(<span class="string">&#x27;span&#x27;</span>);</span></span><br><span class="line"><span class="javascript">    <span class="keyword">var</span> btn = <span class="built_in">document</span>.querySelector(<span class="string">&#x27;button&#x27;</span>);</span></span><br><span class="line"><span class="javascript">    <span class="comment">// 调用函数</span></span></span><br><span class="line">    animate(div, 300);</span><br><span class="line"><span class="javascript">    btn.addEventListener(<span class="string">&#x27;click&#x27;</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line">        animate(span, 200);</span><br><span class="line">    &#125;)</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="缓动效果原理"><a href="#缓动效果原理" class="headerlink" title="缓动效果原理"></a>缓动效果原理</h3><p>缓动动画就是让元素运动速度有所变化，最常见的是让速度慢慢停下来<br>思路： </p>
<ol>
<li>   让盒子每次移动的距离慢慢变小，速度就会慢慢落下来。 </li>
<li>   核心算法： (目标值 - 现在的位置 )   /   10    做为每次移动的距离 步长 </li>
<li>   停止的条件是： 让当前盒子位置等于目标位置就停止定时器   </li>
<li>   注意步长值需要取整</li>
</ol>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">button</span>&gt;</span>点击夏雨荷才走<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">span</span>&gt;</span>夏雨荷<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">    <span class="comment">// 缓动动画函数封装obj目标对象 target 目标位置</span></span></span><br><span class="line"><span class="javascript">    <span class="comment">// 思路：</span></span></span><br><span class="line"><span class="javascript">    <span class="comment">// 1. 让盒子每次移动的距离慢慢变小， 速度就会慢慢落下来。</span></span></span><br><span class="line"><span class="javascript">    <span class="comment">// 2. 核心算法：(目标值 - 现在的位置) / 10 做为每次移动的距离 步长</span></span></span><br><span class="line"><span class="javascript">    <span class="comment">// 3. 停止的条件是： 让当前盒子位置等于目标位置就停止定时器</span></span></span><br><span class="line"><span class="javascript">    <span class="function"><span class="keyword">function</span> <span class="title">animate</span>(<span class="params">obj, target</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">        <span class="comment">// 先清除以前的定时器，只保留当前的一个定时器执行</span></span></span><br><span class="line"><span class="javascript">        <span class="built_in">clearInterval</span>(obj.timer);</span></span><br><span class="line"><span class="javascript">        obj.timer = <span class="built_in">setInterval</span>(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">            <span class="comment">// 步长值写到定时器的里面</span></span></span><br><span class="line"><span class="javascript">            <span class="keyword">var</span> step = (target - obj.offsetLeft) / <span class="number">10</span>;</span></span><br><span class="line">            if (obj.offsetLeft == target) &#123;</span><br><span class="line"><span class="javascript">                <span class="comment">// 停止动画 本质是停止定时器</span></span></span><br><span class="line"><span class="javascript">                <span class="built_in">clearInterval</span>(obj.timer);</span></span><br><span class="line">            &#125;</span><br><span class="line"><span class="javascript">            <span class="comment">// 把每次加1 这个步长值改为一个慢慢变小的值  步长公式：(目标值 - 现在的位置) / 10</span></span></span><br><span class="line"><span class="javascript">            obj.style.left = obj.offsetLeft + step + <span class="string">&#x27;px&#x27;</span>;</span></span><br><span class="line"></span><br><span class="line">        &#125;, 15);</span><br><span class="line">    &#125;</span><br><span class="line"><span class="javascript">    <span class="keyword">var</span> span = <span class="built_in">document</span>.querySelector(<span class="string">&#x27;span&#x27;</span>);</span></span><br><span class="line"><span class="javascript">    <span class="keyword">var</span> btn = <span class="built_in">document</span>.querySelector(<span class="string">&#x27;button&#x27;</span>);</span></span><br><span class="line"></span><br><span class="line"><span class="javascript">    btn.addEventListener(<span class="string">&#x27;click&#x27;</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">            <span class="comment">// 调用函数</span></span></span><br><span class="line">            animate(span, 500);</span><br><span class="line">        &#125;)</span><br><span class="line"><span class="javascript">        <span class="comment">// 匀速动画 就是 盒子是当前的位置 +  固定的值 10 </span></span></span><br><span class="line"><span class="javascript">        <span class="comment">// 缓动动画就是  盒子当前的位置 + 变化的值(目标值 - 现在的位置) / 10）</span></span></span><br></pre></td></tr></table></figure>

<h3 id="动画函数多个目标值之间移动"><a href="#动画函数多个目标值之间移动" class="headerlink" title="动画函数多个目标值之间移动"></a>动画函数多个目标值之间移动</h3><p>可以让动画函数从 800 移动到 500。 </p>
<p>当我们点击按钮时候，判断步长是正值还是负值 </p>
<ol>
<li>如果是正值，则步长 往大了取整 </li>
<li>如果是负值，则步长 向小了取整</li>
</ol>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">class</span>=<span class="string">&quot;btn500&quot;</span>&gt;</span>点击夏雨荷到500<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">class</span>=<span class="string">&quot;btn800&quot;</span>&gt;</span>点击夏雨荷到800<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">span</span>&gt;</span>夏雨荷<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">    <span class="comment">// 缓动动画函数封装obj目标对象 target 目标位置</span></span></span><br><span class="line"><span class="javascript">    <span class="comment">// 思路：</span></span></span><br><span class="line"><span class="javascript">    <span class="comment">// 1. 让盒子每次移动的距离慢慢变小， 速度就会慢慢落下来。</span></span></span><br><span class="line"><span class="javascript">    <span class="comment">// 2. 核心算法：(目标值 - 现在的位置) / 10 做为每次移动的距离 步长</span></span></span><br><span class="line"><span class="javascript">    <span class="comment">// 3. 停止的条件是： 让当前盒子位置等于目标位置就停止定时器</span></span></span><br><span class="line"><span class="javascript">    <span class="function"><span class="keyword">function</span> <span class="title">animate</span>(<span class="params">obj, target</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">        <span class="comment">// 先清除以前的定时器，只保留当前的一个定时器执行</span></span></span><br><span class="line"><span class="javascript">        <span class="built_in">clearInterval</span>(obj.timer);</span></span><br><span class="line"><span class="javascript">        obj.timer = <span class="built_in">setInterval</span>(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">            <span class="comment">// 步长值写到定时器的里面</span></span></span><br><span class="line"><span class="javascript">            <span class="comment">// 把我们步长值改为整数 不要出现小数的问题</span></span></span><br><span class="line"><span class="javascript">            <span class="comment">// var step = Math.ceil((target - obj.offsetLeft) / 10);</span></span></span><br><span class="line"><span class="javascript">            <span class="keyword">var</span> step = (target - obj.offsetLeft) / <span class="number">10</span>;</span></span><br><span class="line"><span class="javascript">            step = step &gt; <span class="number">0</span> ? <span class="built_in">Math</span>.ceil(step) : <span class="built_in">Math</span>.floor(step);</span></span><br><span class="line">            if (obj.offsetLeft == target) &#123;</span><br><span class="line"><span class="javascript">                <span class="comment">// 停止动画 本质是停止定时器</span></span></span><br><span class="line"><span class="javascript">                <span class="built_in">clearInterval</span>(obj.timer);</span></span><br><span class="line">            &#125;</span><br><span class="line"><span class="javascript">            <span class="comment">// 把每次加1 这个步长值改为一个慢慢变小的值  步长公式：(目标值 - 现在的位置) / 10</span></span></span><br><span class="line"><span class="javascript">            obj.style.left = obj.offsetLeft + step + <span class="string">&#x27;px&#x27;</span>;</span></span><br><span class="line">        &#125;, 15);</span><br><span class="line">    &#125;</span><br><span class="line"><span class="javascript">    <span class="keyword">var</span> span = <span class="built_in">document</span>.querySelector(<span class="string">&#x27;span&#x27;</span>);</span></span><br><span class="line"><span class="javascript">    <span class="keyword">var</span> btn500 = <span class="built_in">document</span>.querySelector(<span class="string">&#x27;.btn500&#x27;</span>);</span></span><br><span class="line"><span class="javascript">    <span class="keyword">var</span> btn800 = <span class="built_in">document</span>.querySelector(<span class="string">&#x27;.btn800&#x27;</span>);</span></span><br><span class="line"><span class="javascript">    btn500.addEventListener(<span class="string">&#x27;click&#x27;</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">        <span class="comment">// 调用函数</span></span></span><br><span class="line">        animate(span, 500);</span><br><span class="line">    &#125;)</span><br><span class="line"><span class="javascript">    btn800.addEventListener(<span class="string">&#x27;click&#x27;</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">            <span class="comment">// 调用函数</span></span></span><br><span class="line">            animate(span, 800);</span><br><span class="line">        &#125;)</span><br><span class="line"><span class="javascript">        <span class="comment">// 匀速动画 就是 盒子是当前的位置 +  固定的值 10 </span></span></span><br><span class="line"><span class="javascript">        <span class="comment">// 缓动动画就是  盒子当前的位置 + 变化的值(目标值 - 现在的位置) / 10）</span></span></span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="动画函数添加回调函数"><a href="#动画函数添加回调函数" class="headerlink" title="动画函数添加回调函数"></a>动画函数添加回调函数</h3><p>回调函数原理：函数可以作为一个参数。将这个函数作为参数传到另一个函数里面，当那个函数执行完之后 ，再执行传进去的这个函数，这个过程就叫做回调。 </p>
<p>回调函数写的位置：定时器结束的位置。 </p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">class</span>=<span class="string">&quot;btn500&quot;</span>&gt;</span>点击夏雨荷到500<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">class</span>=<span class="string">&quot;btn800&quot;</span>&gt;</span>点击夏雨荷到800<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">span</span>&gt;</span>夏雨荷<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">    <span class="comment">// 缓动动画函数封装obj目标对象 target 目标位置</span></span></span><br><span class="line"><span class="javascript">    <span class="comment">// 思路：</span></span></span><br><span class="line"><span class="javascript">    <span class="comment">// 1. 让盒子每次移动的距离慢慢变小， 速度就会慢慢落下来。</span></span></span><br><span class="line"><span class="javascript">    <span class="comment">// 2. 核心算法：(目标值 - 现在的位置) / 10 做为每次移动的距离 步长</span></span></span><br><span class="line"><span class="javascript">    <span class="comment">// 3. 停止的条件是： 让当前盒子位置等于目标位置就停止定时器</span></span></span><br><span class="line"><span class="javascript">    <span class="function"><span class="keyword">function</span> <span class="title">animate</span>(<span class="params">obj, target, callback</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">        <span class="comment">// console.log(callback);  callback = function() &#123;&#125;  调用的时候 callback()</span></span></span><br><span class="line"></span><br><span class="line"><span class="javascript">        <span class="comment">// 先清除以前的定时器，只保留当前的一个定时器执行</span></span></span><br><span class="line"><span class="javascript">        <span class="built_in">clearInterval</span>(obj.timer);</span></span><br><span class="line"><span class="javascript">        obj.timer = <span class="built_in">setInterval</span>(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">            <span class="comment">// 步长值写到定时器的里面</span></span></span><br><span class="line"><span class="javascript">            <span class="comment">// 把我们步长值改为整数 不要出现小数的问题</span></span></span><br><span class="line"><span class="javascript">            <span class="comment">// var step = Math.ceil((target - obj.offsetLeft) / 10);</span></span></span><br><span class="line"><span class="javascript">            <span class="keyword">var</span> step = (target - obj.offsetLeft) / <span class="number">10</span>;</span></span><br><span class="line"><span class="javascript">            step = step &gt; <span class="number">0</span> ? <span class="built_in">Math</span>.ceil(step) : <span class="built_in">Math</span>.floor(step);</span></span><br><span class="line">            if (obj.offsetLeft == target) &#123;</span><br><span class="line"><span class="javascript">                <span class="comment">// 停止动画 本质是停止定时器</span></span></span><br><span class="line"><span class="javascript">                <span class="built_in">clearInterval</span>(obj.timer);</span></span><br><span class="line"><span class="javascript">                <span class="comment">// 回调函数写到定时器结束里面</span></span></span><br><span class="line">                if (callback) &#123;</span><br><span class="line"><span class="javascript">                    <span class="comment">// 调用函数</span></span></span><br><span class="line">                    callback();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line"><span class="javascript">            <span class="comment">// 把每次加1 这个步长值改为一个慢慢变小的值  步长公式：(目标值 - 现在的位置) / 10</span></span></span><br><span class="line"><span class="javascript">            obj.style.left = obj.offsetLeft + step + <span class="string">&#x27;px&#x27;</span>;</span></span><br><span class="line"></span><br><span class="line">        &#125;, 15);</span><br><span class="line">    &#125;</span><br><span class="line"><span class="javascript">    <span class="keyword">var</span> span = <span class="built_in">document</span>.querySelector(<span class="string">&#x27;span&#x27;</span>);</span></span><br><span class="line"><span class="javascript">    <span class="keyword">var</span> btn500 = <span class="built_in">document</span>.querySelector(<span class="string">&#x27;.btn500&#x27;</span>);</span></span><br><span class="line"><span class="javascript">    <span class="keyword">var</span> btn800 = <span class="built_in">document</span>.querySelector(<span class="string">&#x27;.btn800&#x27;</span>);</span></span><br><span class="line"></span><br><span class="line"><span class="javascript">    btn500.addEventListener(<span class="string">&#x27;click&#x27;</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">        <span class="comment">// 调用函数</span></span></span><br><span class="line">        animate(span, 500);</span><br><span class="line">    &#125;)</span><br><span class="line"><span class="javascript">    btn800.addEventListener(<span class="string">&#x27;click&#x27;</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">            <span class="comment">// 调用函数</span></span></span><br><span class="line"><span class="javascript">            animate(span, <span class="number">800</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">                <span class="comment">// alert(&#x27;你好吗&#x27;);</span></span></span><br><span class="line"><span class="javascript">                span.style.backgroundColor = <span class="string">&#x27;red&#x27;</span>;</span></span><br><span class="line">            &#125;);</span><br><span class="line">        &#125;)</span><br><span class="line"><span class="javascript">        <span class="comment">// 匀速动画 就是 盒子是当前的位置 +  固定的值 10 </span></span></span><br><span class="line"><span class="javascript">        <span class="comment">// 缓动动画就是  盒子当前的位置 + 变化的值(目标值 - 现在的位置) / 10）</span></span></span><br></pre></td></tr></table></figure>

<h3 id="动画函数封装到单独JS文件里面"><a href="#动画函数封装到单独JS文件里面" class="headerlink" title="动画函数封装到单独JS文件里面"></a>动画函数封装到单独JS文件里面</h3><p>因为以后经常使用这个动画函数，可以单独封装到一个JS文件里面，使用的时候引用这个JS文件即可。 </p>
<ol>
<li>单独新建一个JS文件 </li>
<li>HTML文件引入 JS 文件</li>
</ol>
<p><strong>动画函数JS代码：</strong></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">function animate(obj, target, callback) &#123;</span><br><span class="line">    // console.log(callback);  callback = function() &#123;&#125;  调用的时候 callback()</span><br><span class="line">    // 先清除以前的定时器，只保留当前的一个定时器执行</span><br><span class="line">    clearInterval(obj.timer);</span><br><span class="line">    obj.timer = setInterval(function() &#123;</span><br><span class="line">        // 步长值写到定时器的里面</span><br><span class="line">        // 把我们步长值改为整数 不要出现小数的问题</span><br><span class="line">        // var step = Math.ceil((target - obj.offsetLeft) / 10);</span><br><span class="line">        var step = (target - obj.offsetLeft) / 10;</span><br><span class="line">        step = step &gt; 0 ? Math.ceil(step) : Math.floor(step);</span><br><span class="line">        if (obj.offsetLeft == target) &#123;</span><br><span class="line">            // 停止动画 本质是停止定时器</span><br><span class="line">            clearInterval(obj.timer);</span><br><span class="line">            // 回调函数写到定时器结束里面</span><br><span class="line">            // if (callback) &#123;</span><br><span class="line">            //     // 调用函数</span><br><span class="line">            //     callback();</span><br><span class="line">            // &#125;</span><br><span class="line">            callback &amp;&amp; callback();</span><br><span class="line">        &#125;</span><br><span class="line">        // 把每次加1 这个步长值改为一个慢慢变小的值  步长公式：(目标值 - 现在的位置) / 10</span><br><span class="line">        obj.style.left = obj.offsetLeft + step + &#x27;px&#x27;;</span><br><span class="line">    &#125;, 15);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>案例：</strong></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line">        .sliderbar &#123;</span><br><span class="line"><span class="css">            <span class="attribute">position</span>: fixed;</span></span><br><span class="line"><span class="css">            <span class="attribute">right</span>: <span class="number">0</span>;</span></span><br><span class="line"><span class="css">            <span class="attribute">bottom</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="css">            <span class="attribute">width</span>: <span class="number">40px</span>;</span></span><br><span class="line"><span class="css">            <span class="attribute">height</span>: <span class="number">40px</span>;</span></span><br><span class="line"><span class="css">            <span class="attribute">text-align</span>: center;</span></span><br><span class="line"><span class="css">            <span class="attribute">line-height</span>: <span class="number">40px</span>;</span></span><br><span class="line"><span class="css">            <span class="attribute">cursor</span>: pointer;</span></span><br><span class="line"><span class="css">            <span class="attribute">color</span>: <span class="number">#fff</span>;</span></span><br><span class="line">        &#125;</span><br><span class="line">        .con &#123;</span><br><span class="line"><span class="css">            <span class="attribute">position</span>: absolute;</span></span><br><span class="line"><span class="css">            <span class="attribute">left</span>: <span class="number">0</span>;</span></span><br><span class="line"><span class="css">            <span class="attribute">top</span>: <span class="number">0</span>;</span></span><br><span class="line"><span class="css">            <span class="attribute">width</span>: <span class="number">200px</span>;</span></span><br><span class="line"><span class="css">            <span class="attribute">height</span>: <span class="number">40px</span>;</span></span><br><span class="line"><span class="css">            <span class="attribute">background-color</span>: purple;</span></span><br><span class="line"><span class="css">            <span class="attribute">z-index</span>: -<span class="number">1</span>;</span></span><br><span class="line">        &#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;animate.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;sliderbar&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">span</span>&gt;</span>←<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;con&quot;</span>&gt;</span>问题反馈<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">        <span class="comment">// 1. 获取元素</span></span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> sliderbar = <span class="built_in">document</span>.querySelector(<span class="string">&#x27;.sliderbar&#x27;</span>);</span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> con = <span class="built_in">document</span>.querySelector(<span class="string">&#x27;.con&#x27;</span>);</span></span><br><span class="line"><span class="javascript">        <span class="comment">// 当我们鼠标经过 sliderbar 就会让 con这个盒子滑动到左侧</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">// 当我们鼠标离开 sliderbar 就会让 con这个盒子滑动到右侧</span></span></span><br><span class="line"><span class="javascript">        sliderbar.addEventListener(<span class="string">&#x27;mouseenter&#x27;</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">            <span class="comment">// animate(obj, target, callback);</span></span></span><br><span class="line"><span class="javascript">            animate(con, -<span class="number">160</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">                <span class="comment">// 当我们动画执行完毕，就把 ← 改为 →</span></span></span><br><span class="line"><span class="javascript">                sliderbar.children[<span class="number">0</span>].innerHTML = <span class="string">&#x27;→&#x27;</span>;</span></span><br><span class="line">            &#125;);</span><br><span class="line">        &#125;)</span><br><span class="line"><span class="javascript">        sliderbar.addEventListener(<span class="string">&#x27;mouseleave&#x27;</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">            <span class="comment">// animate(obj, target, callback);</span></span></span><br><span class="line"><span class="javascript">            animate(con, <span class="number">0</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">                sliderbar.children[<span class="number">0</span>].innerHTML = <span class="string">&#x27;←&#x27;</span>;</span></span><br><span class="line">            &#125;);</span><br><span class="line">        &#125;)</span><br><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id="常见网页特效案例"><a href="#常见网页特效案例" class="headerlink" title="常见网页特效案例"></a>常见网页特效案例</h2><h3 id="案例：网页轮播图"><a href="#案例：网页轮播图" class="headerlink" title="案例：网页轮播图"></a>案例：网页轮播图</h3><p>web API 视频 第六天的案例</p>
<h3 id="节流阀"><a href="#节流阀" class="headerlink" title="节流阀"></a>节流阀</h3><p>防止轮播图按钮连续点击造成播放过快。 </p>
<p>节流阀目的：当上一个函数动画内容执行完毕，再去执行下一个函数动画，让事件无法连续触发。 </p>
<p>核心实现思路：利用回调函数，添加一个变量来控制，锁住函数和解锁函数。</p>
<p>开始设置一个变量 var flag = true; </p>
<p>If(flag) {flag = false; do something}       关闭水龙头 </p>
<p>利用回调函数 动画执行完毕， flag = true     打开水龙头 </p>
<h3 id="案例：返回顶部"><a href="#案例：返回顶部" class="headerlink" title="案例：返回顶部"></a>案例：返回顶部</h3><p>滚动窗口至文档中的特定位置。</p>
<p>window.scroll(x, y) </p>
<p>注意，里面的x和y 不跟单位，直接写数字 </p>
<ol>
<li>带有动画的返回顶部</li>
<li>此时可以继续使用我们封装的动画函数</li>
<li>只需要把所有的left 相关的值改为跟页面垂直滚动距离相关就可以了</li>
<li>页面滚动了多少，可以通过 window.pageYOffset 得到</li>
<li>最后是页面滚动，使用 window.scroll(x,y) </li>
</ol>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;slider-bar&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;goBack&quot;</span>&gt;</span>返回顶部<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;header w&quot;</span>&gt;</span>头部区域<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;banner w&quot;</span>&gt;</span>banner区域<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;main w&quot;</span>&gt;</span>主体部分<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">    <span class="comment">//1. 获取元素</span></span></span><br><span class="line"><span class="javascript">    <span class="keyword">var</span> sliderbar = <span class="built_in">document</span>.querySelector(<span class="string">&#x27;.slider-bar&#x27;</span>);</span></span><br><span class="line"><span class="javascript">    <span class="keyword">var</span> banner = <span class="built_in">document</span>.querySelector(<span class="string">&#x27;.banner&#x27;</span>);</span></span><br><span class="line"><span class="javascript">    <span class="comment">// banner.offestTop 就是被卷去头部的大小 一定要写到滚动的外面</span></span></span><br><span class="line"><span class="javascript">    <span class="keyword">var</span> bannerTop = banner.offsetTop</span></span><br><span class="line"><span class="javascript">        <span class="comment">// 当我们侧边栏固定定位之后应该变化的数值</span></span></span><br><span class="line"><span class="javascript">    <span class="keyword">var</span> sliderbarTop = sliderbar.offsetTop - bannerTop;</span></span><br><span class="line"><span class="javascript">    <span class="comment">// 获取main 主体元素</span></span></span><br><span class="line"><span class="javascript">    <span class="keyword">var</span> main = <span class="built_in">document</span>.querySelector(<span class="string">&#x27;.main&#x27;</span>);</span></span><br><span class="line"><span class="javascript">    <span class="keyword">var</span> goBack = <span class="built_in">document</span>.querySelector(<span class="string">&#x27;.goBack&#x27;</span>);</span></span><br><span class="line"><span class="javascript">    <span class="keyword">var</span> mainTop = main.offsetTop;</span></span><br><span class="line"><span class="javascript">    <span class="comment">// 2. 页面滚动事件 scroll</span></span></span><br><span class="line"><span class="javascript">    <span class="built_in">document</span>.addEventListener(<span class="string">&#x27;scroll&#x27;</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">            <span class="comment">// console.log(11);</span></span></span><br><span class="line"><span class="javascript">            <span class="comment">// window.pageYOffset 页面被卷去的头部</span></span></span><br><span class="line"><span class="javascript">            <span class="comment">// console.log(window.pageYOffset);</span></span></span><br><span class="line"><span class="javascript">            <span class="comment">// 3 .当我们页面被卷去的头部大于等于了 172 此时 侧边栏就要改为固定定位</span></span></span><br><span class="line"><span class="javascript">            <span class="keyword">if</span> (<span class="built_in">window</span>.pageYOffset &gt;= bannerTop) &#123;</span></span><br><span class="line"><span class="javascript">                sliderbar.style.position = <span class="string">&#x27;fixed&#x27;</span>;</span></span><br><span class="line"><span class="javascript">                sliderbar.style.top = sliderbarTop + <span class="string">&#x27;px&#x27;</span>;</span></span><br><span class="line"><span class="javascript">            &#125; <span class="keyword">else</span> &#123;</span></span><br><span class="line"><span class="javascript">                sliderbar.style.position = <span class="string">&#x27;absolute&#x27;</span>;</span></span><br><span class="line"><span class="javascript">                sliderbar.style.top = <span class="string">&#x27;300px&#x27;</span>;</span></span><br><span class="line">            &#125;</span><br><span class="line"><span class="javascript">            <span class="comment">// 4. 当我们页面滚动到main盒子，就显示 goback模块</span></span></span><br><span class="line"><span class="javascript">            <span class="keyword">if</span> (<span class="built_in">window</span>.pageYOffset &gt;= mainTop) &#123;</span></span><br><span class="line"><span class="javascript">                goBack.style.display = <span class="string">&#x27;block&#x27;</span>;</span></span><br><span class="line"><span class="javascript">            &#125; <span class="keyword">else</span> &#123;</span></span><br><span class="line"><span class="javascript">                goBack.style.display = <span class="string">&#x27;none&#x27;</span>;</span></span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">        &#125;)</span><br><span class="line"><span class="javascript">        <span class="comment">// 3. 当我们点击了返回顶部模块，就让窗口滚动的页面的最上方</span></span></span><br><span class="line"><span class="javascript">    goBack.addEventListener(<span class="string">&#x27;click&#x27;</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">        <span class="comment">// 里面的x和y 不跟单位的 直接写数字即可</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">// window.scroll(0, 0);</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">// 因为是窗口滚动 所以对象是window</span></span></span><br><span class="line"><span class="javascript">        animate(<span class="built_in">window</span>, <span class="number">0</span>);</span></span><br><span class="line">    &#125;);</span><br><span class="line"><span class="javascript">    <span class="comment">// 动画函数</span></span></span><br><span class="line"><span class="javascript">    <span class="function"><span class="keyword">function</span> <span class="title">animate</span>(<span class="params">obj, target, callback</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">        <span class="comment">// console.log(callback);  callback = function() &#123;&#125;  调用的时候 callback()</span></span></span><br><span class="line"></span><br><span class="line"><span class="javascript">        <span class="comment">// 先清除以前的定时器，只保留当前的一个定时器执行</span></span></span><br><span class="line"><span class="javascript">        <span class="built_in">clearInterval</span>(obj.timer);</span></span><br><span class="line"><span class="javascript">        obj.timer = <span class="built_in">setInterval</span>(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">            <span class="comment">// 步长值写到定时器的里面</span></span></span><br><span class="line"><span class="javascript">            <span class="comment">// 把我们步长值改为整数 不要出现小数的问题</span></span></span><br><span class="line"><span class="javascript">            <span class="comment">// var step = Math.ceil((target - obj.offsetLeft) / 10);</span></span></span><br><span class="line"><span class="javascript">            <span class="keyword">var</span> step = (target - <span class="built_in">window</span>.pageYOffset) / <span class="number">10</span>;</span></span><br><span class="line"><span class="javascript">            step = step &gt; <span class="number">0</span> ? <span class="built_in">Math</span>.ceil(step) : <span class="built_in">Math</span>.floor(step);</span></span><br><span class="line"><span class="javascript">            <span class="keyword">if</span> (<span class="built_in">window</span>.pageYOffset == target) &#123;</span></span><br><span class="line"><span class="javascript">                <span class="comment">// 停止动画 本质是停止定时器</span></span></span><br><span class="line"><span class="javascript">                <span class="built_in">clearInterval</span>(obj.timer);</span></span><br><span class="line"><span class="javascript">                <span class="comment">// 回调函数写到定时器结束里面</span></span></span><br><span class="line"><span class="javascript">                <span class="comment">// if (callback) &#123;</span></span></span><br><span class="line"><span class="javascript">                <span class="comment">//     // 调用函数</span></span></span><br><span class="line"><span class="javascript">                <span class="comment">//     callback();</span></span></span><br><span class="line"><span class="javascript">                <span class="comment">// &#125;</span></span></span><br><span class="line">                callback &amp;&amp; callback();</span><br><span class="line">            &#125;</span><br><span class="line"><span class="javascript">            <span class="comment">// 把每次加1 这个步长值改为一个慢慢变小的值  步长公式：(目标值 - 现在的位置) / 10</span></span></span><br><span class="line"><span class="javascript">            <span class="comment">// obj.style.left = window.pageYOffset + step + &#x27;px&#x27;;</span></span></span><br><span class="line"><span class="javascript">            <span class="built_in">window</span>.scroll(<span class="number">0</span>, <span class="built_in">window</span>.pageYOffset + step);</span></span><br><span class="line">        &#125;, 15);</span><br><span class="line">    &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="案例：筋头云案例"><a href="#案例：筋头云案例" class="headerlink" title="案例：筋头云案例"></a>案例：筋头云案例</h3><p>鼠标经过某个小li， 筋斗云跟这到当前小li位置 </p>
<p>鼠标离开这个小li， 筋斗云复原为原来的位置 </p>
<p>鼠标点击了某个小li， 筋斗云就会留在点击这个小li 的位置 </p>
<ol>
<li>利用动画函数做动画效果</li>
<li>原先筋斗云的起始位置是0</li>
<li>鼠标经过某个小li， 把当前小li 的 offsetLeft 位置 做为目标值即可</li>
<li>鼠标离开某个小li， 就把目标值设为 0</li>
<li>如果点击了某个小li， 就把li当前的位置存储起来，做为筋斗云的起始位置</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">animate</span>(<span class="params">obj, target, callback</span>) </span>&#123;</span><br><span class="line">    <span class="comment">// console.log(callback);  callback = function() &#123;&#125;  调用的时候 callback()</span></span><br><span class="line">    <span class="comment">// 先清除以前的定时器，只保留当前的一个定时器执行</span></span><br><span class="line">    <span class="built_in">clearInterval</span>(obj.timer);</span><br><span class="line">    obj.timer = <span class="built_in">setInterval</span>(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="comment">// 步长值写到定时器的里面</span></span><br><span class="line">        <span class="comment">// 把我们步长值改为整数 不要出现小数的问题</span></span><br><span class="line">        <span class="comment">// var step = Math.ceil((target - obj.offsetLeft) / 10);</span></span><br><span class="line">        <span class="keyword">var</span> step = (target - obj.offsetLeft) / <span class="number">10</span>;</span><br><span class="line">        step = step &gt; <span class="number">0</span> ? <span class="built_in">Math</span>.ceil(step) : <span class="built_in">Math</span>.floor(step);</span><br><span class="line">        <span class="keyword">if</span> (obj.offsetLeft == target) &#123;</span><br><span class="line">            <span class="comment">// 停止动画 本质是停止定时器</span></span><br><span class="line">            <span class="built_in">clearInterval</span>(obj.timer);</span><br><span class="line">            <span class="comment">// 回调函数写到定时器结束里面</span></span><br><span class="line">            <span class="comment">// if (callback) &#123;</span></span><br><span class="line">            <span class="comment">//     // 调用函数</span></span><br><span class="line">            <span class="comment">//     callback();</span></span><br><span class="line">            <span class="comment">// &#125;</span></span><br><span class="line">            callback &amp;&amp; callback();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// 把每次加1 这个步长值改为一个慢慢变小的值  步长公式：(目标值 - 现在的位置) / 10</span></span><br><span class="line">        obj.style.left = obj.offsetLeft + step + <span class="string">&#x27;px&#x27;</span>;</span><br><span class="line">    &#125;, <span class="number">15</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="移动端网页特效"><a href="#移动端网页特效" class="headerlink" title="移动端网页特效"></a>移动端网页特效</h1>
        </div>

        
            <div class="post-copyright-info">
                <div class="article-copyright-info-container">
    <ul>
        <li>Post title：黑马前端-Web Api笔记</li>
        <li>Post author：Xia</li>
        <li>Create time：2021-10-16 13:20:25</li>
        <li>
            Post link：https://xiaaut.github.io/2021/10/16/黑马前端-Web-Api笔记/
        </li>
        <li>
            Copyright Notice：All articles in this blog are licensed under <a class="license" target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh">BY-NC-SA</a> unless stating additionally.
        </li>
    </ul>
</div>

            </div>
        

        
            <div class="article-nav">
                
                    <div class="article-prev">
                        <a class="prev"
                           rel="prev"
                           href="/2021/10/16/%E9%BB%91%E9%A9%AC%E5%89%8D%E7%AB%AF-JS%E9%AB%98%E7%BA%A7%E7%AC%94%E8%AE%B0/"
                        >
                            <span class="left arrow-icon flex-center">
                              <i class="fas fa-chevron-left"></i>
                            </span>
                            <span class="title flex-center">
                                <span class="post-nav-title-item">黑马前端-JS高级笔记</span>
                                <span class="post-nav-item">Prev posts</span>
                            </span>
                        </a>
                    </div>
                
                
                    <div class="article-next">
                        <a class="next"
                           rel="next"
                           href="/2021/10/16/%E9%BB%91%E9%A9%AC%E5%89%8D%E7%AB%AF-JS%E5%9F%BA%E7%A1%80%E7%AC%94%E8%AE%B0/"
                        >
                            <span class="title flex-center">
                                <span class="post-nav-title-item">黑马前端-JS基础笔记</span>
                                <span class="post-nav-item">Next posts</span>
                            </span>
                            <span class="right arrow-icon flex-center">
                              <i class="fas fa-chevron-right"></i>
                            </span>
                        </a>
                    </div>
                
            </div>
        

        
    </div>
</div>


                
            </div>

        </div>

        <div class="page-main-content-bottom">
            <footer class="footer">
    <div class="info-container">
        <div class="copyright-info info-item">
            &copy;
            
              <span>2020</span>&nbsp;-&nbsp;
            
            2022&nbsp;<i class="fas fa-heart icon-animate"></i>&nbsp;<a href="/">Xia</a>
        </div>
        
            <script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
            <div class="website-count info-item">
                
                    <span id="busuanzi_container_site_uv">
                        Visitor Count&nbsp;<span id="busuanzi_value_site_uv"></span>&ensp;
                    </span>
                
                
                    <span id="busuanzi_container_site_pv">
                        Totalview&nbsp;<span id="busuanzi_value_site_pv"></span>
                    </span>
                
            </div>
        
        <div class="theme-info info-item">
            Powered by <a target="_blank" href="https://hexo.io">Hexo</a>&nbsp;|&nbsp;Theme&nbsp;<a class="theme-version" target="_blank" href="https://github.com/XPoet/hexo-theme-keep">Keep v3.4.3</a>
        </div>
        
    </div>
</footer>

        </div>
    </div>

    
        <div class="post-tools">
            <div class="post-tools-container">
    <ul class="tools-list">
        <!-- TOC aside toggle -->
        
            <li class="tools-item page-aside-toggle">
                <i class="fas fa-outdent"></i>
            </li>
        

        <!-- go comment -->
        
    </ul>
</div>

        </div>
    

    <div class="right-bottom-side-tools">
        <div class="side-tools-container">
    <ul class="side-tools-list">
        <li class="tools-item tool-font-adjust-plus flex-center">
            <i class="fas fa-search-plus"></i>
        </li>

        <li class="tools-item tool-font-adjust-minus flex-center">
            <i class="fas fa-search-minus"></i>
        </li>

        <li class="tools-item tool-expand-width flex-center">
            <i class="fas fa-arrows-alt-h"></i>
        </li>

        <li class="tools-item tool-dark-light-toggle flex-center">
            <i class="fas fa-moon"></i>
        </li>

        <!-- rss -->
        

        

        <li class="tools-item tool-scroll-to-bottom flex-center">
            <i class="fas fa-arrow-down"></i>
        </li>
    </ul>

    <ul class="exposed-tools-list">
        <li class="tools-item tool-toggle-show flex-center">
            <i class="fas fa-cog fa-spin"></i>
        </li>
        
            <li class="tools-item tool-scroll-to-top flex-center">
                <i class="arrow-up fas fa-arrow-up"></i>
                <span class="percent"></span>
            </li>
        
    </ul>
</div>

    </div>

    
        <aside class="page-aside">
            <div class="post-toc-wrap">
    <div class="post-toc">
        <ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#Web-APIs-%E5%92%8C-JS-%E5%9F%BA%E7%A1%80%E5%85%B3%E8%81%94%E6%80%A7"><span class="nav-text">Web APIs 和 JS 基础关联性</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#JS-%E7%9A%84%E7%BB%84%E6%88%90"><span class="nav-text">JS 的组成</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#JS-%E5%9F%BA%E7%A1%80%E9%98%B6%E6%AE%B5%E4%BB%A5%E5%8F%8A-Web-APIs-%E9%98%B6%E6%AE%B5"><span class="nav-text">JS 基础阶段以及 Web APIs 阶段</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#API-%E5%92%8C-Web-API"><span class="nav-text">API 和 Web API</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#API"><span class="nav-text">API</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Web-API"><span class="nav-text">Web API</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#API-%E5%92%8C-Web-API-%E6%80%BB%E7%BB%93"><span class="nav-text">API 和 Web API 总结</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#DOM"><span class="nav-text">DOM</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#DOM%E7%AE%80%E4%BB%8B"><span class="nav-text">DOM简介</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BB%80%E4%B9%88%E6%98%AF-DOM"><span class="nav-text">什么是 DOM</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#DOM-%E6%A0%91"><span class="nav-text">DOM 树</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%8E%B7%E5%8F%96%E5%85%83%E7%B4%A0"><span class="nav-text">获取元素</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%A6%82%E4%BD%95%E8%8E%B7%E5%8F%96%E9%A1%B5%E9%9D%A2%E5%85%83%E7%B4%A0"><span class="nav-text">如何获取页面元素</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%A0%B9%E6%8D%AE-ID-%E8%8E%B7%E5%8F%96"><span class="nav-text">根据 ID 获取</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%A0%B9%E6%8D%AE%E6%A0%87%E7%AD%BE%E5%90%8D%E8%8E%B7%E5%8F%96"><span class="nav-text">根据标签名获取</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%80%9A%E8%BF%87-HTML5-%E6%96%B0%E5%A2%9E%E7%9A%84%E6%96%B9%E6%B3%95%E8%8E%B7%E5%8F%96"><span class="nav-text">通过 HTML5 新增的方法获取</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%8E%B7%E5%8F%96%E7%89%B9%E6%AE%8A%E5%85%83%E7%B4%A0%EF%BC%88body%EF%BC%8Chtml%EF%BC%89"><span class="nav-text">获取特殊元素（body，html）</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BA%8B%E4%BB%B6%E5%9F%BA%E7%A1%80"><span class="nav-text">事件基础</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BA%8B%E4%BB%B6%E6%A6%82%E8%BF%B0"><span class="nav-text">事件概述</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BA%8B%E4%BB%B6%E4%B8%89%E8%A6%81%E7%B4%A0"><span class="nav-text">事件三要素</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%89%A7%E8%A1%8C%E4%BA%8B%E4%BB%B6%E7%9A%84%E6%AD%A5%E9%AA%A4"><span class="nav-text">执行事件的步骤</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%B8%B8%E8%A7%81%E7%9A%84%E9%BC%A0%E6%A0%87%E4%BA%8B%E4%BB%B6"><span class="nav-text">常见的鼠标事件</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%93%8D%E4%BD%9C%E5%85%83%E7%B4%A0"><span class="nav-text">操作元素</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%94%B9%E5%8F%98%E5%85%83%E7%B4%A0%E5%86%85%E5%AE%B9"><span class="nav-text">改变元素内容</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%A1%A8%E5%8D%95%E5%85%83%E7%B4%A0%E7%9A%84%E5%B1%9E%E6%80%A7%E6%93%8D%E4%BD%9C"><span class="nav-text">表单元素的属性操作</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%A1%88%E4%BE%8B%EF%BC%9A%E4%BB%BF%E4%BA%AC%E4%B8%9C%E6%98%BE%E7%A4%BA%E5%AF%86%E7%A0%81"><span class="nav-text">案例：仿京东显示密码</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%A0%B7%E5%BC%8F%E5%B1%9E%E6%80%A7%E6%93%8D%E4%BD%9C"><span class="nav-text">样式属性操作</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%A1%88%E4%BE%8B%EF%BC%9A%E5%BE%AA%E7%8E%AF%E7%B2%BE%E7%81%B5%E5%9B%BE"><span class="nav-text">案例：循环精灵图</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%A1%88%E4%BE%8B%EF%BC%9A%E6%98%BE%E7%A4%BA%E9%9A%90%E8%97%8F%E6%96%87%E6%9C%AC%E6%A1%86%E5%86%85%E5%AE%B9"><span class="nav-text">案例：显示隐藏文本框内容</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%A1%88%E4%BE%8B%EF%BC%9A%E5%AF%86%E7%A0%81%E6%A1%86%E6%A0%BC%E5%BC%8F%E6%8F%90%E7%A4%BA%E9%94%99%E8%AF%AF%E4%BF%A1%E6%81%AF"><span class="nav-text">案例：密码框格式提示错误信息</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%93%8D%E4%BD%9C%E5%85%83%E7%B4%A0%E6%80%BB%E7%BB%93"><span class="nav-text">操作元素总结</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%8E%92%E4%BB%96%E6%80%9D%E6%83%B3"><span class="nav-text">排他思想</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%A1%88%E4%BE%8B%EF%BC%9A%E7%99%BE%E5%BA%A6%E6%8D%A2%E8%82%A4"><span class="nav-text">案例：百度换肤</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%A1%88%E4%BE%8B%EF%BC%9A%E8%A1%A8%E6%A0%BC%E9%9A%94%E8%A1%8C%E5%8F%98%E8%89%B2"><span class="nav-text">案例：表格隔行变色</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%A1%88%E4%BE%8B-%E8%A1%A8%E5%8D%95%E5%85%A8%E9%80%89%E5%8F%96%E6%B6%88%E5%85%A8%E9%80%89%E6%A1%88%E4%BE%8B"><span class="nav-text">案例:表单全选取消全选案例</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%87%AA%E5%AE%9A%E4%B9%89%E5%B1%9E%E6%80%A7%E7%9A%84%E6%93%8D%E4%BD%9C"><span class="nav-text">自定义属性的操作</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%8E%B7%E5%8F%96%E5%B1%9E%E6%80%A7%E7%9A%84%E5%B1%9E%E6%80%A7%E5%80%BC"><span class="nav-text">获取属性的属性值</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%AE%BE%E7%BD%AE%E5%B1%9E%E6%80%A7%E5%B1%9E%E6%80%A7%E5%80%BC"><span class="nav-text">设置属性属性值</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%A7%BB%E9%99%A4%E5%B1%9E%E6%80%A7"><span class="nav-text">移除属性</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%A1%88%E4%BE%8B%EF%BC%9Atab-%E6%A0%8F%E5%88%87%E6%8D%A2%EF%BC%88%E9%87%8D%E7%82%B9%E6%A1%88%E4%BE%8B%EF%BC%89"><span class="nav-text">案例：tab 栏切换（重点案例）</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#H5-%E8%87%AA%E5%AE%9A%E4%B9%89%E5%B1%9E%E6%80%A7"><span class="nav-text">H5 自定义属性</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%AE%BE%E7%BD%AEH5%E8%87%AA%E5%AE%9A%E4%B9%89%E5%B1%9E%E6%80%A7"><span class="nav-text">设置H5自定义属性</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%8E%B7%E5%8F%96H5%E8%87%AA%E5%AE%9A%E4%B9%89%E5%B1%9E%E6%80%A7"><span class="nav-text">获取H5自定义属性</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%8A%82%E7%82%B9%E6%93%8D%E4%BD%9C"><span class="nav-text">节点操作</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%B8%BA%E4%BB%80%E4%B9%88%E5%AD%A6%E8%8A%82%E7%82%B9%E6%93%8D%E4%BD%9C"><span class="nav-text">为什么学节点操作</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%8A%82%E7%82%B9%E6%A6%82%E8%BF%B0"><span class="nav-text">节点概述</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%8A%82%E7%82%B9%E5%B1%82%E7%BA%A7"><span class="nav-text">节点层级</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%88%B6%E7%BA%A7%E8%8A%82%E7%82%B9"><span class="nav-text">父级节点</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%AD%90%E8%8A%82%E7%82%B9"><span class="nav-text">子节点</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%A1%88%E4%BE%8B%EF%BC%9A%E4%B8%8B%E6%8B%89%E8%8F%9C%E5%8D%95"><span class="nav-text">案例：下拉菜单</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%85%84%E5%BC%9F%E8%8A%82%E7%82%B9"><span class="nav-text">兄弟节点</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%88%9B%E5%BB%BA%E8%8A%82%E7%82%B9"><span class="nav-text">创建节点</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%B7%BB%E5%8A%A0%E8%8A%82%E7%82%B9"><span class="nav-text">添加节点</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%A1%88%E4%BE%8B%EF%BC%9A%E7%AE%80%E5%8D%95%E7%89%88%E5%8F%91%E5%B8%83%E7%95%99%E8%A8%80%E6%A1%88%E4%BE%8B"><span class="nav-text">案例：简单版发布留言案例</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%88%A0%E9%99%A4%E8%8A%82%E7%82%B9"><span class="nav-text">删除节点</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%A1%88%E4%BE%8B%EF%BC%9A%E5%88%A0%E9%99%A4%E7%95%99%E8%A8%80%E6%A1%88%E4%BE%8B"><span class="nav-text">案例：删除留言案例</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%A4%8D%E5%88%B6%E8%8A%82%E7%82%B9%EF%BC%88%E5%85%8B%E9%9A%86%E8%8A%82%E7%82%B9%EF%BC%89"><span class="nav-text">复制节点（克隆节点）</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%A1%88%E4%BE%8B%EF%BC%9A%E5%8A%A8%E6%80%81%E7%94%9F%E6%88%90%E8%A1%A8%E6%A0%BC"><span class="nav-text">案例：动态生成表格</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%B8%89%E7%A7%8D%E5%8A%A8%E6%80%81%E5%88%9B%E5%BB%BA%E5%85%83%E7%B4%A0%E5%8C%BA%E5%88%AB"><span class="nav-text">三种动态创建元素区别</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#DOM-%E9%87%8D%E7%82%B9%E6%A0%B8%E5%BF%83"><span class="nav-text">DOM 重点核心</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%88%9B%E5%BB%BA"><span class="nav-text">创建</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%A2%9E"><span class="nav-text">增</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%88%A0"><span class="nav-text">删</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%94%B9"><span class="nav-text">改</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%9F%A5"><span class="nav-text">查</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%B1%9E%E6%80%A7%E6%93%8D%E4%BD%9C"><span class="nav-text">属性操作</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BA%8B%E4%BB%B6%E6%93%8D%E4%BD%9C"><span class="nav-text">事件操作</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E4%BA%8B%E4%BB%B6%E9%AB%98%E7%BA%A7"><span class="nav-text">事件高级</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%B3%A8%E5%86%8C%E4%BA%8B%E4%BB%B6%EF%BC%88%E7%BB%91%E5%AE%9A%E4%BA%8B%E4%BB%B6%EF%BC%89"><span class="nav-text">注册事件（绑定事件）</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%B3%A8%E5%86%8C%E4%BA%8B%E4%BB%B6%E6%A6%82%E8%BF%B0"><span class="nav-text">注册事件概述</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#addEventListener-%E4%BA%8B%E4%BB%B6%E7%9B%91%E5%90%AC%E6%96%B9%E5%BC%8F"><span class="nav-text">addEventListener 事件监听方式</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#attachEvent-%E4%BA%8B%E4%BB%B6%E7%9B%91%E5%90%AC%E6%96%B9%E5%BC%8F%EF%BC%88%E4%BA%86%E8%A7%A3%EF%BC%8C%E7%94%A8%E4%B8%8D%E5%88%B0%EF%BC%89"><span class="nav-text">attachEvent 事件监听方式（了解，用不到）</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%B3%A8%E5%86%8C%E4%BA%8B%E4%BB%B6%E5%85%BC%E5%AE%B9%E6%80%A7%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88"><span class="nav-text">注册事件兼容性解决方案</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%88%A0%E9%99%A4%E4%BA%8B%E4%BB%B6%EF%BC%88%E8%A7%A3%E7%BB%91%E4%BA%8B%E4%BB%B6%EF%BC%89"><span class="nav-text">删除事件（解绑事件）</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%88%A0%E9%99%A4%E4%BA%8B%E4%BB%B6%E7%9A%84%E6%96%B9%E5%BC%8F"><span class="nav-text">删除事件的方式</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%88%A0%E9%99%A4%E4%BA%8B%E4%BB%B6%E5%85%BC%E5%AE%B9%E6%80%A7%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88"><span class="nav-text">删除事件兼容性解决方案</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#DOM-%E4%BA%8B%E4%BB%B6%E6%B5%81"><span class="nav-text">DOM 事件流</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BA%8B%E4%BB%B6%E5%AF%B9%E8%B1%A1"><span class="nav-text">事件对象</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BB%80%E4%B9%88%E6%98%AF%E4%BA%8B%E4%BB%B6%E5%AF%B9%E8%B1%A1"><span class="nav-text">什么是事件对象</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BA%8B%E4%BB%B6%E5%AF%B9%E8%B1%A1%E7%9A%84%E4%BD%BF%E7%94%A8%E8%AF%AD%E6%B3%95"><span class="nav-text">事件对象的使用语法</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BA%8B%E4%BB%B6%E5%AF%B9%E8%B1%A1%E7%9A%84%E5%85%BC%E5%AE%B9%E6%80%A7%E6%96%B9%E6%A1%88"><span class="nav-text">事件对象的兼容性方案</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BA%8B%E4%BB%B6%E5%AF%B9%E8%B1%A1%E7%9A%84%E5%B8%B8%E8%A7%81%E5%B1%9E%E6%80%A7%E5%92%8C%E6%96%B9%E6%B3%95"><span class="nav-text">事件对象的常见属性和方法</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BA%8B%E4%BB%B6%E5%AF%B9%E8%B1%A1%E7%9A%84%E5%B8%B8%E8%A7%81%E5%B1%9E%E6%80%A7%E5%92%8C%E6%96%B9%E6%B3%95-1"><span class="nav-text">事件对象的常见属性和方法</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%98%BB%E6%AD%A2%E4%BA%8B%E4%BB%B6%E5%86%92%E6%B3%A1"><span class="nav-text">阻止事件冒泡</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%98%BB%E6%AD%A2%E4%BA%8B%E4%BB%B6%E5%86%92%E6%B3%A1%E7%9A%84%E4%B8%A4%E7%A7%8D%E6%96%B9%E5%BC%8F"><span class="nav-text">阻止事件冒泡的两种方式</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%98%BB%E6%AD%A2%E4%BA%8B%E4%BB%B6%E5%86%92%E6%B3%A1%E7%9A%84%E5%85%BC%E5%AE%B9%E6%80%A7%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88"><span class="nav-text">阻止事件冒泡的兼容性解决方案</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BA%8B%E4%BB%B6%E5%A7%94%E6%89%98%EF%BC%88%E4%BB%A3%E7%90%86%E3%80%81%E5%A7%94%E6%B4%BE%EF%BC%89"><span class="nav-text">事件委托（代理、委派）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%B8%B8%E7%94%A8%E7%9A%84%E9%BC%A0%E6%A0%87%E4%BA%8B%E4%BB%B6"><span class="nav-text">常用的鼠标事件</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%B8%B8%E7%94%A8%E7%9A%84%E4%BA%8B%E4%BB%B6"><span class="nav-text">常用的事件</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%BC%A0%E6%A0%87%E4%BA%8B%E4%BB%B6%E5%AF%B9%E8%B1%A1"><span class="nav-text">鼠标事件对象</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%A1%88%E4%BE%8B%EF%BC%9A%E8%B7%9F%E9%9A%8F%E9%BC%A0%E6%A0%87%E7%9A%84%E5%A4%A9%E4%BD%BF"><span class="nav-text">案例：跟随鼠标的天使</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%B8%B8%E7%94%A8%E7%9A%84%E9%94%AE%E7%9B%98%E4%BA%8B%E4%BB%B6"><span class="nav-text">常用的键盘事件</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%B8%B8%E7%94%A8%E9%94%AE%E7%9B%98%E4%BA%8B%E4%BB%B6"><span class="nav-text">常用键盘事件</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#ASCII-%E8%A1%A8"><span class="nav-text">ASCII 表</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%94%AE%E7%9B%98%E4%BA%8B%E4%BB%B6%E5%AF%B9%E8%B1%A1"><span class="nav-text">键盘事件对象</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%A1%88%E4%BE%8B%EF%BC%9A%E6%A8%A1%E6%8B%9F%E4%BA%AC%E4%B8%9C%E6%8C%89%E9%94%AE%E8%BE%93%E5%85%A5%E5%86%85%E5%AE%B9"><span class="nav-text">案例：模拟京东按键输入内容</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%A1%88%E4%BE%8B%EF%BC%9A%E6%A8%A1%E6%8B%9F%E4%BA%AC%E4%B8%9C%E5%BF%AB%E9%80%92%E5%8D%95%E5%8F%B7%E6%9F%A5%E8%AF%A2"><span class="nav-text">案例：模拟京东快递单号查询</span></a></li></ol></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#BOM-%E6%B5%8F%E8%A7%88%E5%99%A8%E5%AF%B9%E8%B1%A1%E6%A8%A1%E5%9E%8B"><span class="nav-text">BOM 浏览器对象模型</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#BOM-%E6%A6%82%E8%BF%B0"><span class="nav-text">BOM 概述</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BB%80%E4%B9%88%E6%98%AF-BOM"><span class="nav-text">什么是 BOM</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#BOM-%E7%9A%84%E6%9E%84%E6%88%90"><span class="nav-text">BOM 的构成</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#window-%E5%AF%B9%E8%B1%A1%E7%9A%84%E5%B8%B8%E8%A7%81%E4%BA%8B%E4%BB%B6"><span class="nav-text">window 对象的常见事件</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%AA%97%E5%8F%A3%E5%8A%A0%E8%BD%BD%E4%BA%8B%E4%BB%B6"><span class="nav-text">窗口加载事件</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%B0%83%E6%95%B4%E7%AA%97%E5%8F%A3%E5%A4%A7%E5%B0%8F%E4%BA%8B%E4%BB%B6"><span class="nav-text">调整窗口大小事件</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%AE%9A%E6%97%B6%E5%99%A8"><span class="nav-text">定时器</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%B8%A4%E7%A7%8D%E5%AE%9A%E6%97%B6%E5%99%A8"><span class="nav-text">两种定时器</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#setTimeout-%E5%AE%9A%E6%97%B6%E5%99%A8"><span class="nav-text">setTimeout() 定时器</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%A1%88%E4%BE%8B%EF%BC%9A5%E7%A7%92%E5%90%8E%E8%87%AA%E5%8A%A8%E5%85%B3%E9%97%AD%E7%9A%84%E5%B9%BF%E5%91%8A"><span class="nav-text">案例：5秒后自动关闭的广告</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%81%9C%E6%AD%A2-setTimeout-%E5%AE%9A%E6%97%B6%E5%99%A8"><span class="nav-text">停止 setTimeout() 定时器</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#setInterval-%E5%AE%9A%E6%97%B6%E5%99%A8"><span class="nav-text">setInterval() 定时器</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%A1%88%E4%BE%8B%EF%BC%9A%E5%80%92%E8%AE%A1%E6%97%B6"><span class="nav-text">案例：倒计时</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%81%9C%E6%AD%A2-setInterval-%E5%AE%9A%E6%97%B6%E5%99%A8"><span class="nav-text">停止 setInterval() 定时器</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%A1%88%E4%BE%8B%EF%BC%9A%E5%8F%91%E9%80%81%E7%9F%AD%E4%BF%A1"><span class="nav-text">案例：发送短信</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#this"><span class="nav-text">this</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#JS-%E6%89%A7%E8%A1%8C%E9%98%9F%E5%88%97"><span class="nav-text">JS 执行队列</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#JS-%E6%98%AF%E5%8D%95%E7%BA%BF%E7%A8%8B"><span class="nav-text">JS 是单线程</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%90%8C%E6%AD%A5%E5%92%8C%E5%BC%82%E6%AD%A5"><span class="nav-text">同步和异步</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#JS-%E6%89%A7%E8%A1%8C%E6%9C%BA%E5%88%B6"><span class="nav-text">JS 执行机制</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#location-%E5%AF%B9%E8%B1%A1"><span class="nav-text">location 对象</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BB%80%E4%B9%88%E6%98%AF-location-%E5%AF%B9%E8%B1%A1"><span class="nav-text">什么是 location 对象</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#URL"><span class="nav-text">URL</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#location-%E5%AF%B9%E8%B1%A1%E7%9A%84%E5%B1%9E%E6%80%A7"><span class="nav-text">location 对象的属性</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%A1%88%E4%BE%8B%EF%BC%9A-5%E7%A7%92%E9%92%9F%E4%B9%8B%E5%90%8E%E8%87%AA%E5%8A%A8%E8%B7%B3%E8%BD%AC%E9%A1%B5%E9%9D%A2"><span class="nav-text">案例： 5秒钟之后自动跳转页面</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%A1%88%E4%BE%8B%EF%BC%9A-%E8%8E%B7%E5%8F%96-URL-%E5%8F%82%E6%95%B0%E6%95%B0%E6%8D%AE"><span class="nav-text">案例： 获取 URL 参数数据</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#location-%E5%AF%B9%E8%B1%A1%E7%9A%84%E6%96%B9%E6%B3%95"><span class="nav-text">location 对象的方法</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#navigator-%E5%AF%B9%E8%B1%A1"><span class="nav-text">navigator 对象</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#history-%E5%AF%B9%E8%B1%A1"><span class="nav-text">history 对象</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#PC-%E7%AB%AF%E7%BD%91%E9%A1%B5%E7%89%B9%E6%95%88"><span class="nav-text">PC 端网页特效</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%85%83%E7%B4%A0%E5%81%8F%E7%A7%BB%E9%87%8F-offset-%E7%B3%BB%E5%88%97"><span class="nav-text">元素偏移量 offset 系列</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#offset-%E6%A6%82%E8%BF%B0"><span class="nav-text">offset 概述</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#offset-%E4%B8%8E-style-%E5%8C%BA%E5%88%AB"><span class="nav-text">offset 与 style 区别</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%A1%88%E4%BE%8B%EF%BC%9A%E8%8E%B7%E5%8F%96%E9%BC%A0%E6%A0%87%E5%9C%A8%E7%9B%92%E5%AD%90%E5%86%85%E7%9A%84%E5%9D%90%E6%A0%87"><span class="nav-text">案例：获取鼠标在盒子内的坐标</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%A1%88%E4%BE%8B%EF%BC%9A%E6%A8%A1%E6%80%81%E6%A1%86%E6%8B%96%E6%8B%BD"><span class="nav-text">案例：模态框拖拽</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%A1%88%E4%BE%8B%EF%BC%9A%E4%BB%BF%E4%BA%AC%E4%B8%9C%E6%94%BE%E5%A4%A7%E9%95%9C"><span class="nav-text">案例：仿京东放大镜</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%85%83%E7%B4%A0%E5%8F%AF%E8%A7%86%E5%8C%BA-client-%E7%B3%BB%E5%88%97"><span class="nav-text">元素可视区 client 系列</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%A1%88%E4%BE%8B%EF%BC%9A-%E6%B7%98%E5%AE%9D-flexible-js-%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90"><span class="nav-text">案例： 淘宝 flexible.js 源码分析</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%85%83%E7%B4%A0%E6%BB%9A%E5%8A%A8-scroll-%E7%B3%BB%E5%88%97"><span class="nav-text">元素滚动 scroll 系列</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%85%83%E7%B4%A0-scroll-%E7%B3%BB%E5%88%97%E5%B1%9E%E6%80%A7"><span class="nav-text">元素 scroll 系列属性</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%A1%B5%E9%9D%A2%E8%A2%AB%E5%8D%B7%E5%8E%BB%E7%9A%84%E5%A4%B4%E9%83%A8"><span class="nav-text">页面被卷去的头部</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%A1%88%E4%BE%8B%EF%BC%9A%E4%BB%BF%E6%B7%98%E5%AE%9D%E5%9B%BA%E5%AE%9A%E5%8F%B3%E4%BE%A7%E4%BE%A7%E8%BE%B9%E6%A0%8F"><span class="nav-text">案例：仿淘宝固定右侧侧边栏</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%A1%B5%E9%9D%A2%E8%A2%AB%E5%8D%B7%E5%8E%BB%E7%9A%84%E5%A4%B4%E9%83%A8%E5%85%BC%E5%AE%B9%E6%80%A7%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88"><span class="nav-text">页面被卷去的头部兼容性解决方案</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%B8%89%E5%A4%A7%E7%B3%BB%E5%88%97%E6%80%BB%E7%BB%93"><span class="nav-text">三大系列总结</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#mouseenter-%E5%92%8Cmouseover%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="nav-text">mouseenter 和mouseover的区别</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#mouseenter-%E9%BC%A0%E6%A0%87%E4%BA%8B%E4%BB%B6"><span class="nav-text">mouseenter 鼠标事件</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%8A%A8%E7%94%BB%E5%87%BD%E6%95%B0%E5%B0%81%E8%A3%85"><span class="nav-text">动画函数封装</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%8A%A8%E7%94%BB%E5%AE%9E%E7%8E%B0%E5%8E%9F%E7%90%86"><span class="nav-text">动画实现原理</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%8A%A8%E7%94%BB%E5%87%BD%E6%95%B0%E7%AE%80%E5%8D%95%E5%B0%81%E8%A3%85"><span class="nav-text">动画函数简单封装</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%8A%A8%E7%94%BB%E5%87%BD%E6%95%B0%E7%BB%99%E4%B8%8D%E5%90%8C%E5%85%83%E7%B4%A0%E8%AE%B0%E5%BD%95%E4%B8%8D%E5%90%8C%E5%AE%9A%E6%97%B6%E5%99%A8"><span class="nav-text">动画函数给不同元素记录不同定时器</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%BC%93%E5%8A%A8%E6%95%88%E6%9E%9C%E5%8E%9F%E7%90%86"><span class="nav-text">缓动效果原理</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%8A%A8%E7%94%BB%E5%87%BD%E6%95%B0%E5%A4%9A%E4%B8%AA%E7%9B%AE%E6%A0%87%E5%80%BC%E4%B9%8B%E9%97%B4%E7%A7%BB%E5%8A%A8"><span class="nav-text">动画函数多个目标值之间移动</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%8A%A8%E7%94%BB%E5%87%BD%E6%95%B0%E6%B7%BB%E5%8A%A0%E5%9B%9E%E8%B0%83%E5%87%BD%E6%95%B0"><span class="nav-text">动画函数添加回调函数</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%8A%A8%E7%94%BB%E5%87%BD%E6%95%B0%E5%B0%81%E8%A3%85%E5%88%B0%E5%8D%95%E7%8B%ACJS%E6%96%87%E4%BB%B6%E9%87%8C%E9%9D%A2"><span class="nav-text">动画函数封装到单独JS文件里面</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%B8%B8%E8%A7%81%E7%BD%91%E9%A1%B5%E7%89%B9%E6%95%88%E6%A1%88%E4%BE%8B"><span class="nav-text">常见网页特效案例</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%A1%88%E4%BE%8B%EF%BC%9A%E7%BD%91%E9%A1%B5%E8%BD%AE%E6%92%AD%E5%9B%BE"><span class="nav-text">案例：网页轮播图</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%8A%82%E6%B5%81%E9%98%80"><span class="nav-text">节流阀</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%A1%88%E4%BE%8B%EF%BC%9A%E8%BF%94%E5%9B%9E%E9%A1%B6%E9%83%A8"><span class="nav-text">案例：返回顶部</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%A1%88%E4%BE%8B%EF%BC%9A%E7%AD%8B%E5%A4%B4%E4%BA%91%E6%A1%88%E4%BE%8B"><span class="nav-text">案例：筋头云案例</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E7%A7%BB%E5%8A%A8%E7%AB%AF%E7%BD%91%E9%A1%B5%E7%89%B9%E6%95%88"><span class="nav-text">移动端网页特效</span></a></li></ol>
    </div>
</div>
        </aside>
    

    <div class="image-viewer-container">
    <img src="">
</div>


    
        <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
          <span class="search-input-field-pre">
            <i class="fas fa-keyboard"></i>
          </span>
            <div class="search-input-container">
                <input autocomplete="off"
                       autocorrect="off"
                       autocapitalize="off"
                       placeholder="Search..."
                       spellcheck="false"
                       type="search"
                       class="search-input"
                >
            </div>
            <span class="popup-btn-close">
                <i class="fas fa-times"></i>
            </span>
        </div>
        <div id="search-result">
            <div id="no-result">
                <i class="fas fa-spinner fa-pulse fa-5x fa-fw"></i>
            </div>
        </div>
    </div>
</div>

    

</main>




<script src="/js/utils.js"></script>

<script src="/js/main.js"></script>

<script src="/js/header-shrink.js"></script>

<script src="/js/back2top.js"></script>

<script src="/js/dark-light-toggle.js"></script>



    
<script src="/js/local-search.js"></script>




    
<script src="/js/code-copy.js"></script>




    
<script src="/js/lazyload.js"></script>



<div class="post-scripts pjax">
    
        
<script src="/js/left-side-toggle.js"></script>

<script src="/js/libs/anime.min.js"></script>

<script src="/js/toc.js"></script>

    
</div>


    
<script src="/js/libs/pjax.min.js"></script>

<script>
    window.addEventListener('DOMContentLoaded', () => {
        window.pjax = new Pjax({
            selectors: [
                'head title',
                '.page-container',
                '.pjax'
            ],
            history: true,
            debug: false,
            cacheBust: false,
            timeout: 0,
            analytics: false,
            currentUrlFullReload: false,
            scrollRestoration: false,
            // scrollTo: true,
        });

        document.addEventListener('pjax:send', () => {
            KEEP.utils.pjaxProgressBarStart();
        });

        document.addEventListener('pjax:complete', () => {
            KEEP.utils.pjaxProgressBarEnd();
            window.pjax.executeScripts(document.querySelectorAll('script[data-pjax], .pjax script'));
            KEEP.refresh();
        });
    });
</script>



</body>
</html>
